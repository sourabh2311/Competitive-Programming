(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),a=n(64);n(32);var r,s={},l=o.body.data();if(s.is_mobile=!0===l.isMobile,s.isMobile=s.is_mobile,s.is_ios=!0===l.isIos,s.is_android=!0===l.isAndroid,s.is_native=s.is_ios||s.is_android,s.app_version=new a(l.appVersion),s.user_is_authenticated=o.body.hasClass("active"),s.userIsAuthenticated=s.user_is_authenticated,s.b2=o.body.hasClass("b2"),s.isBrilliantPremium=s.b2,s.isBrilliantPro=!0===l.isBrilliantPro,s.media_host=l.mediaHost,s.instant_try_it_yourself=o.body.hasClass("instant-try-it-yourself"),s.mcq_ui_updates=o.body.hasClass("mcq-ui-updates"),s.supports_local_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),s.is_ios){var c=/OS (\d+_\d+(_\d+)?)/.exec(navigator.appVersion);if(c){var d=c[1];c[2]||(d+="_0"),d=d.replace(/_/g,"."),s.ios_version=new a(d)}}s.supportsAnimation=(r=null,function(){if(null!==r)return r;r=!1;var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(void 0!==t.style.animationName&&(r=!0),!1===r)for(var n=0;n<e.length;n++)if(void 0!==t.style[e[n]+"AnimationName"]){e[n].toLowerCase(),r=!0;break}return r}),window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]},window.history.pushState=window.history.pushState||o.noop,s.commaFormat=function(e){return(e=""+e).indexOf(".")>-1&&(e=e.split(".")[0]),e.length>3?s.commaFormat(e.substring(0,e.length-3))+","+e.substring(e.length-3):"".length?e+".":e},s.getRelativeUrl=function(){return location.pathname+location.search},s.toggleComponentDebug=function(e){e.on("click",function(e){e.preventDefault(),o("div.debug_component_info").toggle()})},s.showFeedbackModal=function(e){e.on("click",function(e){e.preventDefault(),o.id("feedback-modal").clone().modal("show")})},"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(e){e=e||function(){};for(var t=0,n=this.length,i=[];t<n;t++)i.push(e.apply(this,[this[t]]));return i}),Array.prototype.remove=function(e){return this.splice(this.indexOf(e),1),this},"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return t;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return o.trim(this)});var u=window.ie_version||!1;o(function(){var e=[],t=[];if(e.push("no-js"),t.push("js"),!1!==u||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){if(t.push("ie"),!u)try{u=parseInt(navigator.userAgent.match(/msie\ (\d{1,2})/i)[1],10)}catch(e){u=10}-1===u&&t.push("ie-noncompatible"),u>=9&&t.push("ie-modern"),u>=6&&t.push("ie-"+u)}else{var n=navigator.userAgent.toLowerCase();-1!==n.indexOf("applewebkit")?(t.push("webkit"),"object"===i(window.chrome)&&t.push("chrome")):-1!==n.indexOf("gecko")?t.push("mozilla"):-1!==n.indexOf("presto")?(t.push("opera"),-1!==n.indexOf("opera mini")&&t.push("opera-mini")):-1!==n.indexOf("series40")&&t.push("s40");var a=n.match(/android\s([0-9\.]*)/);null!==a&&(parseFloat(a[1])>=4.4?t.push("android-newer"):t.push("android-older"));var r=window._cio||null;-1!==n.indexOf("android")&&null!==r&&r.track("logged_in_with_android_browser")}o.body.removeClass(e.join(" ")).addClass(t.join(" "))}),window._fb_status=window._fb_status||[],window.fb_auth_status=function(e){_fb_status.push(e||function(){})},e.exports=s},,function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(62),r=n(61),s=n(7),l=n(11),c=n(18),d=n(8);n(60),window.vkey=window.vkey||{},window.vkey.handle=function(e,t){var n=i("#cmp_".concat(t,"_id"));return 0===n.length&&(n=i(".cmp_".concat(t,"_id"))),i.window.trigger(i.Event("vkey.beforeupdate.".concat(e.component_key),{$cmp:n})),n.html(e.new_html),f.init(n),s.initGenericControllers(n),d.set_analytics_events(n),i.window.trigger(i.Event("vkey.afterupdate.".concat(e.component_key),{$cmp:n})),c.loadForElement(n),n.find(".cmp-deferred").each(function(){p.add(i(this))}),n};var u=function e(t){return this instanceof e?(this.key=t||!1,this):new e(t)};u.prototype={post:function(e,t){return this.send(e,t,"POST")},get:function(e,t){return this.send(e,t,"GET")},form:function(e,t){e=e||"",t=t||{};var n={},o=i(e);return 0===o.length?this:(n.url="string"==typeof t.url?t.url:o.attr("action"),n.url=n.url||"",n.url=0===n.url.length?window.location.href:n.url,o.find("input:not([type=radio], [type=checkbox]),input[type=checkbox]:checked,input[type=radio]:checked,input[type=checkbox]:selected,select,textarea").each(function(e,t){var i=this.name||"";i.length>0&&(n[i]&&n[i]!==this.value?n[i]instanceof Array?n[i].push(this.value):n[i]=[n[i],this.value]:n[i]=this.value)}),t=i.extend(!0,{},n,t,o.data()),o.find("button,input[type=submit],.btn").prop("disabled","disabled").addClass("dim"),this.send(t.url,t,"POST"))},send:function(e,t,n){var o=this;return e=e||"",t=t||{},n=n||"POST",t.page_key=t.page_key||this.key,t.version=t.version||VERSIONS[t.page_key]||-1,t.deferred=t.deferred||!1,t.timeout=t.timeout||9e4,a.isSameOrigin(e)?(i.ajax({url:e,data:t,type:n,timeout:t.timeout,cache:!1,success:function(e){"string"==typeof e.redirect&&(t.redirectHandler?s.executeFunctionByName(t.redirectHandler,e.redirect,t):window.location=e.redirect),i.each(e.actions||{},function(e,n){var a=VERSIONS[n.component_key]||-1;if(a===n.version)n.result&&n.result.reload?u(t.page_key).get(n.result.reload,{param_key:e,version:a}):o.success(e,n,t.deferred);else{VERSIONS[n.component_key]=n.version;var s=n.js_failure_mode;switch(Math.abs(a-n.version)>1&&(s="hard"),i(".hide-on-error").hide(),s){case"soft_with_update":r.warning("Some of the information in that request was out of date due to changes to our server code. We're updating the page."),o.success(e,n);break;case"soft_without_update":r.warning("Some of the information in that request was out of date due to changes to our server code. You must refresh the page and try again.");break;case"no_warn_no_update":break;case"hard":r.warning('Some of the information in that request was out of date due to changes to our server code. This page will refresh in 5 seconds. <a href="'+window.location.href+'">Refresh now.</a>'),setTimeout(function(){window.location.reload()},5e3);break;default:throw new Error("Unknown failure mode ".concat(s))}}}),i.each(e.ajax_tracked_events||{},function(e,t){d.track(t.event_name,t.event_properties)}),i.each(e.messages||{},function(e,t){"error"==t.message_type?r.error(t.message_text):r.warning(t.message_text)})},error:function(e){o.error(e,t)}}),this):o.error({error:"csrf",responseText:"CSRF error",status:0})},error:function(e,t){i(".hide-on-error").hide(),e.status=e.status||0,t.page_key=this.key,delete t.version,delete t.csrfmiddlewaretoken,delete t.deferred,"timeout"===e.statusText?(l.timeoutError(),t.timeoutHandler&&(s.executeFunctionByName(t.timeoutHandler,t),delete t.timeoutHandler),d.track("timeout_errors",t)):e.status>0&&(l.handler(e),t.status=e.status,d.track("ajax_errors",t))},success:function(e,t,n){(window.vkey[t.component_key]||window.vkey.handle)(t,e,n||!1)}};var f={_blacklist:['[action*="account/"]','[action*="avatar/"]'],init:function(e){if(!window.django){e=e||i("body");var t="form:not(.disable-auto-submit, "+f._blacklist.join(", ")+")";e.find("form").each(function(){var e=i(this);e.is(t)&&(e.off_on("submit.auto_submit",function(e){e.preventDefault(),f.process.apply(this,arguments)}),e.not(".disable_submit_auto_disabling")&&e.submit_auto_disable())})}},process:function(e){e.preventDefault(),u("assessment").form(i(this).get(0))},disable:function(e){e.off("submit.auto_submit")}};u.autosubmit=f;var p={cmps:[],count:0,listening:!1,show_overridden:!1,should_autoshow:/opera mini|series40/i};u.deferred=p,p.add=function(e){this.should_autoshow.test(navigator.userAgent)?p.load(e):e.is(":visible")?e.is_in_pane()?p.load(e):(p.cmps.push(e),p.count++,p.listening||p.listen()):p.check_for_unhide()},p.listen=function(){this.listening=!0,i(window).on("scroll.deferred",o.throttle(function(e){for(var t=0,n=p.cmps.length,o=!1;t<n;t++)!1!==(o=p.cmps[t])&&o.is_in_pane()&&(p.load(o),p.cmps[t]=!1,p.count--,0===p.count&&(p.listening=!1,i(window).off("scroll.deferred")))},16))},p.check_for_unhide=function(e){if(!this.show_overridden){this.show_overridden=!0;var t=i.fn.show;i.fn.show=function(e,n){return i(this).each(function(){var o=i(this);t.apply(o,[e,n]),o.find(".cmp-deferred").each(function(){var e=i(this);e.is(":visible")&&p.load(e)})})}}},p.load=function(e){var t=e.data();e.find(".js").addClass("spinner"),u(t.cmp_page_key).get(t.cmp_url,{version:VERSIONS[t.cmp_component_key],param_key:t.cmp_param_key,deferred:!0})},i(function(){i("form:not(.disable_submit_auto_disabling, #_fb_login)").submit_auto_disable(),i("form").each(function(){""===i(this).attr("action")&&i(this).attr("action",window.location.href)}),f.init(),i(".cmp-deferred").each(function(){p.add(i(this))})}),e.exports=u},,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),a=n(1),r=n(27),s=function(e,t,n,o){for(var a=function(){r.captureMessage("Invalid controller: "+(t.context?t.context+":":"")+t.name)},s=t.name.split("."),l=s.pop(),c=0;c<s.length;c++)if("object"!==i(e=e[s[c]]))return void a();"function"==typeof e[l]?function(e,t,n,i){e[l].apply(n,i)}(e,0,n,o):a()};function l(e,t,o){var a=[],l=Array.prototype.slice.call(arguments).splice(3,100);void 0!==o?(o instanceof Array?a=o:"Arguments"==typeof o?a=Array.protoype.slice.call(o):"object"===i(o)&&a.push(o),a=a.concat(l)):a=l;var d,u,f=c(e),p=(d={},function(t){if(!d[f.context])throw d[f.context]=f.context,r.captureMessage("[module error] "+e+" ("+window.location.pathname+")"),t}),h=!1;try{var m=f.context.split(/\//g)[0];switch(m){case"app":u=n(269)("./".concat(f.context.replace("app/","")));break;case"util":u=n(174)("./".concat(f.context.replace("util/","")));break;default:throw new Error("Subdirectory ".concat(m," is not setup for generic controllers."))}h=!0}catch(e){p(e)}h&&(s(u,f,u,a),"function"==typeof t&&t())}var c=function(e){var t={context:"",name:""},n=e.indexOf(":");return n>0?(t.context=e.substring(0,n),t.name=e.substring(n+1)):(n=e.indexOf("."),t.name=e.substring(n+1)),t};e.exports={initGenericControllers:function(e,t){e=e||o(document.body),t=a.extend({callback:a.noop,force:!1},t);var n=e.find("[data-controller]").add(e.filter("[data-controller]"));t.force||(n=n.not("[data-controller-inited]"));var i,r,s,c=n.length,d=(i=c,r=t.callback,s=0,function(){(s+=1)===i&&"function"==typeof r&&r()});n.each(function(){var e=o(this),t=e.data("controller");e.attr("data-controller-inited",!0),t&&t.split(",").forEach(function(t){(t=t.trim()).length&&new l(t,d,e)})})},executeFunctionByName:function(e){l(e,void 0,Array.prototype.slice.call(arguments).splice(1,100))}}},function(e,t,n){"use strict";var i,o=n(0),a=n(1),r=n(27),s=n(3),l=n(14),c=n(165),d={},u=function(){},f=(i=[],function(e,t){var n={google_conversion_id:d.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};n.google_remarketing_only=!!t,e=a.extend({},n,e),window.google_trackConversion?(i.length&&(i.forEach(function(e){window.google_trackConversion(e)}),i=[]),window.google_trackConversion(e)):i.push(e)}),p=a.once(function(){u("loadCustomerio",d.cioKey);var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.id="cio-tracker",e.setAttribute("data-site-id",d.cioKey),e.src="https://assets.customer.io/assets/track.js",t.parentNode.insertBefore(e,t)});function h(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){r.captureMessage("Error parsing analytics JSON: "+e),e={}}for(var t in e)"string"==typeof e[t]&&(e[t]=e[t].replace(/\[QUOTE\]/g,'"'),e[t]=e[t].replace(/\[SINGLEQUOTE\]/g,"'"));return e}d.init=function(e){var t=e.data();d.analyticsLive=t.analyticsLive,d.identity=t.analyticsIdentity,d.cioIdentifyData=h(t.cioIdentifyData),d.cioKey=t.cioKey,d.superProperties=h(t.analyticsSuperProperties);try{0===Object.keys(d.superProperties).length&&r.captureMessage("Missing backend superProperties")}catch(e){}d.superProperties.user_agent=d.superProperties.user_agent||window.navigator.userAgent,d.userProperties=h(t.analyticsUserProperties),d.temporaryProperties={},d.displayedContinuePracticingBanner=!0===t.displayedContinuePracticingBanner,d.displayedRecommendedCourseBanner=!0===t.displayedRecommendedCourseBanner,d.recommendedCourseId=t.recommendedCourseId,d.analyticsLive&&(t.loggingEnabled&&(u=function(){var e=Array.prototype.slice.call(arguments),t="[analytics]";e.length>=1&&(t+="["+e[0]+"]"),console.log.apply(console,[t].concat(e.slice(1,20)))}),function(e){d.segmentKey=e.segmentKey,c.initialize({Amplitude:{apiKey:e.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:!0,trackCategorizedPages:!1,trackGclid:!0,trackReferrer:!0,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:!1,trackAllPages:!1,trackNamedPages:!1,trackSessionEvents:!1,trackUtmProperties:!0,batchEvents:!1,mapQueryParams:{},useLogRevenueV2:!0,forceHttps:!0},"Segment.io":{apiKey:e.segmentKey,segmentUrl:e.segmentUrl,addBundledMetadata:!0,unbundledIntegrations:[]}}),function(){if(-1!==window.location.search.search(/(utm|ga)_/)){var e=l.getParamsObject(),t={},n={};["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"].forEach(function(i){t[i+"_latest"]=e[i]||"-",i in e&&(n[i+"_current"]=e[i])}),d.setSuperProperties(t),d.setTemporaryProperties(n)}}()}(t),function(e){var t,n,i,o,a,r;e.isNative&&0!==window.location.pathname.indexOf("/wiki/")?window.ga=function(){}:(t=window,n=document,i="script",o="ga",t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,a=n.createElement(i),r=n.getElementsByTagName(i)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(a,r),window.ga("create","UA-33841253-1","auto"),window.ga("require","displayfeatures"),window.ga("send","pageview"))}(t),function(e){if(!e.isNative&&e.isTrackedUser){if(n=window,i=document,a="script",n.fbq||(r=n.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},n._fbq||(n._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(s=i.createElement(a)).async=!0,s.src="//connect.facebook.net/en_US/fbevents.js",(l=i.getElementsByTagName(a)[0]).parentNode.insertBefore(s,l)),window.fbq("init",e.facebookAdPixelId),window.fbq("track","PageView"),e.signedUp?window.fbq("track","CompleteRegistration"):e.viewedPaywall?window.fbq("trackCustom","BViewPaywall"):e.contentType&&window.fbq("track","ViewContent",{type:e.contentType,slug:e.slug,topic:e.topic}),e.ltvEventId){var t={value:e.ltvEventLtv,currency:e.ltvEventCurrency};window.fbq("track","Purchase",t),d.track("facebook_pixel_purchase",t),o.get(e.ltvEventConfirmUrl,function(e){u("ltvEvent:confirm",e.success)})}}else window.fbq=function(){};var n,i,a,r,s,l}(t),function(e){!e.isNative&&e.isTrackedUser&&(d.googleAdPixelId=e.googleAdPixelId,o.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then(function(){var t={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};e.tries&&(t.google_custom_params={tries_made:e.tries,max_level:e.level}),f(t,!0),f({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"}),e.signedUp?(f({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},!0),f({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})):e.viewedPaywall?(f({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},!0),f({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})):e.contentType&&(f({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:e.contentType,slug:e.slug,topic:e.topic}},!0),f({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})),e.ltvEventId&&(f({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:e.ltvEventLtv,google_conversion_currency:e.ltvEventCurrency},!0),f({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:e.ltvEventLtv,google_conversion_currency:e.ltvEventCurrency}))}))}(t),function(){var e,t,n;for(window._cio=window._cio||[],e=function(e){return function(){_cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},t=["load","identify","sidentify","track","page"],n=0;n<t.length;n++)_cio[t[n]]=e(t[n])}(),d.identify(),function(e){e.children(".ax-event").each(function(){var e=o(this).data();d.track(e.axName,e.axProperties)})}(e))},d.track=function(e,t){var n=t.action;null!=t.suffix&&void 0!==n&&(n+=t.suffix),void 0===n&&(n="none");var i=Object.assign({},d.superProperties,d.temporaryProperties,t);if("sign_of_life"===e){if(i.displayed_continue_practicing_banner=d.displayedContinuePracticingBanner,i.displayed_recommended_course_banner=d.displayedRecommendedCourseBanner,d.displayedContinuePracticingBanner){var a=o.id("continue-practicing-notif").data();a&&(i.continue_practicing_quiz_id=a.targetQuizId,i.continue_practicing_problems_left=a.problemsLeft)}d.displayedRecommendedCourseBanner&&(i.recommended_course_id=d.recommendedCourseId),Object.assign(i,{window_width:o.window.width(),window_height:o.window.height(),screen_width:window.screen.width,screen_height:window.screen.height})}if(u("track",e,n,i),d.analyticsLive){try{c.track(e,i)}catch(e){}"sign_of_life"!==e&&"ui"!==e&&window.ga("send","event",e,n),d.cioIdentifyData.created_at&&"ui"===e&&(window._cio.track(e,i),p())}},d.setSuperProperties=function(e){u("setSuperProperties",e),d.analyticsLive&&(d.superProperties=a.extend({},d.superProperties,e))},d.setTemporaryProperties=function(e){d.temporaryProperties=a.extend({},d.temporaryProperties,e)},d.identify=function(){if(d.analyticsLive&&(c.identify(d.identity,d.userProperties),u("identify:segment",d.identity,d.userProperties),d.cioIdentifyData.created_at)){var e={};for(var t in d.cioIdentifyData)e[t]=d.cioIdentifyData[t];for(var t in d.superProperties)e[t]=d.superProperties[t];var n=navigator.userAgent.toLowerCase();-1!==n.indexOf("android")&&(e.ever_visited_with_android=!0),-1!==/iphone|ipad/gi.test(n)&&(e.ever_visited_with_ios=!0),s.is_android&&(e.has_installed_android_app=!0),s.is_ios&&(e.has_installed_ios_app=!0),window._cio.identify(e),u("identify:cio",e)}},d.trackNativeBtn=function(e){e.on("click",function(){var t=function(e){return e.split("?")[0]},n=e.data();delete n.controller,n.target=t(n.target),n.from=t(n.from),d.track("mobile_native_ui",n)})},d.set_analytics_events=function(e){(e=e||o("body")).find(".ax-click").on("click.axclick",function(e){var t=o(this),n=t.data(),i=n.axRequire,a=n.axForbid,r=t.hasClass("ax-once");if(!0!==n.ax_active&&(t.data("ax_active",!0),(!i||t.hasClass(i))&&(!a||!t.hasClass(a)))){var s={element_type:n.axType,element_id:n.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};s.action=n.axAction?n.axAction:"click",n.gifUrl&&(s.gif_content=n.gifContent),r?function(e,t,n,i){var a=o(e);a.data("sent_"+t)||(d.track("ui",i),a.data("sent_"+t,!0))}(this,"click_analytics",0,s):d.track("ui",s)}})},d.trackFacebookPixel=function(e,t,n){window.fbq&&window.fbq(e?"trackCustom":"track",t,n||{})},d.trackPixelController=function(e){var t=e.data();t.tracked||(a.defer(function(){t.facebookEventName&&d.trackFacebookPixel(!0,t.facebookEventName,{slug:t.slug}),t.googleLabelRemarketing&&f({google_conversion_label:t.googleLabelRemarketing},!0),t.googleLabelConversions&&f({google_conversion_label:t.googleLabelConversions})}),e.data("tracked","true"),e.attr("data-tracked","true"))},d.set_analytics_events(),window.banalytics=d,e.exports=d},function(e,t,n){"use strict";var i=c(n(0)),o=c(n(1)),a=n(3),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(28)),s=n(8),l=n(7);function c(e){return e&&e.__esModule?e:{default:e}}n(46),n(68),n(36);var d,u={CustomSelectbox:function(e){var t=(0,i.default)("select",e),n=(0,i.default)(".dropdown-toggle",e),o=(0,i.default)(".dropdown-menu a",e);o.on("click",function(e){var a=(0,i.default)(this);e.preventDefault(),a.hasClass("disabled")||(n.find("span:first").html(a.html()),t.val(a.data("opt-value")),t.trigger("change"),o.filter(".active").removeClass("active"),a.addClass("active"))}),o.filter(".active").trigger("click")}};(0,i.default)(function(){var e=function(e){(0,s.track)("ui",{action:"click",element_type:e,element_id:"link"})};i.default.body.on("click",".daum-link",function(t){var n=(0,i.default)(this),o=n.data();e(o.axClicked),t.metaKey||(t.preventDefault(),i.default.confirm(n.data("text"),function(t){!0===t&&(e(o.axConfirmed),window.open(n.attr("href")))}))})}),u.Anchors=new function(){var e=this;return e.scrollToTarget=function(e,t){t=t||function(){};var n=e.parents(".nf-feeditem-modal").first();if(n.length&&n[0].scrollHeight==n.outerHeight()&&(n=(0,i.default)()),e.length){var o=e.offset().top,r=(0,i.default)(),s=0;n.length||(a.isMobile?r=(0,i.default)(".m-action-bar"):a.userIsAuthenticated&&(r=i.default.id("header"))),e.hasClass("anchor")||r.each(function(e,t){s+=(0,i.default)(t).outerHeight()}),n.length?n.animate({scrollTop:o-n.offset().top+n.scrollTop()-s},{duration:300,complete:t}):i.default.html.add(i.default.body).animate({scrollTop:o-s},{duration:300,complete:t})}else t()},e.init=function(){var t=window.location.hash,n=i.default.id(t.substr(1));t&&t.length&&!n.hasClass("anchor")&&(i.default.html.add(i.default.body).scrollTop(0),setTimeout(function(){i.default.html.add(i.default.body).scrollTop(0),e.scrollToTarget(n)},10)),i.default.doc.on("click",'a[href^="#"]',function(t){t.preventDefault();var n=(0,i.default)(this).attr("href").substr(1);if(n&&n.length){var o=i.default.id(n);o.length&&(e.scrollToTarget(o),window.location.hash=n)}})},e},u.scrollFixedElements=function(){var e=[{$elem:i.default.id("header"),shiftProperty:"margin-left"},{$elem:(0,i.default)(".course-hero-col .bg"),shiftProperty:"left"}],t=0,n=!1;if(0!==(e=e.filter(function(e){return e.$elem.length>0})).length){var o=function(){var n=i.default.window.scrollLeft();n!==t&&(e.forEach(function(e){e.offset=e.offset||parseInt(e.$elem.css(e.shiftProperty),10);var i=e.offset-(n-t);e.$elem.css(e.shiftProperty,"".concat(i,"px")),e.offset=i}),t=n)},a=function(){var t=document.documentElement,a=t.scrollWidth,r=t.clientWidth;!n&&a>r&&(o(),i.default.window.on("scroll",o),n=!0),n&&a===r&&(e.forEach(function(e){return e.$elem.css(e.shiftProperty,"")}),i.default.window.off("scroll",o),n=!1)};a(),i.default.window.on("resize",a)}},u.crop=function(e){o.default.defer(function(){if(!a.isMobile||navigator.userAgent.toLowerCase().indexOf("android")>=0)i.default.body.toggleClass("cropped",!1!==e);else{var t=i.default.body.children(".modal-bg");!1!==e?t.on("touchstart.crop",function(e){this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=e.originalEvent.pageY}).on("touchmove.crop",function(e){var t=e.originalEvent,n=t.pageY>this.lastY,i=!n;this.lastY=t.pageY,n&&this.allowUp||i&&this.allowDown?t.stopPropagation():t.preventDefault()}):t.off(".crop")}})},u.sticky=function(e){e.affix({offset:{top:e.offset().top+(e.data("offset-top")||0)}})},u.toggleButtonLoadingState=(d=null,function(e,t){if(t&&!d){var n=(0,i.default)("<span/>").text(".").addClass("dot").css("visibility","hidden"),o=n.clone(),a=e.find(".b2-flag").clone(),r=1;e.data("original-text",e.text()).text("Loading.").append(n,o).append(a),d=setInterval(function(){r=3==r?1:r+1,n.css("visibility",r>1?"visible":"hidden"),o.css("visibility",3==r?"visible":"hidden")},333)}else d&&(e.html(e.data("original-text")),clearInterval(d),d=null)}),u.areYouSure=function(e){var t=!0;e.on("click",function(n){t&&(n.preventDefault(),i.default.confirm("",{title_text:e.data("confirm-box-title")},function(n){n&&(t=!1,e.trigger("click"))}))})},u.modalController=function(e){var t=e.data();e.on("show",function(){t.axId&&(0,s.track)("ui",{action:"modal",element_type:"modal",element_id:t.axId}),t.flag&&r.update(t.flag,!0)}),e.modal({show:!1});var n=!0;if(t.trigger){var o=function(t){t.preventDefault(),e.modal("show")};t.triggerPersist?i.default.body.off_on("click.genericmodal",t.trigger,o):(0,i.default)(t.trigger).on("click",o),n=!0===t.autoshow}n&&e.modal("show")},u.scaleSvg=function(e){e.scale_svg(e.data("tolerance")||null)},u.fitDropdownIntoViewport=function(e){var t,n=e.find(".dropdown-menu"),a=10,r="vertical-scrollbar",s=!1;function l(){var e=i.default.window.height()+i.default.doc.scrollTop()-a,o=n.offset().top+n.outerHeight(),l=n.height()-(o-e);l>t?s&&(n.css("height","auto").removeClass(r),s=!1):(s||(n.addClass(r),s=!0),n.height(l))}function c(){t=n.height(),l()}e.on("opened",function(){c(),i.default.window.on("resize.ddresize scroll.ddresize",o.default.throttle(l,20))}).on("close",function(){n.css("height","auto"),i.default.window.off("resize.ddresize scroll.ddresize")}).on("update",c)},u.fadeOutOnComponentLoad=function(e){e.fadeOut(2e3)},u.autocomplete=function(e){var t=e.find(".autocomplete-field"),n=e.find(".autocomplete-target"),a=e.data();if(a.autocompleteUrl&&t.length&&n.length){var r,s=[],l=function(e){var t=e.title||e.name;return a.showIds&&(t+=" ["+e.id+"]"),t},c=function(e,t){return i.default.Event("autocomplete."+e,{autocomplete:t})};t.typeahead(),t.on("focus",function(){t.select()}),t.on("keypress",function(n){clearTimeout(r),r=setTimeout(function(){var n=t.val();if(n.length>=3){var o=e.data("autocomplete-url"),r={};r[a.paramName||"query"]=n,i.default.get(o,r).then(function(e){s=e,t.data("typeahead").source=e.map(l),e.length&&t.typeahead("lookup")})}},500)}),t.on("ta_select",function(e){var i,o=t.val();for(var a in s)if(i=s[a],l(i)===o)return n.val(i.id),n.trigger("change"),t.trigger(c("select",i)),void t.data("previous-value",o)}),t.on("blur",function(){setTimeout(function(){t.typeahead("hide"),""===t.val()?(n.val(""),n.trigger("change"),t.trigger(c("select",{id:null,title:null}))):t.val(t.data("previous-value"))},200)}),t.on("autocomplete.reset",function(){t.data("typeahead").source=[]}),t.data("previous-value",t.val()),o.default.defer(function(){t.trigger(c("ready",{id:n.val(),title:t.val()}))})}},u.hasPlaceholder=function(e){var t=e.data("placeholder");if(t){var n=function(){""===e.val().trim()&&e.val(t).addClass("placeholder")},i=function(){e.hasClass("placeholder")&&e.val("").removeClass("placeholder")};e.val()===t&&e.val(""),e.is(":focus")||e.is(":selected")||n(),e.on("focus select",i).on("blur",n),e.parents("form").on("submit",i)}},u.quadLimitWarning=function(e){var t=e.find("textarea"),n=null,a=!1,r=e.data("quad-warning"),s=/\\qq?uad/g,l=function(){var o=t.val().match(s);o&&o.length>=5?(a=!0,n?n.show():(n=(0,i.default)('<ul class="errorlist"><li>'+r+"</li></ul>"),e.append(n))):n&&a&&(a=!1,n.hide())};t.on("keyup input",l),o.default.defer(l)},u.showAndHideContent=function(e){e.find(".btn").on("click",function(t){t.preventDefault(),e.nextAll("blockquote.hidden").first().toggleClass("show")})},u.preventDoubleClick=function(e){e.find("a,button").on("click",function(e){var t=(0,i.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},u.genericSignupModal=function(e){var t=i.default.id("signup-modal-generic");t.length&&(t.modal({show:!1}),e.on("click",function(n){n.preventDefault(),t.modal("show");var o=t.find(".public-signup-left");o.length&&!o.data("already-opened")&&(o.data("already-opened",!0),o.attr("data-already-opened",!0),(0,s.track)("ui",{element_id:"viewed_signup_login_modal_tour_slide_1"}));var a=t.find(".public-signup-right");a.length&&(e.data("show-login")?a.removeClass("show-form show-signup").addClass("show-login"):a.removeClass("show-form show-login").addClass("show-signup"));var r=e.data("next");r&&(t.find(".btn-email").data("next",r),t.find(".signup-social").each(function(){var e=this.href.split("?")[0]+"?"+encodeURIComponent(r);(0,i.default)(this).attr("href",e)}))}))},u.selectAll=function(e){var t=e.data("parent")||null;(t?e.parents(t):e).on("click",function(t){e.select()})},u.hundredDayButton=function(e){setTimeout(function(){e.removeClass("wiggle-less")},5e3)},u.interceptClicks=function(e){var t=i.default.create("button");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100}),t.on("click",function(t){window.location=e.data("target")}),e.children().append(t)},u.keyboardNavigation=function(e){var t=e.key||"",n=e.guard||o.default.noop,a=e.left||o.default.noop,r=e.right||o.default.noop,s=["input","textarea"];i.default.body.off_on("keydown.keynav".concat(t),function(e){var t;e.metaKey||(t=document.activeElement,s.indexOf(t.tagName.toLowerCase())>=0&&(!t.type||"button"!==t.type)&&(t.value&&t.value.length||(0,i.default)(t).parents(".CodeMirror").length))||!1===n()||(37===e.which?(e.preventDefault(),a()):39===e.which&&(e.preventDefault(),r()))})},u.videoPlaceholder=function(e){e.find("button").on("click",function(t){e.css("height",e.height()),window._wq=window._wq||[],window._wq.push({id:e.data("video"),onHasData:function(t){setTimeout(function(){return t.play()}),e.css("height","auto")}}),e.html(e.find("template").html()),(0,l.initGenericControllers)(e)})},(0,i.default)(function(){a.isMobile||u.scrollFixedElements(),u.Anchors.init()}),e.exports=u},,function(e,t,n){"use strict";var i=n(0);n(32);var o={},a=function(){return i.id("default-ajax-error").data()};o.standardError=function(){var e=a();i.modal(e.errorTitle,e.errorContent)},o.timeoutError=function(){var e=a();i.modal(e.errorTitle,e.timeoutContent)},o.backendError=function(e){var t=e.responseJSON.error;i.modal(t.title,t.message)},o.handler=function(e){"abort"!==e.statusText&&(403===e.status?o.backendError(e):"timeout"===e.statusText?o.timeoutError():o.standardError())},e.exports=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendGetParam=function(e,t,n){var i=e.split("#"),o=-1!==i[0].indexOf("?")?"&":"?";return i[0]+="".concat(o).concat(t,"=").concat(n),i.length>1?i.join("#"):i[0]},t.appendGetParams=function(e,t){if(!e)return null;var n=e.split("#"),i=-1!==n[0].indexOf("?")?"&":"?";return Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[0]+="".concat(i).concat(e,"=").concat(t[e]),i="&")}),n.length>1?n.join("#"):n[0]},t.getParamsObject=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search).replace("?","").split("&").forEach(function(t){if(t.length>0){var n=(2,function(e){if(Array.isArray(e))return e}(a=t.split("="))||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),2!==n.length);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=n[0],o=n[1];e[i]=o}var a}),e}},function(e,t,n){"use strict";var i,o,a,r,s,l=n(0),c=n(1),d=n(9),u=n(7),f=n(3),p=n(5),h=n(11),m=n(22),v={urlStack:[]},g=window.vkey,_=null,y=!1,b=!1,w=!1,k=null,C=[],x="profile_savedsets_set_page_modal",q=!1,T={},S={},j=function(e){var t=l(this),n=t.data(),o=n.modalUrl||null;t.addClass("inited"),i&&0!==i.length&&null!==o&&t.find(".modal-link").on("click",function(e){if(!e.metaKey){e.preventDefault();var a=t.parents(".nf-feed-item");if(a.data("just-dragged"))return void a.removeData("just-dragged");if(_=t,O(n),y=n.isSolvable,b=n.isSet,n.refreshable,i.addClass("loading"),i.removeClass("loaded"),y?i.addClass("solvable").removeClass("note set"):b?i.addClass("set").removeClass("solvable note"):i.addClass("note").removeClass("solvable set"),S[o])L(o,n);else if(T[o])var r=setInterval(function(){S[o]&&(clearInterval(r),L(o,n))},200);else k=l.ajax({url:o,data:{force_full_page:"true"},success:P,error:D})}})},P=function(e){if(k=null,e.redirect)window.location=e.redirect;else{i.toggleClass("loading loaded");var t=s.modalUrl.replace("/modal","").replace("/_modal","").replace("-thread","/thread");if(t&&window.history.pushState){var d=f.getRelativeUrl();if(t!==d){var p={modalContent:!0};s.isPost||s.isSolvable?(p.isPostOrSolvable=!0,window.history.state&&window.history.state.isPostOrSolvable?window.history.replaceState(p,"",t):(v.urlStack.push(d),window.history.pushState(p,"",t))):(v.urlStack.push(d),window.history.pushState(p,"",t))}}y?(o.html(e),a.html(""),r.html(""),A()):b?(r.html(e),u.initGenericControllers(r),a.html(""),o.html(""),l.cmp("profile_savedsets_set_page_modal").removeClass("leaderboard")):(a.html(e),u.initGenericControllers(a),o.html(""),r.html(""),A()),i.mathjax_update(),m.checkOverflow(i);var h=i.find(".mini-profile");i.on("scroll",c.throttle(function(){h.each(function(){l(this).mini_profile("hide")})},16)),y?n(21).assessment_modal_public_solvable_component(o):b?n(17)[x](r):n(56).discussions_modal_single_component(a)}},D=function(e,t){"abort"!==t&&(404===e.status?(k=null,I(),l(".cmp_"+_.data("param_key")+"_id").parents(".nf-feed-item").remove()):(w=!0,k=null,I(),h.handler(e)))},O=function(e){b&&i.is(":visible")&&(C.push({view:i.clone(),data:s,current_open_feed_item:_}),i.addClass("sub-view")),s=e,i.show().addClass("clearfix"),d.crop(),l.window.off("keydown.nfmodal"),l.window.on("keydown.nfmodal",function(e){27===e.which&&I()})},I=function(e){e=e||{};var t=!1;if(null!==k&&(k.abort(),k=null,t=!0),!w&&_&&_.data("refreshable")){var n=_.data(),o={version:n.version,deferred:n.deferred,page_key:n.page_key,cmp_url:n.cmp_url,individual_reload:n.individual_reload,param_key:n.param_key},a=new p(o.page_key);a.error=function(e){404===e.status?l(".cmp_"+o.param_key+"_id").parents(".nf-feed-item").remove():e.status>0&&h.handler(e)},setTimeout(function(){a.get(o.cmp_url,o)},100)}if(!e.backButtonClicked&&window.history&&window.history.pushState&&!t&&(q=!0,window.history.back()),C.length){var r=C.pop();_=r.current_open_feed_item,i.replaceWith(r.view),i=l.id("nf-feeditem-modal").removeClass("inited"),b=!0,g[x](i),p.autosubmit.init(),E(i),u.initGenericControllers(i)}else _=null,w=!1,i.hide().removeClass("clearfix"),d.crop(!1),l.window.off("keydown.nfmodal")},E=function(e,t){e=e||l.body,i=l.id("nf-feeditem-modal"),o=l.cmp("assessment_modal_public_solvable_component"),a=l.cmp("discussions_modal_single_component"),r=l.cmp(x),!0!==t&&i.length>0&&(e.find(".modal-feed-item").each(j),i.hasClass("inited")||(i.addClass("inited"),i.on("click",function(e){e.target===i[0]?I():b||C.length?(e.target===o[0]||e.target===a[0]||e.target===r[0]||e.target===l.id("setview-header")[0])&&I():l(e.target).hasClass("refresh")&&(e.preventDefault(),l(e.target).parents("form").submit(),setTimeout(function(){window.location.href=window.location.href},1e3))}),i.on("click",".close-modal",function(e){e.preventDefault(),I()}),l("#nf-modal-close").on("click",I)))},z=function(e){if(0!==e.length){var t=e.data().modalUrl;t&&!0!==T[t]&&(T[t]=!0,l.get(t,{is_preloading:!0,force_full_page:!0}).then(function(e){S[t]=e}).fail(function(){T[t]=!1}))}},A=function(){var e=o.add(a).find(".modal-target");e.length&&e.each(function(){z(l(this))})},L=function(e,t){if(P(S[e]),delete S[e],delete T[e],t.isSolvable&&l.body.hasClass("active")){var n=e.replace("?","start_attempt/?");t.version=VERSIONS[t.page_key],l.post(n,t).fail(h.handler)}};v.preloadFirstItem=function(e){z(e.find(".modal-feed-item").first())},v.popstateHandlerHook=function(){if(q)return q=!1,v.urlStack.pop(),!0;var e=v.urlStack;return e.length>0&&f.getRelativeUrl()===e[e.length-1]&&(v.urlStack.pop(),I({backButtonClicked:!0}),!0)},v.modal_events=j,v.feeditem_modal=E,v.feeditem_modal_close=I,e.exports=v},,function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(24),r=n(3),s=(n(9),n(5)),l=n(43),c=n(15),d=n(57),u=n(28),f=n(7),p=n(11);n(266);var h,m,v,g,_,y={},b=window.vkey||{},w={},k=null,C=!1,x=null,q=!1,T=function e(t){if(q)C=!0;else{C=t||!C;var n=i.id("nf-feeditem-modal");C?(i.body.on("click.saveitem savetogroup.open",function(){e(!1)}),n.off_on("scroll.saveitem",o.throttle(S,100))):(i.body.off("click.saveitem savetogroup.open"),n.off("scroll.saveitem")),h.toggle(C),C?(k&&k.length>0&&k.outerHeight()<k[0].scrollHeight&&(k.addClass("scrollable"),i.id("setitem-gradient").addClass("active")),S(),v.addClass("selected"),i.body.trigger(i.Event("saveitem.open"))):(h.removeClass("success"),v.removeClass("selected"))}},S=function(){if(!q&&!r.is_mobile){var e=0,t=0,n=m.offset(),i="",o="",a=r.is_mobile?0:28;"left"===m.data("position")?(t=n.top,e=n.left-h.width()-a,i="adjusted",o="bottom"):"bottom"===m.data("position")?(t=n.top+m.outerHeight(),e=n.left+m.width()/2,i="bottom"):(t=n.top-h.height(),e=n.left+m.width()/2,o="bottom"),h.addClass(i).removeClass(o).css({top:~~t,left:~~e})}},j=function(e){(!0===e||h&&h.length&&m.length)&&(function(){if(!q){var e=h.find("input:checked").not(".auto-checked").length;e>0?v.html(g({num_sets:e})):v.html(v.data("orig-html")),v.hasClass("inited")&&null!==x&&x<e&&(v.addClass("success"),setTimeout(function(){v.removeClass("success")},200)),x=e,v.addClass("inited")}}(),S(),function(){h.on("click",function(e){e.stopPropagation()});var e,t,n=i.id("setitem-form-sets"),o=i.id("setitem-form-new-set"),r=i(".toggle-new-set");k=n.find(".sets"),e=k.find("input"),(t=e.filter(".auto-checked")).length>0&&e.on("click.autocheck",function(){e.off("click.autocheck"),t.prop("checked",!1).removeClass(".auto-checked")}),h.removeClass("nux new success"),o.find(".errorlist").length>0?h.addClass("new"):h.find(".success").length>0?(h.addClass("success"),T(!0)):h.find(".nux").length&&(!0===a.get("savedsets_viewed_nux")?u.update("dismissed_saved_set_nux",!0):(h.addClass("nux"),i.id("saveitem-nux-hide").on("click",function(e){e.preventDefault(),a.set("savedsets_viewed_nux",!0),u.update("dismissed_saved_set_nux",!0),h.removeClass("nux"),S()}))),S(),r.on("click",function(e){e.preventDefault(),h.toggleClass("new"),h.find("input:visible").focus(),S()}),n.on("submit",function(){T(!1)})}())},P=function(){_=i.id("newsfeed_savedsets_set_wrapper")},D=function(e){I()&&(_.find(".nf-set-item").prependTo(_),E(),M())},O=function(){_.find(".newsfeed_savedsets_set_paginate").click()},I=function(){return _.hasClass("sortable")},E=function(){_.data("ui-sortable")?_.sortable("refresh"):(_.sortable({items:".nf-set-item",tolerance:"intersect",handle:"*",placeholder:"nf-feed-item nf-set-item placeholder"}),_.on("sortstop",z),_.on("sortupdate",A))},z=function(e,t){t.item.data("just-dragged",!0),setTimeout(function(){t.item.removeData("just-dragged")},500)},A=function(e,t){var n=_.data("sort-url").replace("100",t.item.find(".set-item-content").data("item")).replace("200",t.item.index()+1);i.post(n).then(L).fail(p.handler)},L=function(e){},M=function(){var e=_.find(".delete").not(".inited");e.on("click",function(e){e.preventDefault();var t=i(this),n=t.data(),o=function(){i.post(t.attr("href")).then(function(e){F(t,e)}).fail(p.handler)};i.id("set-lb-list").find("li a").length>0&&n.confirmBoxTitle?i.confirm(n.confirmBoxTitle,{title_text:""},function(e){e&&o()}):o()}),e.addClass("inited")},F=function(e,t){t.success&&e.parents(".nf-set-item").remove()},$=function(){var e=i.id("setview-edit-form");if(e.length){var t=i.id("setview-edit-link"),n=i.id("setview-edit-cancel"),o=i.id("newsfeed-set-page","set-container"),a=e.find("textarea");t.on("click",function(e){e.preventDefault(),o.addClass("editing"),a.change()}),n.on("click",function(e){e.preventDefault(),o.removeClass("editing")}),a.autosize(),d.tagging_events(i.cmp("profile_savedsets_set_header")),o.toggleClass("editing",e.find(".errorlist").length>0)}};y.copyToClassTrigger=function(e){var t=i(".copyset-tooltip");e.on("click",function(e){e.stopPropagation(),t.removeClass("hide success")}),i.body.on("click",function(){t.addClass("hide")}),t.on("click",function(e){e.stopPropagation()})};var U=!1,N=function(){var e=i(".set-leaderboard"),t=i.id("set-lb-sort"),n=t.find("a"),o=t.data(),a=i.id("set_pagination_container"),r=a.find("a"),l=a.data();n.on("click",function(e){e.preventDefault();var t=i(this);t.hasClass("active")||(n.toggleClass("active"),U=!0,s(o.page).get(o.url,{component_key:o.cmp,version:VERSIONS[o.cmp],order_leaderboard_by:t.data("sort-by")}))}),r.on("click",function(t){t.preventDefault();var n=i(this);s(l.page).get(l.url,{component_key:l.cmp,version:VERSIONS[l.cmp],page:n.data("page-number")}),i.doc.scrollTop()>e.offset().top&&UI.Anchors.scrollToTarget(e,function(){var t=e.find(".cmp-deferred");t.length&&s.deferred.load(t)})})};y.leaderboardToggle=function(e){var t=e.children(),n=i.id("newsfeed-set-page").add(i.cmp("profile_savedsets_set_page_modal"));U?U=!1:n.removeClass("leaderboard"),t.on("click",function(e){if(e.preventDefault(),!i(this).hasClass("active")&&(n.toggleClass("leaderboard"),t.toggleClass("active"),n.hasClass("leaderboard"))){var o=n.find(".cmp-deferred");o.length&&s.deferred.load(o)}})},y.submitScoreForm=function(e){e.find(".btn").on("click",function(){i(".set-leaderboard").addClass("cant-submit-score")})};var B=function(e){var t=i.id("setlist-create-btn"),n=i.id("setlist-create-modal"),o=i.id("setlist-create-success");t.length&&t.on("click",function(e){e.preventDefault(),n.modal(),i.id("id_title").focus()}),o.length&&(o.modal(),n.modal("hide")),!0===e&&n.length&&n.modal()};i(function(){void 0===window.Sets&&(P(),D(),$(),N(),B())});var H=function(){b.handle.apply(this,arguments),j()};b.assessment_add_solvable_to_saved_set=H,b.discussions_add_to_saved_set=H,b.quizzes_add_solvable_to_saved_set=H,b.potw_add_solvable_to_saved_set=H,b.profile_savedsets_set_leaderboard=function(){b.handle.apply(this,arguments),U=!0,N()},b.profile_savedsets_set_header=function(){b.handle.apply(this,arguments).mathjax_update(),$()};var R=!1;b.profile_savedsets_set_page_modal=function(){var e=i.cmp("profile_savedsets_set_page_modal").find(".cmp-deferred");if(e.length&&s.deferred.load(e),_=i.id("newsfeed_savedsets_set_wrapper"),D(),$(),_.find(".modal-feed-item").not(".inited").each(c.modal_events).addClass("inited"),N(),s.autosubmit.init(),l.init(),O(),!R){R=!1;var t=b.profile_savedsets_set_container;b.profile_savedsets_set_container=function(){t.apply(this,arguments),O()}}},b.profile_savedsets_create_set=function(){b.handle.apply(this,arguments),i.body.children(".modal-bg").remove(),B(!0)},b.my_savedsets_sidebar=function(){b.handle.apply(this,arguments);var e=i.id("saved-sets-sidebar-module");f.initGenericControllers(e),e.find(".mini-profile").mini_profile()},b.profile_savedsets_copy_to_class=function(){var e=b.handle.apply(this,arguments);e.find(".success").length>0&&e.find(".copyset-tooltip").removeClass("hide").addClass("success")},y.saveitem={tooltip:function(){var e=(m=i.id("sets-tooltip-target")).data("object-id"),t=i();["assessment_add_solvable_to_saved_set","discussions_add_to_saved_set","quizzes_add_solvable_to_saved_set","potw_add_solvable_to_saved_set"].forEach(function(e){t=t.add(i(".saveitem-tooltip#cmp_"+e+"_id"))}),t.each(function(){var t=i(this),n=t.data("object-id");n!==e&&(w[n]=t,t.detach())}),0===(h=r.is_native?t.eq(0):t.filter("[data-object-id="+e+"]")).length?(h=w[e])&&h.appendTo(i.body):h.length>1&&(h.slice(1).remove(),h=h.first()),h&&h.length&&(m.length?(!0!==h.data("inited")&&(h.appendTo(i.body),h.data("inited",!0)),v=i.id("sets-tooltip-trigger"),g=o.template(v.data("tmpl")),v.on("click",function(e){e.preventDefault(),e.stopPropagation(),T()}),C&&T(!0)):!0===h.data("is-webview")&&(C=!0,q=!0,h.addClass("in")))},forms:j},y.setview={update_feed:D,reset_container:P},y.setlist={modals:B},y.profile_savedsets_set_page_modal=b.profile_savedsets_set_page_modal,y.SavedSetsList=function(e){c.feeditem_modal(e),e.find(".quick-set-link").each(c.modal_events)},y.SavedSetsSidebarModule=function(e){var t=e.parents(".savedsets-module").first(),n=e[0].scrollHeight-e.innerHeight();e.on("scroll",function(){var i=e.scrollTop();t.toggleClass("start",i<=0),t.toggleClass("end",i>=n)}),n>0&&(e.trigger("scroll"),t.addClass("scroll"))},y.MoreSetsByAuthor=function(e){var t=e.find("a");t.attr("href")===window.location.pathname&&t.on("click",function(e){e.preventDefault(),c.feeditem_modal_close()})},y.checkIfUserCanSubmitScore=function(){0===i.id("newsfeed_savedsets_set_wrapper").find(".status .correct").length&&i(".set-leaderboard").addClass("cant-submit-score")},e.exports=y},function(e,t,n){"use strict";var i={},o={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"},a=!1,r=!1,s=[],l=[],c=/\\\(.*?\\\)/,d=/\\\[.*?\\\]/,u=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g],f=function(e){for(var t=0;t<u.length;t++)e=e.replace(u[t],"");return c.test(e)||d.test(e)},p=function(e){r?h(e):(s.push(e),a||m())},h=function(e){try{window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}catch(e){}},m=function(){if(!r&&!a){a=!0;var e=document.createElement("script");e.type="text/javascript",e.src=document.body.dataset.mediaHost+"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=TeX-AMS_HTML",e.onload=e.onreadystatechange=function(){var e=!this.readyState||"loaded"===this.readyState||"complete"===this.readyState;!r&&e&&(a=!1,r=!0,window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:!1,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:!1,positionToHash:!1}),window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Register.StartupHook("TeX color Ready",function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,o)}),l.forEach(function(e){return e()}),s.forEach(h),s=[])},setTimeout(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},0)}};i.formPreloader=function(e){var t=e.find("input[type=text],textarea"),n="keydown.mjxpreload";t.on(n,function(){t.off(n),m()})},i.loadForElement=function(e,t){t=!0===t,e.each(function(){(t||f(this.innerHTML))&&p(this)})},i.controller=function(){var e=function(){p(document.body)};window.isLoaded?e():window.addEventListener("load",e)},i.onLoad=function(e){r?e():l.push(e)},i.textContainsUnrenderedMath=f,window.bmathjaxLoader=i,e.exports=i},,,function(e,t,n){"use strict";var i=q(n(0)),o=q(n(1)),a=q(n(24)),r=q(n(59)),s=q(n(18)),l=q(n(3)),c=q(n(9)),d=q(n(5)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(14)),f=q(n(44)),p=q(n(8)),h=q(n(15)),m=q(n(31)),v=q(n(11)),g=q(n(26)),_=q(n(58)),y=q(n(17)),b=q(n(7)),w=q(n(63)),k=q(n(28)),C=q(n(22)),x=q(n(27));function q(e){return e&&e.__esModule?e:{default:e}}var T,S,j={},P={},D=!1,O=null,I=function(e){return P[e.data("solvable")]||{}},E=function(e){if(e.$solversList){var t=e.$solversList;j.recentSolvers(t)}e.$solversContainer&&d.default.deferred.load(e.$solversContainer.children(".cmp-deferred"))},z=(S=["solutions","disputes"],function(e,t){if(e=e||"default",t.previousState=t.previousState||null,t.currentState=t.currentState||null,"back"!==e){if(t.$solvable.removeClass(S.join(" ")),r.default.removeBackButton(),e&&S.indexOf(e)>=0&&t.$solvable.addClass(e),"solutions"===e||"disputes"===e){if(A(t,e),"disputes"===e)if(l.default.is_mobile){var n=(0,i.default)(".solv-disputes");n.removeClass("hide"),c.default.Anchors.scrollToTarget(n)}else"solutions"===t.currentState&&c.default.Anchors.scrollToTarget(i.default.body)}else"default"===e&&"solutions"===t.currentState&&c.default.Anchors.scrollToTarget(i.default.body);L(t),M(t),t.$solvable.mathjax_update(),t.previousState=t.currentState,t.currentState=e,i.default.body.trigger(i.default.Event("solvable.statechange",t))}else z(t.previousState,t)});j.setStateForSolvable=function(e,t){z(t=t||null,I(e))};var A=function(e,t){e.$solvable=e.$solvable||(0,i.default)(".solv-main");var n=e.$solvable.find("solutions"===t?".solv-solutions":".solv-disputes"),a=e.$solvable.find("#solv-simple-solution-target"),r=n.find(".cmp-deferred");if(e.$solvable.find(".btn-solution.wiggle-less").removeClass("wiggle-less active-green").blur(),e.$solvable.find(".btn-solution.wiggle").removeClass("wiggle").blur(),l.default.is_mobile&&a.length>0)c.default.Anchors.scrollToTarget(a);else{if("solutions"===t&&l.default.is_mobile&&0===a.length){var s=i.default.cmp("solutiondiscussions_publicsolvableaddsolutionpost");s.length||(s=i.default.cmp("solutiondiscussions_publicsolvablesolutionlist")),s.length&&c.default.Anchors.scrollToTarget(s)}if(n.length>0){r.each(function(){d.default.deferred.add((0,i.default)(this))});var u=e.$solvable.parents("#nf-feeditem-modal");u.length>0&&function(e,t){var n=r.length,a=function(t){for(var i,o,a,r,s,l,c=d.default.deferred.cmps.length,u=c-d.default.deferred.count,f=!1;u<c;u++)!1!==(f=d.default.deferred.cmps[u])&&(o=t,r=(a=(i=f).offset().top)+i.outerHeight(),l=(s=o.offset().top)+o.outerHeight(),r>=s&&a<=l&&(d.default.deferred.load(f),d.default.deferred.cmps[u]=!1,d.default.deferred.count--,0==--n&&e.off("scroll.deferred")))};o.default.defer(a,e),e.on("scroll.deferred",o.default.throttle(function(e){a((0,i.default)(e.target)||null)},50))}(u),n.find("textarea:visible").autosize()}c.default.Anchors.scrollToTarget((0,i.default)("#solutions-scrollable-container,#disputes-scrollable-container,#solv-simple-solution,#b2-solution").filter(":visible"))}},L=function(e){var t=e.$solvable;l.default.is_mobile?t.scale_svg(.4):t.scale_svg()},M=function(e){e.$solvable.find(".btn-mcq").scale_svg()},F=function(e){"solutions"===e.currentState?(e.$solvable.find(".solv-details .btn-solution").removeClass("active"),z("",e)):(e.$solvable.find(".solv-details .btn-solution").removeClass("btn-accent").addClass("active"),e.$solvable.find(".esr-problem").addClass("btn-accent active"),z("solutions",e))},$=function(e){var t=P[e.solvable];t.solutionsLoading||(t.solutionsJustLoaded=!0,t.solutionsLoading=!0,(0,d.default)(e.page_key).post(e.postLink,e))};j.solvable=function(e){var t=e,n=t.data("solvable"),o=P[n]||{};o.$solvable=t,o.data=i.default.id("solvable-data").data(),o.solvableDidOnload=!0===o.solvable,o.currentState=null,o.previousState=null,P[n]=o,i.default.id("direct-link-input").on("click",function(e){e.stopPropagation(),(0,i.default)(this).select()}),L(o),o.solutionsJustLoaded?(P[n].solutionsJustLoaded=o.solutionsJustLoaded=!1,z("solutions",o)):o.disputesJustLoaded?((0,i.default)(".dispute-disc-modal").modal("hide"),P[n].disputesJustLoaded=o.disputesJustLoaded=!1,z("disputes",o)):l.default.is_mobile&&l.default.user_is_authenticated&&o.$solvable.find("#solv-simple-solution").length&&z("solutions",o),t.find(".uses-latex, .latex").mathjax_update(),!0!==o.solvableDidOnload&&(P[n].solvableDidOnload=!0,y.default.saveitem.tooltip(),y.default.saveitem.forms(),g.default.add_form(),g.default.votes());var a=t.data("ir-verification");if(a&&!a.preventUpdate){var r=t.find(".solv-details"),s=a.canStillAnswer===!r.hasClass("endstate"),c=a.answerIsCorrect===r.hasClass("correct"),d=a.attemptNumber===t.find("#attempt-number").data("attempt-number");s&&c&&d||p.default.track("instant response mismatch",{solvable:n,answer:encodeURIComponent(a.answer),url:window.location.href,"endstate mismatch":!s,"correct/incorrect state mismatch":!c,"attempt number mismatch":!d}),t.removeData("ir-verification")}},j.solvableRedesign=function(e){var t=e.data("solvable"),n=P[t]||{};n.$solvable=e,n.data=i.default.id("solvable-data").data(),n.solvableDidOnload=!0===n.solvable,P[t]=n,y.default.saveitem.tooltip(),y.default.saveitem.forms(),g.default.add_form(),g.default.votes(),e.find(".sharing-dd .dropdown-menu").on("click",function(e){e.stopPropagation()}),e.find(".bsharing-link").on("click",function(){(0,i.default)(this).parents(".dropup").removeClass("open")}),e.find(".direct-link").on("click",function(){(0,i.default)(this).find("input").select()}),("solutions"===n.currentState||n.$solvable.hasClass("solutions"))&&(n.currentState="solutions",n.$solvable.find(".solv-details .btn-solution").first().addClass("active")),_.default.images(e),j.cropActionsMenu(e)},j.editableTitle=function(e){var t=e.find(".edit-title-link");if(null!==e&&e.length&&null!==t&&t.length){var n=e.find(".cancel-edit-link");t.on("click",function(){e.addClass("editing")}),n.on("click",function(){e.removeClass("editing")})}},j.solversInit=function(e){P[e.data("solvable")].$solversContainer=e,e.find(".cmp-deferred").length?E(I(e)):e.appendTo(i.default.cmp(e.data("cmp-target"))).removeClass("hide")},j.answerFormWrapper=function(e){var t=e.find("input#id_answer");if(t.length){var n=function(){var n=""===t.val().trim();e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};t.on("input",n),n()}o.default.defer(function(){var t=I(e);e.find("form").on("submit",function(){t.$solvable.find(".spinner").addClass("active")}),l.default.is_mobile?-1!==navigator.userAgent.indexOf("Android 4.0")&&e.find("#id_answer").on("focus",function(){var e=(0,i.default)(this);setTimeout(function(){var t=e.offset().top-20;t>0&&i.default.window.scrollTop(t)},500)}):e.data("disable-auto-focus")||e.find("#id_answer").select(),M(t)})},j.loggedOutForm=function(e){var t=e.find(".logged-out-answer"),n=e.parents(".solv-details,.solv-details-loggedout").find(".logged-out-solution"),o=i.default.id("solv-public-signup"),a=o.find(".public-signup-right"),r=o.find("#signup-fb"),l=o.find("#login-fb"),d=o.find("#signup-google"),f=o.find("#login-google"),h=o.find("#signup-email, #problem-signup-link-alternative"),m=o.find("#problem-login-link, #problem-login-link-alternative"),v=o.find("#public-answer"),g=e.find(".btn-mcq"),_=e.find("[name=logged-out-mcq]"),y=e.hasClass("mcq-form"),b=e.hasClass("multi-select"),w=e.data(),k=(w.redirect,r.attr("href")),C=l.attr("href"),x=d.attr("href"),q=f.attr("href"),T=h.attr("href"),S=m.attr("href"),j=!0===w.delayedSignup,P=function(){var e="";if(b){var n=[];_.each(function(e){(0,i.default)(this).is(":checked")&&n.push(e+1)}),e=n.join("|")}else if(!y&&t.length)e=t.val();else if(_.length){var o=_.filter(":checked");e=o.length?o.val():""}return e.trim()},D=function(e,t){if(e){var n=-1===e.indexOf("%3F")?"?":"&";return e+encodeURIComponent(n+t)}},O=function(e,n,c){if(i.default.body.hasClass("hundredday-page")){var g=i.default.id("solv-main");g.css({height:g.outerHeight()}),o.appendTo(i.default.body),o.find(".modal-bg").off_on("click.modalhack",function(){g.css({height:"auto"}),o.insertAfter(".solv-problem")})}!function(e,t){e.preventDefault();var n=P(),i={},o={},c=k,g=C,b=x,j=q,O=T,I=S;p.default.track("ui",{action:"click",element_type:"button",element_id:"logged_out_solvables_"+t});var E=isNaN(parseFloat(n));if(a.removeClass("text-answer alt show-form"),n.length){if(n.indexOf("|")>=0)v.text("Those choices");else if(y&&s.default.textContainsUnrenderedMath(n)){var z=_.filter(function(){return this.value===n}).parents(".btn-mcq").children("span").html();v.html(z)}else v.text(n.replace(/__replace_plus__/g,"+").replace(/__rep_perc__/g,"%").replace(/__rep_ques__/g,"?"));i.attempt=encodeURIComponent(n),o.attempt=encodeURIComponent(n),h.add(m).data("attempt",n),h.add(m).attr("data-attempt",n),E&&a.addClass("text-answer")}else a.addClass("alt"),n="no-input";if(c&&(c=c.replace("try-value-value",encodeURIComponent(n))),g&&(g=g.replace("try-value-value",encodeURIComponent(n))),b&&(b=b.replace("try-value-value",encodeURIComponent(n))),j&&(j=j.replace("try-value-value",encodeURIComponent(n))),O&&(O=O.replace("try-value-value",encodeURIComponent(n))),I&&(I=I.replace("try-value-value",encodeURIComponent(n))),w.isQuiz){var A="problem="+w.solvableSlug+"&attempt="+n;c=D(c,A),g=D(g,A),b=D(b,A),j=D(j,A),O=D(O,A);var L="";-1==I.indexOf("problem=")&&(L+="problem="+w.solvableSlug,-1==I.indexOf("attempt=")&&(L+="&")),-1==I.indexOf("attempt=")&&(L+="attempt="+encodeURIComponent(n)),I=D(I,L)}if(w.topicTag&&(i.topic_tag=w.topicTag,o.topic_tag=w.topicTag,c=D(c,"topic_tag="+w.topicTag),g=D(g,"topic_tag="+w.topicTag),b=D(b,"topic_tag="+w.topicTag),j=D(j,"topic_tag="+w.topicTag),h.add(m).data("topic_tag",w.topicTag),h.add(m).attr("data-topic_tag",w.topicTag)),O){var M=O.match(/next=(.*)/);M.length&&(h.data("next",M[1]),h.attr("data-next",M[1]),h.data("already_escaped",!0),h.attr("data-already_escaped",!0))}if(I){var F=I.match(/next=(.*)/);if(F.length){var $=decodeURIComponent(F[1]);m.data("next",$),m.attr("data-next",$)}}r.attr("href",u.appendGetParams(c,i)),l.attr("href",u.appendGetParams(g,i)),d.attr("href",u.appendGetParams(b,i)),f.attr("href",u.appendGetParams(j,i)),h.attr("href",u.appendGetParams(O,o)),m.attr("href",u.appendGetParams(I,o))}(e,n),i.default.id("nf-modal-close").hide(),o.addClass("open"),v.scale_svg(),t.blur();var b=o.find("#public-signup-tour");b.length&&!b.data("already-opened")&&(b.data("already-opened",!0),b.attr("data-already-opened",!0),p.default.track("ui",{element_id:"viewed_signup_login_modal_tour_slide_1"})),c&&o.on("click",function(){o.removeClass("open")})},I=!1,E=function(e,t){j?setTimeout(function(){O(e,t,!1)},1e4):O(e,t,!0)},z=function(t){if(j){var n=e.parents(".solv-main").find("#solv-simple-solution");n.show(),t&&c.default.Anchors.scrollToTarget(n)}};e.on("submit",function(e){e.preventDefault(),E(e,"submitted_form"),z(),P()&&j&&!I&&(I=!0,p.default.track("ui",{element_id:"viewed_logged_out_answer_sponsored"}))}),n.off_on("click",function(i){t.val(""),g.removeClass("active dim"),_.filter(":checked").prop("checked",!1),E(i,"clicked_solution_btn"),j&&(i.preventDefault(),z(!0),e.data("viewed-solution",!0),e.submit(),p.default.track("ui",{element_id:"viewed_logged_out_solution_sponsored"}),n.fadeOut(100))}),i.default.body.on("quizSolvablePositionChanged",function(){(0,i.default)(".logged-out-solution").removeClass("dim disabled").removeAttr("disabled")})},j.preventSocialButtonDoubleClick=function(e){e.find(".signup-social").on("click",function(e){var t=(0,i.default)(this);t.hasClass("disabled")?e.preventDefault():t.addClass("disabled")})},j.mcqForm=function(e){var t=e.find("label"),n=function(){var t=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",t).toggleClass("disabled",t)};t.on("click touchstart",function(){var e=(0,i.default)(this),o=e.find("input"),a=o.val()||null;null!==a&&(o.prop("checked",!0),t.removeClass("active dim"),e.addClass("active"),l.default.mcq_ui_updates||(t.removeClass("correct"),e.addClass("correct")),T=a.replace(/__replace_plus__/g,"+")),n()}),n()},j.multiSelectForm=function(e){var t=function(){var t=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",t).toggleClass("disabled",t)};e.find("label").on("click",function(e){e.preventDefault();var n=(0,i.default)(this);setTimeout(function(){var e=n.find("input"),i=e.val()||null,o=e.is(":checked");null!==i&&(o?(e.prop("checked",!1),n.removeClass("active"),l.default.mcq_ui_updates||n.removeClass("correct")):(e.prop("checked",!0),n.addClass("active"),l.default.mcq_ui_updates||n.addClass("correct")),t())})}),t()},j.answerForm=function(e){var t=e.find("#id_answer");e.on("submit",function(n){n.preventDefault();var a=e.attr("id"),r="mcq-form"===a,s="text_answer_entry_form"===a,l=t.val(),c=t.data("placeholder");if(D&&0===O&&(r||s&&""!==l&&l!==c))i.default.id("solv-public-form").addClass("open");else{var u=new d.default(e.find("#id_page_key").val()),f=e.parents(".solv-main"),h=e.parents(".solv-details").clone(),m=!1,g=0,_=function(e){g&&!m&&(m=!0,p.default.track("ui",{element_id:"solvable_answer_resend",resend_count:g,resend_successful:e,resend_total_time:500*g,path:window.location.pathname}))},y=function(){f.find(".solv-details").replaceWith(h),f.find(".b2-solution").hide(),f.removeClass("solutions"),h.find(".spinner").removeClass("active"),h.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),b.default.initGenericControllers(h)};u.success=function(){d.default.prototype.success.apply(u,arguments),_(!0)},u.error=function(t,n){0===t.status?function(t){g<120?(g++,setTimeout(function(){u.post(t.url,t)},500)):(i.default.modal("Error",e.data("max-resend-error")),y(),_(!1))}(n):"timeout"===t.statusText?(v.default.timeoutError(),y()):t.status>0&&(v.default.handler(t),y())},o.default.defer(function(e){var t=f.data("ir-verification"),n={};try{t.preventUpdate?n.instant_response_check="cant_tell":n.instant_response_check=t.answerIsCorrect?"correct":"incorrect",n.instant_response_problem_completed=t.canStillAnswer?"no":"yes",n.instant_response_tries_left=t.triesLeft}catch(e){}u.form(e,n)},e.clone())}})},j.edit=function(e){var t=e.find("form"),n=(0,i.default)(".solv-edit-trigger"),o=i.default.id("solvable-mcq-options-btn"),a=i.default.id("question-text-preview"),r=i.default.id("question-text-preview-field"),s=t.find("textarea"),l=function(n){n&&n.preventDefault(),(0,i.default)(this).addClass("active"),e.removeClass("previewing"),e.addClass("editing"),r.val("true"),(0,i.default)(window).scrollTop(t.offset().top-150),s.autosize().wikiLinks(),s.focus(),e.data("previewing",!1)};n.on("click",l),e.hasClass("editing")&&l(),o.on("click",function(e){e.preventDefault();var t=i.default.id("edit-mcq-choices");t.siblings().hide(),t.show()}),i.default.id("edit-mcq-cancel").on("click",function(e){e.preventDefault();var t=i.default.id("edit-mcq-choices");t.siblings().show(),t.hide()}),a.on("click",function(e){e.preventDefault(),t.submit()}),t.on("submit",function(){var t=e.data();t.suspended&&t.previewing&&i.default.modal(t.suspendedTitle,t.suspendedText)}),e.find(".saved").addClass("out")},j.solutionButton=function(e){var t=e.data(),n=I(e);e.off_on("click touchstart",o.default.debounce(function(a){if(a.preventDefault(),!e.hasClass("disabled")){var r=(0,i.default)(".solv-solutions");if(l.default.is_mobile&&r.hasClass("expanded")&&i.default.doc.scrollTop(r.offset().top-(0,i.default)(".m-action-bar").height()),e.data("solutions-loaded"))F(n);else{var s=function(){var n=l.default.is_mobile?e.find(".main"):e;e.addClass("dim").blur(),c.default.toggleButtonLoadingState(n,!0),$(t)},d=i.default.id("solv-confirm-box");if(d.length)if(l.default.is_mobile)d.show(),o.default.defer(function(){d.addClass("active")}),d.find(".btn").off_on("click",function(){d.removeClass("active"),setTimeout(function(){d.hide()},210),(0,i.default)(this).hasClass("btn-confirm")&&s()});else if("touchstart"===a.type){var u=d.clone();u.find(".btn-confirm").off_on("click",function(){s()}),u.modal()}else s();else s()}}},300)),-1!==window.location.href.indexOf("/solution-comments/")&&"solutions"!==n.currentState&&(e.data("solutions-loaded")?F(n):n.$solvable.find(".solv-details.endstate").length&&$(e.data()))},j.disputeDiscTrigger=function(e){var t=e.data(),n=I(e),o=!1,a=(0,i.default)(".dispute-disc-modal");e.on("click",function(e){e.preventDefault(),t.disputesLoaded?(z("disputes",n),!1===o&&(o=!0,(0,i.default)("#solvable-resend-verification-form").submit())):(a.modal("show"),!1===o&&(o=!0,a.find("#solvable-resend-verification-form").submit()))})},j.staffDisputeDiscForm=function(e){e.on("submit",function(){P[e.data("solvable")].disputesJustLoaded=!0})},j.disputeModalForm=function(e){var t=e.find(".explanation");e.find('input[type="radio"]').on("change",function(){t.hasClass("visible")||(t.addClass("visible"),t.find("textarea").autosize())})},j.disputeModalFormEndState=function(e){var t=i.default.id("enter-dispute-discussions-form");t.on("submit",function(){P[t.data("solvable-id")].disputesJustLoaded=!0}),e.find(".view").on("click",function(){e.find(".view-reports").addClass("loading"),t.trigger("submit")})},j.deleteForm=function(e){var t=i.default.id("stats-delete-btn");t.on("click",function(){var n=e.find("form");e.modal(),t.addClass("hide"),n.on("submit",function(){e.modal("hide")})})},j.reviewedForm=function(e){var t=i.default.id("stats-reviewed-btn");t.on("click",function(){var n=e.find("form");e.modal(),t.addClass("hide"),n.on("submit",function(){e.modal("hide")})})},j.suggestForFBForm=function(e){var t=i.default.id("suggest-for-fb-btn");t.on("click",function(){var n=e.find("form");e.modal(),t.addClass("hide"),n.on("submit",function(){e.modal("hide")})})},j.mostPopularRecommendedProblem=function(e){var t=(0,i.default)(".recommended-problems .most-popular-recommended-problem");t.length&&t.clone(!0,!0).appendTo(e.empty())};var U,N,B=!1;j.NotifyAboutGoodSolution=new function(){var e=this,t=null,n=null,o=null,a=null;return e.exists=!1,e.controller=function(r){e.exists=!0,n=(t=r).find(".dropdown-toggle"),o=t.find(".dropdown-menu"),l.default.is_mobile?(0,i.default)(".btn-solution").off_on("click",function(e){e.preventDefault();var n=t.modal();n.find("button").on("click",function(){n.modal("hide")}),n.off_on("hide",function(){z("solutions",I(i.default.id("solv-main")))})}):(n.on("mouseenter",e.show).on("click",function(e){e.preventDefault()}),t.on("mouseleave",function(){a=setTimeout(e.hide,1e3)}).on("mouseenter",function(){clearTimeout(a)})),o.on("click",function(e){e.stopPropagation()}),t.find("form").on("submit",function(){B=!0,t.addClass("loading")}),B&&(B=!1,e.show())},e.show=function(e){t.hasClass("open")||(t.addClass("open"),o.addClass("open").fadeIn(e||500))},e.hide=function(e){if(t.hasClass("open")){var n=function(){t.removeClass("open"),o.removeClass("open")};o.is(":visible")?o.fadeOut({duration:e||500,complete:n}):(o.hide(),n())}},e.toggle=function(n){t.hasClass("open")?e.hide(n):e.show(n)},e.toggleIcon=function(e){t&&(e?t.show():t.hide())},e},j.cropActionsMenu=function(e){var t=i.default.id("solv-actions-dropdown");t.find(".dropdown-toggle").on("click",function(){var n=e.outerHeight(!0)-e.find(".solv-footer").outerHeight(!0);l.default.is_mobile&&(n-=e.find(".solv-details").outerHeight(!0)),t.find(".dropdown-menu").css("max-height",n)})},j.showChapterIntro=function(e){var t=e;e.hasClass("quiz-wrapper")||(t=e.parents(".quiz-wrapper"),e.find(".btn-link").on("click",function(){t.toggleClass("chapter-intro-view")}));var n=t.find(".chapter-intro-wrapper"),o=n.find(".btn-tabs .btn");o.on("click",function(){var e=(0,i.default)(this);e.hasClass("active")||(o.removeClass("active"),e.addClass("active"),n.removeClass("intro quizzes wikis").addClass(e.data("value")))})},j.practiceAnonWrapper=function(e){D=!0,O=e.data("signup_after_n_problems");var t=e.find(".prac-anon-item"),n=e.find(".prev-marker-btn, .next-marker-btn"),o=e.find(".prac-markers"),a=o.find(".prac-marker"),r="visible",s="current",l=o.length>1;function d(e){t.removeClass(r).eq(e).addClass(r),l?(a.removeClass(s),(0,i.default)(o[e]).find(".prac-marker").eq(e).addClass(s)):a.removeClass(s).eq(e).addClass(s),i.default.body.trigger("quizSolvablePositionChanged");var n=(0,i.default)(".codex-container:visible");n.length&&w.default.controller(n)}if(n.on("click",function(e){e.preventDefault();var n=(0,i.default)(this),o=t.filter("."+r),a=t.index(o);a+=t.length,n.hasClass("prev-marker-btn")?a--:n.hasClass("next-marker-btn")&&a++,d(a%=t.length)}),a.on("click",function(){d((0,i.default)(this).index())}),l){var u=t.length,f=function(e){return function(){var t=a.filter(".current").index(),n=t+e;n>=0&&n<u&&d(t=n)}};c.default.keyboardNavigation({left:f(-1),right:f(1)})}},j.practiceAnon=function(e){if(e.hasClass("prac-anon-item")){var t=e.find(".solv-details").not(".course-quiz-solv-details"),n=e.outerHeight();t.css({overflow:"auto"});var i=t.scrollHeight()+2;t.css({overflow:"hidden"}),n<i&&o.default.defer(function(){t.css({position:"static"})})}},j.nextSkillB2Modal=(U=null,function(e){e.on("click",function(e){e.preventDefault(),null===U?U=i.default.id("prac-next-skill-b2").modal():U.modal("show")})}),j.checkAnswerButton=function(e){var t=I(e).$solvable,n=function(t){t=!0===t,l.default.is_ios&&l.default.app_version.isGreaterThanOrEqualTo("0.9.7")&&(window.location=t?"disableanswerbutton://":"enableanswerbutton://"),e.removeClass(t?"btn-accent":"btn-outline disabled"),e.addClass(t?"btn-outline disabled":"btn-accent")};o.default.defer(function(){var e=t.find(".btn-mcq");t.find(".mcq-form").removeClass("disable-for-mobile"),e.one("click",n)}),e.on("click",function(){e.hasClass("disabled")||t.find("#mcq-form").submit()})},j.recentSolvers=function(e){P[e.data("solvable")].$solversList=e;var t=e.parents(".solv-author").find(".likes-container"),n=e.find(".btn-expand").width();t.css("padding-left",n+14),e.removeClass("hidden"),e.find(".mini-profile").mini_profile(),e.find("button").off_on("click",function(){e.toggleClass("expanded");var n=e.find("button:visible").width();t.css("padding-left",n+14)})},vkey.assessment_modal_public_solvable_component=function(e){var t=e.find(".solv-main").data("solvable");P[t]=P[t]||{},P[t].solvableDidOnload=!1,b.default.initGenericControllers(e),g.default.add_form(),g.default.votes(),g.default.events(),e.find(".modal-target").each(h.default.modal_events),e.find(".mini-profile").mini_profile(),d.default.autosubmit.init(e)},j.assessment_modal_public_solvable_component=vkey.assessment_modal_public_solvable_component,j.levelUpModal=function(e){var t=i.default.id("streak-modal"),n=function(){e.appendTo(i.default.body),e.removeClass("hide"),o.default.defer(function(){e.addClass("in")}),e.find(".close").on("click",function(){e.removeClass("in"),setTimeout(function(){e.addClass("hide")},300)}),i.default.id("sidebar-leveled-up-msg").show(),p.default.track("ui",{element_id:e.data("ax-id"),element_type:"modal",action:"displayed",path:window.location.pathname,full_path:window.location.pathname+window.location.search})};o.default.defer(function(){t.length?t.on("hide",function(){o.default.defer(n)}):n()})},j.trackSkillSharing=function(){p.default.track("ui",{element_type:"modal",action:"displayed",gif_content:i.default.id("gif-name-holder").data("ax-id"),element_id:"end_of_skill_share_modal"})},j.staffBios=function(e){var t=!1,n=null!=e.data("delay")?e.data("delay"):200,a=i.default.id("prac-staff-bios"),r=function(i){if(l.default.is_mobile)a.modal();else{i.stopPropagation();var r=e.data("flag");r&&(k.default.update(r,!0),e.removeData("flag"),e.removeAttr("data-flag")),t=!t,e.toggleClass("bios-visible",t),t?(a.show(),o.default.defer(function(){a.addClass("in")})):(a.removeClass("in"),setTimeout(function(){a.hide()},n))}};e.find(".bios-hover-trigger").on("mouseenter mouseleave",function(t){e.data("flag")||e.toggleClass("bios-hover")}).on("click",r),e.find(".btn-bios").on("click",r)},j.pracSolutionToggle=(N={},function(e){e.on("click",function(){F(I(e)),e.blur();var t=e.data();if(t.axUrl&&t.targetObjectId&&!N[t.targetObjectId]){var n={element_id:t.axId,source_attempt_id:t.sourceAttemptId,target_object_id:t.targetObjectId,target_object_type:"solution",target_object_referrer:encodeURIComponent(t.targetObjectReferrer)};i.default.get(t.axUrl,n),N[t.targetObjectId]=!0}})}),j.autocompleteChapter=function(e){var t=e.find(".autocomplete-field"),n=(e.find(".autocomplete-target"),e.siblings(".field-concept-quiz,.field-challenge-quiz")),o=e.data("autocomplete-url");i.default.id("id_topic").on("change",function(){t.trigger("autocomplete.reset"),e.data("autocomplete-url",o+"?topic="+(0,i.default)(this).val())}),t.on("autocomplete.ready autocomplete.select",function(e){n.each(function(){var t=(0,i.default)(this),n=t.data("autocomplete-url").split(/\?/g)[0],o=e.autocomplete.id;o&&(n+="?chapter="+o),t.data("autocomplete-url",n)})})},j.endstate=function(e){var t=(0,i.default)(".solv-author"),n=(0,i.default)(".solv-problem");t.length&&o.default.defer(function(){var o=t.offset().top,a=n.outerHeight(!0),r=(0,i.default)(".solv-details").outerHeight(!0);if(a<r){var s=parseInt(n.css("margin-top"),10);a=r,s<0&&(a-=s),n.css("min-height",a)}var l="height";e.find(".potw-solutions-activity").length&&(l="outerHeight"),f.default.stick(e,{bottom:o,handler:function(e,t){if(e.hasClass("stuck-bottom")){var n=Math.max(a,r)-e[l]();e.css("top",n)}else e.css("top","")},namespace:"sticky-solv-details-endstate"})})},j.autoshowSolutions=function(e){var t=I(e);o.default.defer(function(){t.$solvable.find(".btn-solution[data-controller*=solutionButton]").click(),"replaceState"in window.history&&window.history.replaceState({},"",window.location.href.replace(/[\?|&]just_created=true/,""))})},j.wikiContribModal=function(e){i.default.id("wiki-contrib-btn").on("click",function(){e.modal()})},j.previewCustomEndstateText=function(e){e.on("click",function(){i.default.id("solv-custom-endstate-preview").toggle()})},j.wikiModalProblem=function(e){h.default.feeditem_modal(),e.find(".load-modal").each(function(){if(l.default.is_native){var e=(0,i.default)(this).find(".modal-link"),t=e.attr("href");t+=-1===t.indexOf("?")?"?":"&",t+="newwindow=true",e.attr("href",t).attr("target","")}else h.default.modal_events.apply(this,arguments),C.default.checkOverflow((0,i.default)(this))})},j.wikiExpandableProblem=function(e){var t=e.find(".problem-container");e.on("click",function(n){n.pageY<t.offset().top&&e.toggleClass("expanded")})};var H=function(e,t){var n=vkey.handle(e,t),o=n.parents(".solv-main"),a=I(o),r=o.find(".endstate").length>0;if(i.default.body.toggleClass("endstate",r),a.$solvable=n.parents(".solv-main"),a.solvableDidOnload=!1,P[o.data("solvable")]=a,j.solvable(o),j.solvableRedesign(o),l.default.is_mobile&&j.NotifyAboutGoodSolution.exists&&j.NotifyAboutGoodSolution.toggleIcon(a.data.answerIsCorrect||0===a.data.attemptNumber),function(e,t){if((e=e||(0,i.default)("[data-controller].dim")).length){e.removeClass("dim disabled").removeAttr("disabled"),e.data("solutions-loaded",t);var n=l.default.is_mobile?e.find(".main"):e;c.default.toggleButtonLoadingState(n,!1)}}((0,i.default)(".btn-solution.dim,.btn-solution.disabled"),(0,i.default)(".solv-simple-solution,.solv-solutions").length>0),E(a),y.default.saveitem.tooltip(),y.default.saveitem.forms(),n.mathjax_update(),l.default.is_mobile&&!i.default.body.hasClass("prac-solvable")){var s=o.find(".btn-solution");(0,i.default)(".solv-details.endstate.correct").length&&s.data("solutions-loaded",!0),!1===s.data("originally-disabled")&&s.removeClass("disabled")}else l.default.is_mobile&&j.solutionButton(o.find(".btn-solution").not(".btn-b2-flag"));if(l.default.instant_try_it_yourself&&r){var u=i.default.id("cmp_wiki_canonical_page_id");if(u.length){var f=u.find(".summary").data();(0,d.default)(f.pageKey).post(f.cmpUrl,{component_key:f.cmpKey,version:VERSIONS[f.cmpKey]})}}var p,h,m=n.find(".mcq.endstate .mcq");if(m.length&&T&&!a.data.canStillAnswer){var v=m.data("registered-choice").toString();v&&T!==v&&x.default.captureMessage("Registered choice does not match the corresponding clicked one",{tags:{"____Clicked.Choice":T,"___Registered.Choice":v,"__Answer.Is.Correct":a.data.answerIsCorrect,"_Problem.Url":window.location.href}})}if(T=null,(i.default.body.hasClass("portal-page")||i.default.body.hasClass("portal-feed-page"))&&(a.data.answerIsCorrect?(p="correct",h="Correct"):"solutions"===a.currentState?(p="viewed-solution",h="Viewed solution"):a.data.canStillAnswer?a.data.attemptNumber>0&&(p="incomplete",h="Not finished"):(p="incorrect",h="Incorrect"),p||h)){var g=a.$solvable.data("solvable"),_=(0,i.default)('.problems-section .feed-section-row[data-solvable-id="'+g+'"] .icon');p&&_.removeClass("correct viewed-solution incorrect incomplete").addClass(p),h&&_.attr("title",h)}return n};vkey.assessment_public_solvable_logged_in=vkey.hundred_day_challenge_solvable_logged_in=H,vkey.profile_problem_in_savedset_component=function(){var e=H.apply(vkey,arguments).parents(".solv-main");if(I(e).data.answerIsCorrect){(0,i.default)(".set-leaderboard").addClass("cant-submit-score");var t=i.default.id("set-leaderboard");if(t.length){var n=t.data();(0,d.default)(n.page_key).get(n.url,{version:VERSIONS[n.cmp_key],component_key:n.cmp_key})}}},vkey.quizzes_problemset=function(){var e=H.apply(vkey,arguments);j.cropActionsMenu(e);var t=e.parents(".prac-preload-wrapper");if(t.length&&m.default.practice(t,{reloaded:!0}),e.find(".mini-profile").mini_profile(),l.default.is_mobile){var n=e.find(".prac-endstate,.b2-solution");n.length&&0===i.default.id("solv-simple-solution").length&&c.default.Anchors.scrollToTarget(n)}else{var o=i.default.id("b2-solution"),r=e.find(".solv-details").hasClass("endstate");o.length&&r&&!0!==a.default.get("auto_scrolled_to_free_solution")&&(c.default.Anchors.scrollToTarget(o),a.default.set("auto_scrolled_to_free_solution",!0))}},vkey.potw_problemset=vkey.potw_problemset_default=vkey.quizzes_problemset;var R=function(e,t,n){var i=vkey.handle(e,t);i.find(".latex").mathjax_update(),g.default.votes(),g.default.add_form(),g.default.subscribe(),i.find(".vote-trigger.with-tooltip").tooltip(),g.default.events(),i.find(".mini-profile").mini_profile(),i.find(".latexprocessor-block,.latexprocessor-inline").scale_svg();var o=I(i.parents(".solv-main"));A(o,n)};vkey.quizzes_challengesolvablesolutionlist=vkey.potw_solvablesolutionlist=vkey.solutiondiscussions_publicsolvablesolutionlist=function(e,t){R(e,t,"solutions")},vkey.potw_solvabledisputelist=vkey.quizzes_solvabledisputelist=vkey.disputediscussions_publicsolvabledisputelist=function(e,t){R(e,t,"disputes")};var G=function(e,t){var n=vkey.handle(e,t);return I(i.default.id("solv-main")),n.find(".latex").mathjax_update(),g.default.add_form(),n};vkey.quizzes_challengesolvableaddsolutionpost=vkey.potw_addsolvabledisputepost=vkey.potw_solvableaddsolutionpost=vkey.quizzes_addsolvabledisputepost=vkey.groups_groupsolvableaddsolutionpost=vkey.solutiondiscussions_publicsolvableaddsolutionpost=vkey.disputediscussions_publicsolvableadddisputepost=G,vkey.disputediscussions_publicsolvableadddisputepostmodal=vkey.potw_addsolvabledisputepostmodal=vkey.quizzes_addsolvabledisputepostmodal=function(){var e=G.apply(vkey,arguments);b.default.initGenericControllers(e)},vkey.quizzes_solvabledisputesubscribe=vkey.quizzes_challengesolvablesolutionsubscribe=vkey.disputediscussions_publicsolvabledisputesubscribe=vkey.solutiondiscussions_publicsolvablesolutionsubscribe=function(e,t){vkey.handle(e,t),g.default.subscribe()},vkey.quizzes_interstitial_pane=function(e,t){var n,o=vkey.handle(e,t),a=o.parents(".prac-preload-wrapper");a.length&&(!0===i.default.body.data("reloading-disputes")?(n=!1,i.default.body.data("reloading-disputes",!1)):!0===i.default.body.data("reloading-pane-from-chapter-intro")?(n=!1,i.default.body.data("reloading-pane-from-chapter-intro",!1)):n=!(o.find(".solv-pane.is-editing-pane").length>0||i.default.id("sales-card").length>0),m.default.practice(a,{reloaded:!0,useTargetPosition:n}))},e.exports=j},function(e,t,n){"use strict";var i,o,a,r,s,l,c,d,u=n(0),f=(n(1),{});f.toggle=(i=!1,o=function(){var e=u(this);e.replaceWith(e.data("original"))},a=function(e,t){var n=u.create("inline"===t?"span":"div");n.append(e.attr("title")).data("original",e).addClass("latexprocessor-"+t+" latex-raw-"+t),e.replaceWith(n)},r=function(){a(u(this),"inline")},s=function(){a(u(this),"block")},l=function(e,t){var n="inline"===t,i=u.create(n?"span":"div"),o=n?"MathJax":"MathJax_Display",a=n?"\\(%s\\)":"\\[%s\\]";i.append(a.replace("%s",e.next("script").text())).data("original",e).addClass(o+" latex-raw-"+t),e.replaceWith(i)},c=function(){l(u(this),"inline")},d=function(){l(u(this),"block")},function(e){e.on("click",function(e){e.preventDefault(),u(".latexprocessor-block").each(i?o:s),u(".latexprocessor-inline").each(i?o:r),i?(u(".MathJax").each(o),u(".MathJax_Display").each(o)):(u(".MathJax_Display").each(d),u(".MathJax").each(c)),i=!i})}),f.checkOverflow=function(e){(e?e.find(".latexprocessor-inline"):u(".latexprocessor-inline")).each(function(){var e=u(this);e.outerWidth()>e.parent().outerWidth()&&e.addClass("overflowed")})},u(function(){f.checkOverflow()}),e.exports=f},,function(e,t,n){"use strict";var i;try{i="localStorage"in window&&null!==window.localStorage,window.localStorage.setItem("wafer-test","wafer-test-value"),"wafer-test-value"!==window.localStorage.getItem("wafer-test")&&(i=!1),window.localStorage.removeItem("wafer-test")}catch(e){i=!1}if(!i)var o={setItem:function(e,t,n){var i=!0===n?-1:30,o=new Date;o.setDate(o.getDate()+i),document.cookie=e+"="+escape(t)+"; expires="+o.toUTCString()},getItem:function(e){return-1!==document.cookie.indexOf(e+"=")&&unescape(document.cookie.split(e+"=")[1].split(";")[0].replace("=",""))},removeItem:function(e){this.setItem(e,"",!0)}};var a={_s:i?window.localStorage:o,get:function(e){var t=this._s.getItem(e);try{return JSON.parse(t)}catch(e){return t}},set:function(e,t){try{JSON.parse(t)}catch(e){t=JSON.stringify(t)}try{return this._s.setItem(e,t)}catch(e){return!1}},remove:function(e){return this._s.removeItem(e)}};e.exports=a},,function(e,t,n){"use strict";var i,o,a,r=n(0),s=n(1),l=(n(3),n(5)),c=n(45),d=n(9),u=n(14),f=n(7),p=n(11),h={hitPreviewSolution:!1},m=(i=null,o=null,a={version:1,commentId:null,formIdParentId:null,parentId:null,topLevelDiscCommentForm:!1,paramKey:null,commentText:"",isEditingThis:!1,commentFormSuccess:!1,errors:"",commentUserIsStaff:!1,commentUserName:null},function(e){if(e.length&&e.hasClass("comment-form-placeholder")||(e=e.find(".comment-form-placeholder")).length){if(null===i){var t=r.id("comment-form-template");i=s.template(t.text());var n=u.getParamsObject();n.sort&&(o=n.sort)}var c=e.data();o&&c.formUrl.indexOf("sort="+o)<0&&(c.formUrl=u.appendGetParam(c.formUrl,"sort",o)),c.formId="discussion_comment_form_id_",c.formIdParentId?c.formId+="parent_id_"+c.formIdParentId:c.commentId?c.formId+="comment_"+c.commentId:c.postId?c.formId+="post_"+c.postId:c.formId+="unknown",c.formIdParentId?c.autosaveKey="comment-for-"+c.formIdParentId:c.commentId?c.autosaveKey="comment-"+c.commentId:c.autosaveKey="top-comment-for-"+c.postId;var d=e.find(".errorlist").get(0);d&&(c.errors=d.outerHTML),c=s.extend({},a,c);var p=r(i(c)),m=e.parent();e.replaceWith(p),h.init(),f.initGenericControllers(m),s.defer(function(){m.find("form").off("submit"),l.autosubmit.init(m)}),d&&p.find("textarea:visible").focus()}});h.editEvents=function(e){var t=".cmmnt, .discsol-post";e.find(".edit-link .action").on("click",function(){var e=r(this),t=e.find(".dropdown-menu"),n=t.outerWidth()<e.offset().left+e.outerWidth()+10;t.toggleClass("pull-right",n)}),e.find(".edit-comment-trigger").off_on("click.commentediting",function(e){e.preventDefault();var n=r(this).parents(t);m(n),n.addClass("editing"),n.find(".comment-form").removeClass("previewing");var i=n.find("textarea:visible");_(i),i.focus().mentionsAndWikiLinks().autosize();var o=n.find("fieldset");c.setVal(o)}),e.find(".cancel-edit-trigger").off_on("click.commentediting",function(e){e.preventDefault(),r(this).parents(t).removeClass("editing focused replying")}),e.find(".delete-trigger").off_on("click.commentediting",function(e){e.preventDefault(),r(this).parents(t).addClass("deleting")}),e.find(".delete-cancel-trigger").off_on("click.commentediting",function(e){e.preventDefault(),r(this).parents(t).removeClass("deleting")}),e.find(".saved").delay(5e3).fadeOut(200,function(){r(this).remove()})},h.expander=function(e){e.find(".discsol-post .desc, .discsol-post .cmmnt .text").each(function(){var e=r(this);e.innerWidth()!==e[0].scrollWidth&&e.addClass("scrollable")})};var v=function(e){var t=r.id("voting_div_for_comment_"+e),n=t.find(".vote-up.voted").length>0,i=t.find(".vote-down.voted").length>0;return n?"True":i?"False":"None"},g=function(e,t){var n=e.data("vote-count")+t;e.toggleClass("voted",t>0),e.data("vote-count",n),e.find(".count").html(n),e.blur()},_=function(e){e.off_on("mentions.show",function(){e.parents(".cmmnt").addClass("mentions-active")}).off_on("mentions.hide",function(){e.parents(".cmmnt").removeClass("mentions-active")})};h.events=function(e){var t=(e=e||r.body).find(".comment-form").not("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id");t.each(function(e,t){var n=r(t);n.find("textarea:visible").each(function(e,t){var i=r(t);_(i),i.mentionsAndWikiLinks();var o=function(){i.autosize(),n.addClass("focused"),setTimeout(function(){i.trigger("autosize.resize")},100)};i.val()?o():i.one("input",function(){o()})})}),t.filter(".previewing").find("textarea").mentionsAndWikiLinks();var n=t.find(".comment-form-buttons");n.find(".preview").off_on("click.previewlink",function(e){e.preventDefault();var t=r(this),n=r(this).parents("form");t.parents(".comment-form-buttons").addClass("dim"),l("discussions_comments").form(n.get(0),{preview_comment:!0})}),n.find(".edit").off_on("click.editlink",function(t){t.preventDefault(),r(this).parents(".comment-form").removeClass("previewing"),h.events(e)}),n.find("[type=submit]").on("click",function(){r(this).parents(".comment-form-buttons").addClass("dim")}),e.find(".cmmnt").each(function(){var e=r(this),t=e.next(".cmmnt-container"),n=t.find(".reply-form-wrapper"),i=e.find(".show-replies"),o=e.find(".hide-replies"),a=e.find(".reply-unhide-link");i.on("click",function(){e.addClass("expanded"),t.removeClass("hide"),n.hasClass("replying")||a.removeClass("hide"),!0===i.data("show-all-replies")&&e.parents(".cmmnt-container").addClass("show-all-replies")}),o.on("click",function(){e.removeClass("expanded"),t.addClass("hide"),a.addClass("hide")})}),e.find(".cmmnt:not(.solution)").each(function(){var e=r(this);e.find(".reply-unhide-link").off_on("click.unhidereply",function(t){t.preventDefault();var n=r(this),i=e.data("comment"),o=r("div.unhide_new_reply_"+i);if(m(o),o.toggleClass("replying"),o.hasClass("replying")){n.addClass("hide");var a=o.find("textarea");_(a),a.mentionsAndWikiLinks();var s=o.find("fieldset");c.setVal(s),a.focus(),o.find(".cancel-edit-trigger").one("click",function(){n.removeClass("hide")})}})}),e.find(".discsol-post").find(".reply-unhide-link").off_on("click.comments",function(){var e=r(this).parents(".discsol-post").next(".discsol-comments");e.toggleClass("hide-form"),e.hasClass("hide-form")||e.find(".top-level-comment-form textarea").mentionsAndWikiLinks()}),e.find(".cmmnt .text").each(function(){var e=r(this),t=e.data("preface-html");t&&(r("p:first",e).prepend(r(t)),e.removeAttr("data-preface-html").removeData("preface-html"))}),t.find("textarea").off_on("focus.commentform",function(){var e=r(this).parents(".comment-form");e.addClass("focused"),e.find("textarea:visible").autosize()}),function(e){(e=e||r.body).find(".cmmnt").find(".vote").off_on("click.commentvote",function(e){var t=r(this),n=t.parents(".voting"),i=n.find(".vote-up"),o=n.find(".vote-down"),a=n.data("action_url"),s=n.data("comment_id"),l=v(s),c=t.hasClass("vote-up")?"True":"False";l==c&&(c="None"),r.ajax({type:"POST",url:a,data:{comment_id:s,vote:c}}).fail(p.handler).then(function(e){var t=v(s);t!=e.vote&&("None"==e.vote?g("True"==t?i:o,-1):"True"==e.vote?(g(i,1),"False"==t&&g(o,-1)):"False"==e.vote&&(g(o,1),"True"==t&&g(i,-1)))})})}(),this.editEvents(e.find(".disc-comments")),e.find(".top-level-comment-form,.cmmnt.editing,.reply-form-wrapper.replying").each(function(){m(r(this))})},h.subscribe=function(e){(e=e||r.body).find("a.discussions_subscribe").off_on("click.dscsubscr",function(e){e.preventDefault();var t=r(this),n=t.parents("form"),i=n.find("input[type=checkbox]"),o=n.parents(".disc-post"),a=!t.hasClass("subscribed"),s=n.data();if(t.parents(".wiggle").removeClass("wiggle"),0===o.length&&(o=r(".disc-comments-list")),i.prop("checked",a),n.submit(),!a){var l=o.find(".comment-subscr[data-subscribed=true]"),c={title_text:s.confirmTitle,cancel_text:s.confirmCancel,ok_text:s.confirmOk};l.length>0&&r.confirm(s.confirmText,c,function(e){e&&l.each(function(){r(this).submit()})})}})},h.expandThreadsFor=function(e){e.parents(".cmmnt-container").prev(".cmmnt").find(".show-replies").trigger("click")},h.formattingGuideLink=function(e){var t,n;e.on("click",function(i){i.preventDefault(),t=t||e.data(),(n=n||r(t.target)).fadeToggle(100,function(){n.is(":visible")&&d.Anchors.scrollToTarget(n)})})},h.init=function(e){e=e||r.body,this.events(e),this.votes(e),this.subscribe(e),this.expander(e),e.find(".latexprocessor-block,.latexprocessor-inline").scale_svg()},h.votes=function(e){var t=(e=e||r.body).find(".discsol-vote").not(".inited").not(".disabled");t.addClass("inited"),t.on("click",function(){var e=r(this),t=e.data(),n="True"===t.currentVote?"None":"True";e.hasClass("disabled")||(e.addClass("disabled"),r.ajax({type:"POST",url:t.actionUrl,data:{post_id:t.postId,vote:n}}).fail(p.handler).then(function(n){if(e.removeClass("disabled"),n.success){"True"===n.vote?(e.addClass("voted"),t.count++):(e.removeClass("voted"),t.count--),e.data("current-vote",n.vote);var i=e.find(".vote-count");i.length?i.find(".count").html(t.count):e.find(".count").html(t.count)}}))})},h.add_form=function(){r("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id, .edit-solution-form").each(function(){var e=r(this),t=e.find(".comment-form-buttons"),n=t.find(".preview"),i=t.find(".edit");n.off_on("click.dsc",function(n){var i;n.preventDefault(),t.addClass("dim"),e.hasClass("edit-solution-form")?(i={preview_comment:!0},h.hitPreviewSolution=!0):i={preview_post:!0},l("discussions").form(r("#"+r(this).data("preview_form_id")),i)}),i.off_on("click.dsc",function(t){t.preventDefault(),e.removeClass("previewing"),r("textarea:visible").mentionsAndWikiLinks()})})},e.exports=h},,function(e,t,n){"use strict";var i=n(0),o={update:function(e,t,n){void 0===t&&(t=!0),n=n||function(){};var o=(t?"/profile/set_flag/":"/profile/unset_flag/")+e+"/";i.post(o).then(function(e){n(e)}).fail(function(e,t,i){n({success:!1,error:i,status:e.status})})},controller:function(e){var t=e.data("flag")||null;null!==t&&e.on("click",function(){o.update(t,!0)})}};e.exports=o},,,function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=n(7),s=n(5),l=n(18),c=n(8),d=n(9),u={},f={solvableList:[],currentPosition:null,$markers:null,inited:!1,solvablesLoaded:0,submitted:!1,noHistory:!1,enableKeyboardNav:!1,targetPosition:null},p={},h={reloaded:!1,instantResponse:!1};u.practice=function(e,t){t=o.extend({},h,t||{});var n=e.data("id");!0===t.reset?p[n]={solvableList:f.solvableList.slice(0),currentPosition:f.currentPosition,$markers:f.$markers,inited:f.inited,solvablesLoaded:f.solvablesLoaded,submitted:f.submitted,noHistory:f.noHistory,targetPosition:f.targetPosition}:p[n]=p[n]||Object.assign({},f,{solvableList:f.solvableList.slice(0)}),p[n].currentPosition=null===p[n].currentPosition?e.data("current")-1:p[n].currentPosition;var u=e.data();p[n].noHistory=u.noHistory,p[n].enableKeyboardNav=!0===u.enableKeyboardNav;var m=function(t,d){d=!0===d;var u=i.id("interstitial-pane-continue-form");if(u.length)return p[n].targetPosition=t,void u.submit();if(p[n].targetPosition=null,t!==p[n].currentPosition&&p[n].solvableList[t]){var f=p[n].solvableList[t].content;switch(f){case"notloaded":!function(t){e.addClass("loading"),e.one("preloaded.p"+t,function(){m(t),"error"!==p[n].solvableList[t].content&&e.removeClass("loading")})}(t);break;case"error":!function(e){p[n].noHistory?window.location.reload():window.location=p[n].solvableList[e].url}(t);break;default:!function(t,d,u){i.body.trigger("quizSolvablePositionWillChange");var f=e.find("#solv-main").add(i.id("admin-sidebar")),h=i(d),m=h.find("#interstitial-pane-continue-form");m.length&&1==p[n].$markers.filter(":not(.correct,.incorrect)").length&&(m.find('input[name="form_name"]').val("continue_and_finish"),m.find("button").html("Finish quiz")),p[n].solvableList[p[n].currentPosition].content=f,p[n].currentPosition=t,f.remove(),e.append(h);var g=e.find(".endstate").length>0;i.body.toggleClass("endstate",g),l.loadForElement(e),r.initGenericControllers(e,{force:!0}),s.autosubmit.init(e),c.set_analytics_events(e),e.find(".mini-profile").mini_profile(),_(),i.body.add(i.html).scrollTop(0),u||v(p[n].currentPosition);var y=p[n].solvableList[p[n].currentPosition];y.viewed||(p[n].solvableList[p[n].currentPosition].viewed=!0,o.defer(function(e,t){var n=window.location,o=n.pathname;c.track("sign_of_life",{from_request:!0,is_android:a.is_android,ajax:!1,path:o,method:"GET",full_path:o+n.search});var r=null;switch(e.data.contentType){case"solvable":r={position:t+1};break;case"interstitial_pane":r={action:e.data.paneAction,ipconn_id:e.data.paneConnection,quiz_id:e.data.paneQuiz}}r&&i.ajax({method:"POST",url:e.data.statusUrl,data:JSON.stringify(r),headers:{"Content-type":"application/json"}})},y,p[n].currentPosition)),i.body.trigger("quizSolvablePositionChanged")}(t,f,d)}}},v=window.history.pushState&&!p[n].noHistory?function(e){o.defer(function(){var t={position:e};window.history.pushState(t,"",p[n].solvableList[e].url)})}:function(){},g=function(e){var t=i(this),o=t.data("position");if(void 0===o)if(t.hasClass("btn-prev")){var a=p[n].$markers.filter(":not(.correct, .incorrect, .completed)");o=t.hasClass("solv-done-btn")&&a.length?a.first().data("position"):p[n].currentPosition-1}else o=p[n].currentPosition+1;e.preventDefault&&e.preventDefault(),t.hasClass("disabled")||m(o)},_=function(){var r=function(){return i.id("prac-markers-".concat(n))};if(null===p[n].$markers||t.reloaded){if(p[n].$markers=r().find(".prac-marker"),p[n].currentPosition=p[n].currentPosition<0?p[n].$markers.filter(".current").data("position"):p[n].currentPosition,a.is_mobile&&!t.instantResponse){var s=p[n].solvablesLoaded<p[n].solvableList.length-1;o.defer(function(){e.find(".btn-prev:not(.solv-done-btn)").toggleClass("disabled",0===p[n].currentPosition),e.find(".btn-next:not(.solv-done-btn)").toggleClass("disabled",p[n].currentPosition===p[n].solvableList.length-1)}),p[n].$markers.toggleClass("disabled",s),e.find(".actions-container").toggleClass("disabled",s)}}else p[n].$markers.removeClass("current"),p[n].$markers.eq(p[n].currentPosition).addClass("current"),r().empty().append(p[n].$markers);p[n].$markers.off_on("click.quiznav touchstart.quiznav",g),e.find(".btn-next,.btn-prev").not(".btn-continue").off_on("click.quiznav touchstart.quiznav",g),e.find("#text_answer_entry_form,#mcq-form,#start-over-btn").on("submit",function(){p[n].submitted=!0,p[n].solvablesLoaded!==p[n].solvableList.length&&(e.find(".btn-next,.btn-prev").add(p[n].$markers).addClass("disabled"),e.find(".actions-container").addClass("disabled"))}),y(),e.mathjax_update()},y=function(){var t=e.data("num-free-solutions-remaining"),o=e.data("revealed-solution-position")||[],a=i.id("alt-solution-btn").children();if(t>0&&i.id("solv-simple-solution").length)e.data("num-free-solutions-remaining",t-1),o.push(p[n].currentPosition),e.data("revealed-solution-position",o);else if(0===t&&-1===o.indexOf(p[n].currentPosition)&&a.length){var s=e.find(".btn-solution-full");s.length&&s.each(function(){var e=i(this),t=a.clone(),n=e.parents(".solv-main").find(".solv-details"),o=t.data("ax-id");e.replaceWith(t),o=n.hasClass("incorrect")?o.replace("preloaded","incorrect"):n.hasClass("correct")?o.replace("preloaded","correct"):o.replace("preloaded","nonterminal"),t.data("solvable",n.data("solvable")),t.data("ax-id",o),r.executeFunctionByName(t.data("controller"),t),c.set_analytics_events(t.parent())})}};_(),p[n].inited||(p[n].inited=!0,p[n].$markers.each(function(t){var a=i(this),r=p[n].currentPosition===t,s=a.data();p[n].solvableList.push({url:a.attr("href"),data:s,viewed:r,content:r?e.find("#solv-main"):"notloaded"}),r&&!s.isDummy||o.defer(function(){var t,o;o=(t=a).data("position"),i.get(t.attr("href"),{web_preloading:!0,is_preloading:!0,force_full_page:!0}).then(function(t){p[n].solvableList[o].content=t,e.trigger(i.Event("preloaded.p"+o)),p[n].solvablesLoaded++}).fail(function(){p[n].solvableList[o].content="error",e.trigger(i.Event("preloaded.p"+o))})})}),p[n].noHistory||i.window.on("popstate",function(){if(p[n].submitted)window.history.forward();else{var e;try{e=parseInt(window.location.href.match(/p=(\d)/)[1],10)-1}catch(t){e=window.history.state&&"position"in window.history.state?window.history.state.position:0}m(e,!0)}}),p[n].enableKeyboardNav&&d.keyboardNavigation({eventKey:"preloader",guard:function(){return i.body.hasClass("modal-open")||0===p[n].$markers.filter(".disabled").length},left:function(){m(p[n].currentPosition-1)},right:function(){m(p[n].currentPosition+1)}})),t.instantResponse||(p[n].submitted=!1),t.reloaded=!1,t.instantResponse=!1,t.useTargetPosition&&(null===p[n].targetPosition?(p[n].targetPosition=p[n].currentPosition+1,p[n].targetPosition<p[n].solvableList.length&&m(p[n].targetPosition)):m(p[n].targetPosition),p[n].targetPosition=null)},u.convertDummyPreloader=function(e,t){var n="notloaded";try{n=p[t].solvableList[0].content}catch(e){}if("notloaded"!==n&&"error"!==n){var o=i(n);e.empty().append(o),i.id("admin-sidebar").remove(),e.data("enable-keyboard-nav",!0),p={},u.practice(e),s.autosubmit.init(o),r.initGenericControllers(o),c.set_analytics_events(o),l.loadForElement(o)}else window.location.reload()},e.exports=u},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(24);i.extend({doc:i(document),html:i(document.documentElement),body:i(document.body),window:i(window),id:function(e){var t=[];return o.each(arguments,function(e){var n=document.getElementById(e);n&&t.push(n)}),i(t)},cmp:function(e){var t=o.map(arguments,function(e){return"cmp_"+e+"_id"});return i.id.apply(this,t)},create:function(e){return i(document.createElement(e))}}),i.fn.off_on=function(){var e=arguments;return i(this).each(function(){var t=i(this);t.off(e[0]),i.fn.on.apply(t,e)})},i.fn.scale_svg=function(e){var t=e||.65;return this.each(function(){var e=i(this).find("svg");e.length>0&&e.each(function(){var e=i(this);e.data("orig-width")?e[0].style.width=e.data("orig-width")+"ex":e.data("orig-width",parseFloat(e[0].style.width,10));var n=e.parent().width()+4,o=parseInt(e[0].style.width,10),a=~~e.width(),r=~~(o*n/a);a>n&&r/o>=t&&(e[0].style.width=r+"ex")})})},i.confirm_opts={title_text:"Confirm",cancel_text:"Cancel",ok_text:"Ok",modal_class:""},i.confirm=function(e,t,n){"function"==typeof t?(n=t,t=i.confirm_opts):t=i.extend({},i.confirm_opts,t),n=n||function(){},i("#confirm-modal").length>0&&i("#confirm-modal").remove();var o=!1,a='<div class="modal hide '+t.modal_class+'" id="confirm-modal"><div class="modal-header"><h3>'+t.title_text+'</h3></div><div class="modal-body">'+(e?"<p>"+e+"</p>":"")+'</div><div class="modal-footer"><a href="#" class="btn cancel" data-dismiss="modal">'+t.cancel_text+'</a><a href="#" class="btn btn-accent confirm">'+t.ok_text+"</a></div></div>";i("body").append(a);var r=i("#confirm-modal");return r.find(".confirm").on("click",function(e){e.preventDefault(),o=!0,r.modal("hide")}),r.on("hide",function(e){n(o)}),i("body #confirm-modal").modal()},i.notice_modal=function(e,t,n){n=n||function(){},i("#confirm-modal").length>0&&i("#confirm-modal").remove();var o='<div class="modal hide" id="confirm-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">×</button><h3>'+e+'</h3></div><div class="modal-body"><p>'+t+'</p></div><div class="modal-footer"><a href="#" class="btn confirm">Ok</a></div></div>';i("body").append(o);var a=i("#confirm-modal");return a.find(".close, .cancel").on("click",function(){i(document).off("keydown.confirm_modal"),n(!1)}),a.find(".confirm").on("click",function(){i(document).off("keydown.confirm_modal"),a.modal("hide"),n(!0)}),i(document).on("keydown.confirm_modal",function(e){27===e.which&&(i(document).off("keydown.confirm_modal"),n(!1))}),i("body #confirm-modal").modal()},i.fn.submit_auto_disable=function(){return i(this).each(function(){var e=i(this),t=[],n=[];i._data(this).events&&(n=(n=i._data(this).events.submit||[]).slice(0)),this.onsubmit&&t.push(this.onsubmit),i.each(n,function(e,n){t.push(n.handler)}),this.onsubmit=function(){},e.off_on("submit",function n(o){var a,r=!1,s=!1;for(a in t)try{this.next_handler=t[a],!1===this.next_handler(o)&&(r=!0)}catch(e){}return o.isDefaultPrevented&&o.isDefaultPrevented()&&(s=!0),r||s||(e.off_on("submit",function(e){e.preventDefault()}),i.window.off_on("pageshow.auto_disable",function(t){t.originalEvent.persisted&&e.off_on("submit",n)})),!r})})},i.fn.persist_alert_dismiss=function(){return i(this).filter(".alert").each(function(){var e=i(this).get_persistent_key();"hidden"!==a.get(e)?(i(this).show(),i(this).find("[data-dismiss=alert]").on("click",function(){a.set(e,"hidden")})):i(this).hide()}),i(this)},i.fn.get_persistent_key=function(){var e=i(this).data("id")||i(this).attr("id")||null;if(null===e)throw Error("ID attribute is required for peristent alerts");return"persist_alert_dismiss__"+e},i.fn.is_in_pane=function(e){var t=0;null!==(e=e||null)&&e[0]?t=e.offset().top:e=i.window;var n=i(this[0]);if(0===n.length||!n.is(":visible"))return!1;var o=e.scrollTop(),a=o,r=a+e.height(),s=(e[0]===window?0:o)+n.offset().top-t,l=s+n.outerHeight();return s<=r&&l>=a},i.fn.scrollHeight=function(){return this.length?this[0].scrollHeight:null},i.extend(i.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n},easeOutBounce:function(e,t,n,i,o){return(t/=o)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n}});var r=!1;i.modal=function(e){var t,n,o,a="";if(r||(r=i("#global-modal-data").data()),"string"==typeof arguments[0]?(t=arguments[0]||!1,n=arguments[1]||!1,o='<a href="#" class="btn btn-accent" data-dismiss="modal">'+r.close+"</a>",e={}):(t=e.title||!1,n=e.content||!1,o=e.footer||'<a href="#" class="btn" data-dismiss="modal">'+r.close+"</a>"),!1===t||!1===n)throw new Error("title and content are required for $.modal");return a+='<div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button>',!1!==t&&(a+="<h3>"+t+"</h3>"),a+="</div>",a+='<div class="modal-body">',!1!==n&&(a+="<p>"+n+"</p>"),a+="</div>",a+='<div class="modal-footer">',!1!==o&&(a+=o),a+="</div>",i("body #auto-modal").remove(),i("body .modal-bg").remove(),i(".modal:visible").modal("hide"),i("body").append('<div class="modal hide" id="auto-modal">'+a+"</div>"),i("body #auto-modal").modal(e)},i.fn.mathjax_update=function(){return i(this).each(function(){var e=i(this);try{window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.get(0)])}catch(e){}e.filter(".uses-latex, .latex").css("visibility","visible"),e.find(".uses-latex, .latex").css("visibility","visible")})}},function(e,t,n){"use strict";n(0);var i={get:function(e){var t=e[0];if(t){if(t.selectionStart)return t.selectionStart;if(!document.selection)return 0;var n,i=Global.octalCursorChar,o=document.selection.createRange(),a=o.duplicate();return a.moveToElementText(t),o.text=i,n=a.text.indexOf(i),o.moveStart("character",-1),o.text="",n}},set:function(e,t,n){var i=e[0];if(n=n||t,i)if(i.createTextRange){var o=i.createTextRange();o.move("character",t),o.select()}else i.selectionStart?(i.focus(),i.setSelectionRange(t,n)):i.focus()},insert:function(e,t,n){var i=e[0];i&&(document.selection?(i.focus(),sel=document.selection.createRange(),sel.text=t):i.selectionStart||"0"==i.selectionStart?i.value=i.value.substring(0,n)+t+i.value.substring(n,i.value.length):i.value+=t)}};e.exports=i},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(177),r=n(8),s=n(24),l={},c=null,d=!0,u=null,f=window.btoa||function(e){return e.split("").map(function(e){return e.charCodeAt(0)}).join("")};function p(e){return r.identity+"_brilliant-branch-"+e}function h(){u&&(i.body.removeClass("branch-banner-active"),u.removeClass("in"),u=null)}l.disable=function(){d=!1},l.init=function(e){var t=e.data();c=f(r.superProperties.sessionid||"unknown"),a.init(t.branchKey,function(e,n){if(!e){try{a.setIdentity(r.identity)}catch(e){}var l=n&&!0===n.has_app;if(r.setSuperProperties({branch_has_app:l}),!l){var f={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:!0}};a.link(f,function(e,n){!e&&d&&t.showBanner&&function(e,t){if("closed"!==function(e){var t=s.get(p("banner"));return t&&(t=t.split(":"),c===t[0])?t[1]:null}()){var n=o.template(i.id("branch-banner-tmpl").text()),a=i(n({link:e,hasApp:t}));i.body.addClass("branch-banner-active").append(a),r.set_analytics_events(a),setTimeout(function(){a.addClass("in")},1e3),a.find(".close").on("click",function(){return h()}),a.find("button,a").on("click",function(e){var t,n;t="banner",n="closed",s.set(p(t),c+":"+n)}),u=a}}(n,l)})}}})},l.hideBranchBanner=function(){return h()},e.exports=l},function(e,t,n){"use strict";var i=f(n(0)),o=f(n(1)),a=f(n(11)),r=f(n(18)),s=f(n(27)),l=n(7),c=n(8),d=n(3),u=n(9);function f(e){return e&&e.__esModule?e:{default:e}}n(120);var p,h={},m=null,v=!1,g=function(e){(0,c.track)("payment timeout error",{step:e})};h.SellPage=new function(){return this.controller=function(e){var t=i.default.id("subscription-info-modal").detach();t.length&&e.find(".learn-more").on("click",function(e){e.preventDefault(),t.clone().modal()});var n=e.find(".bulk-pricing");n.find(".btn-link").on("click",function(){n.toggleClass("expanded")})},this},h.paywallGiftModal=function(e){var t=e.find("#paywall-gift-modal"),n=t.find("form"),r=null;P(),e.find(".show-gift-modal").on("click",function(){r=(0,i.default)(this).data("plan"),v&&(t.find("li :input:not(select)").val(""),v=!1),d.isMobile&&(t.on("show",function(){i.default.body.css("position","fixed")}),t.on("hide",function(){i.default.body.css("position","relative")})),t.modal(),o.default.defer(function(){t.find("input:visible:first").focus()})}),i.default.id("paywall-gift-modal-back").on("click",function(){i.default.id("paypal-modal").find(".sell-page").removeClass("visible"),t.modal("show")}),n.off_on("submit",function(s){s.preventDefault();var l={};n.find(":input").each(function(){this.name&&(l[this.name]=this.value)}),n.find(".errorlist").hide(),i.default.post(n.prop("action"),l).fail(a.default.handler).then(function(a){a.gift_message_id?(m=a.gift_message_id,t.modal("hide"),e.data("paypal-is-supported")?G(r):(0,i.default)("#stripe-hidden-checkout-btn-"+r+" .stripe-checkout-btn").click()):a.errors&&o.default.each(a.errors,function(e,t){var i=e.map(function(e){return"<li>"+e+"</li>"}).join("");n.find("#error-"+t).html(i).show()})})})},h.giftDatepicker=function(e){e.datepicker(o.default.extend({},{maxViewMode:0,minViewMode:"days",startView:0,clearBtn:!1,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}},e.data())),e.on("changeDate",function(e){var t=e.date.getFullYear(),n=e.date.getMonth()+1,o=e.date.getDate();i.default.id("gift-date-text").text(t+"/"+n+"/"+o),i.default.id("id_delivery_date_year").val(t),i.default.id("id_delivery_date_month").val(n),i.default.id("id_delivery_date_day").val(o)})},h.giftSubscriptionHandler=function(e){e.success?window.location.href=e.gift_purchase.show_url:a.default.standardError()},h.giftShowPurchasePage=function(e){var t=e.find("form"),n=i.default.id("paywall-gift-modal").modal({show:!1});e.find(".print-btn").on("click",function(){window.print()}),e.find(".edit-btn").on("click",function(){n.modal("show")}),t.off_on("submit",function(e){e.preventDefault();var r={};t.find(":input").each(function(){this.name&&(r[this.name]=this.value)}),t.find(".errorlist").hide(),i.default.post(t.prop("action"),r).fail(a.default.handler).then(function(e){e.success?(n.modal("hide"),i.default.id("gift-message").text(e.message)):e.errors&&o.default.each(e.errors,function(e,n){var i=e.map(function(e){return"<li>"+e+"</li>"}).join("");t.find("#error-"+n).html(i).show()})})})},h.paywallCourses=function(e){var t=e.find(".btn-group .btn"),n=function(e){(0,c.track)("ui",o.default.extend({action:"click",path:window.location.pathname,full_path:window.location.pathname+window.location.search},e))};t.on("click",function(){var o=(0,i.default)(this);o.hasClass("active")||(t.toggleClass("active"),e.toggleClass("practice"),n({element_id:"clicked_paywall_courses_tab",tab_name:o.data("ax-tab")}))}),e.find(".course").on("click",function(){var e=(0,i.default)(this);e.toggleClass("flipped"),n({element_id:"clicked_paywall_course_group",course_group:e.data("ax-course-group")})})},h.Checkout={};var _,y,b=null,w=function(e,t,n){var o=i.default.id("paid-subscribe").data(),r=o.url,c={plan:p.plan,stripeToken:e.id},d={url:r,data:c,type:"POST",timeout:6e4};m&&(c.gift_message_id=m),k()&&(d.url=i.default.id("inr-one-time-card-payment").data("url"),d.data.order_id=p.paytmOrderId,d.data.amount=p.amount),C()&&(d.url=i.default.id("stripe-one-time-payment").data("url"),d.data.payment_plan_id=p.paymentPlanId||p.plan,d.data.amount=p.amount);var u=i.default.ajax(d);if(!0===n)return u;u.then(function(e){if(o.callback)h[o.callback](e);else{var t=(0,i.default)(document.createElement("div")).append(e);i.default.body.append(t),(0,l.initGenericControllers)(t)}}).fail(function(e){"timeout"===e.statusText&&(s.default.captureMessage("stripeTokenHandler: timeout error"),g("Sending token to backend")),a.default.handler(e)}),null!==b&&((k()||C())&&(0,i.default)(".payment-options-modal").find(".close").trigger("click"),b.modal("show"))},k=function(){return void 0!==p.paytmOrderId},C=function(){return void 0!==p.paymentPlanId||"lifetime"===p.planType},x=!1,q=!1,T=null;h.Checkout.trigger=(y=function(e){var t=e.data();e.removeClass("disabled").removeAttr("disabled").data("ax-id",t.loadedAxId).attr("data-ax-id",t.loadedAxId),e.off_on("click.checkout",function(e){e.preventDefault(),D(T,t)})},function(e){x?q||y(e):(i.default.body.on("checkout.preloadDone",function(){y(e)}),i.default.body.on("checkout.preloadFailed",function(){})),e.filter(".disabled").on("click.checkout",function(e){e.preventDefault(),_||(_=i.default.id("checkout-loading-modal")),_.modal(),_.parent(".modal-bg").css("z-index",1042)})});var S,j,P=(S=!1,j=!1,function(){if(!j){j=!0;var e=i.default.id("stripe-checkout-data").data();if(e&&(e.giftSubscription||!d.isBrilliantPro&&!e.useCustomForm))var t=0,n=setInterval(function(){if(t++,"StripeCheckout"in window){if(clearInterval(n),null===T){var o={key:e.key,image:e.image,email:e.email||null,token:w,opened:function(){(0,c.track)("ui",{element_id:"stripe_checkout_modal_opened"})},closed:function(){(0,c.track)("ui",{element_id:"stripe_checkout_modal_closed"})}};e.panelLabel&&(o.panelLabel=e.panelLabel),T=StripeCheckout.configure(o)}x=!0,i.default.body.trigger(i.default.Event("checkout.preloadDone"))}else 75===t&&(clearInterval(n),x=!0,q=!0,i.default.body.trigger(i.default.Event("checkout.preloadFailed")),S||(S=!0,i.default.id("sellpage-wrapper").length&&(s.default.captureMessage("Paid.Checkout.trigger: poll timeout waiting for StripeCheckout."),g("Loading checkout.js"))))},200)}}),D=function(e,t){var n=function(e){var t=o.default.extend({},e);return["controller","controllerInited","loadedAxId","axId","axType","majorAmount","ax_active"].forEach(function(e){delete t[e]}),t.name=t.name.replace("^2"," Premium").replace("[USD]","").trim(),t}(t);p=o.default.extend({},n),delete n.plan,delete n.planType,e.open(n)};h.Checkout.preload=function(){P()},h.Checkout.response=function(e){var t,n=e.data(),o=window.location.href,r=0,l=i.default.id("paid-status-success-btn"),c=function(){if("annual_pro"===p.planType){var t=e.find(".success-type");t.text(t.data("alt")),d.isBrilliantPremium&&l.prop("href",l.data("href-alt"))}e.addClass("loaded success"),o=l.prop("href")};n.success&&n.displaySuccess?c():n.success?t=setInterval(function(){i.default.get(n.url,{s:n.subscription}).then(function(e){"active"===e&&(c(),clearInterval(t))}).fail(function(e){clearInterval(t),a.default.handler(e)}),++r>=60&&(e.addClass("loaded error"),clearInterval(t),s.default.captureMessage("Paid.Checkout.response: timeout error"),g("Checkout subscription status"))},1e3):e.addClass("loaded error"),null!==b&&b.modal("hide"),e.modal(),e.on("hide",function(){i.default.body.addClass("disabled"),window.location.href=o})},h.Checkout.prestatus=function(e){e.modal({show:!1}),e.on("show",function(){(0,i.default)(".sell-page.visible").removeClass("visible")}),b=e};var O,I,E,z,A,L=(O=null,I=!1,E=o.default.template('<ul class="errorlist"><%= list %></ul>'),z=o.default.template("<li><%- message %></li>"),A=function(e,t){return i.default.window.trigger(i.default.Event("survey."+t))},function(e){if(e.preventDefault(),(0,i.default)(this),I)A(0,"complete");else{if(null===O){if(!(O=i.default.id("paid-cancel-survey")).length)return void a.default.standardError();O.on("submit",function(e){e.preventDefault(),i.default.post(O.attr("action"),O.serialize()).fail(a.default.handler).then(function(e){if(e.success)I=!0,O.modal("hide"),A(0,"complete");else{O.parent().scrollTop(0);var t=[];for(var n in e.errors)t.push(e.errors[n][0]);var i=t.map(function(e){return z({message:e})}).join("");o.default.defer(function(){O.find(".errorlist").remove(),O.find(".modal-body").prepend(E({list:i}))})}})})}A(0,"beforeshown"),O.modal()}});h.Payment={};var M,F,$,U,N,B=null,H=null,R=function(e){i.default.get(e.url,e).then(function(e){i.default.body.addClass("disabled"),window.location.reload()}).fail(a.default.handler)};function G(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,a=null;null===n&&(n=i.default.id("paypal-modal"),a=n.find(".sell-page"),n.removeClass("hide").appendTo(i.default.body),n.find(".close").on("click",function(){a.removeClass("visible"),(0,u.crop)(!1)})),o.default.defer(function(){var o=(0,i.default)(".modal-bg .modal:visible");o.length&&o.modal("hide"),n.removeClass("annual monthly annual-pro").addClass(e),n.toggleClass("single-option",t),a.addClass("visible"),(0,u.crop)(),m&&n.find("[name=gift_message_id]").val(m)})}function W(e){return e=e||null,function(t,n){n=n||{},e&&(t+="_"+e),(0,c.track)("ui",o.default.extend({},{element_type:"button",element_id:t,path:window.location.pathname,full_path:window.location.pathname+window.location.search},n))}}h.Payment.modalTrigger=function(e){e.on("click",function(t){t.preventDefault(),e.hasClass("disabled")||((H=e.data()).force?R(H):null!==B&&B.modal("show"))})},h.Payment.cancelModal=function(e){(B=e.clone(!0)).modal({show:!1}),B.find("#paid-cancel").on("click",function(){var e=i.default.id("payment-switch-plan-modal").clone(!0),t=this,n=arguments;e.length?(B.modal("hide"),e.find(".cancel-link").on("click",function(){L.apply(t,n)}),e.addClass("canceling"),e.modal()):(B.modal("hide"),L.apply(t,n))}),i.default.window.on("survey.complete",function(e){if(i.default.id("acct-settings-subscription").find(".cancel a").addClass("disabled"),H.isPaytm){var t=i.default.id("cancel-confirm-"+H.id);t.modal("show"),t.find("#confirm-btn").on("click",function(){R(H)})}else null!==H&&R(H)})},h.Payment.Renew=function(e){e.on("click",function(t){t.preventDefault(),e.addClass("disabled"),i.default.body.addClass("disabled"),i.default.get((0,i.default)(this).attr("href")).then(function(){window.location.reload()}).fail(a.default.handler).fail(function(){i.default.body.removeClass("disabled")})})},h.Payment.UpdateCard=function(e){e.on("click",function(t){if(!e.hasClass("disabled")){var n=(0,i.default)(this).data(),o=(0,i.default)(".payment-methods .card-info"),r=o.find(".spinner");n.allowRememberMe=!1,e.addClass("disabled"),StripeCheckout.configure({key:n.key,image:n.image,email:n.email||null,name:n.name,panelLabel:n.buttonLabel,token:function(t,s){e.addClass("disabled"),r.addClass("visible"),i.default.post(n.url,{stripeToken:t.id}).then(function(){["last4","exp_month","exp_year"].forEach(function(e){o.find("."+e).text(t.card[e])}),e.removeClass("disabled"),r.removeClass("visible")}).fail(a.default.handler)},closed:function(){e.removeClass("disabled")}}).open(n)}})},h.switchPlanModal=function(e){e.on("click",function(e){i.default.id("payment-switch-plan-modal").clone(!0).modal()})},h.couponCountdown=(M=null,F=null,$=null,U=function(e){return(e=e.toString())<10?"0"+e:e},N=function(e,t,n,i){var o=Math.round((new Date).getTime()/1e3)-e,a=t-o;if(o>0||i){a<0&&(a=0);var r=~~(a/86400),s=~~(a%86400/3600),l=~~(a%3600/60),c=a%60,d=n({days:r,hours:r>0?U(s):s,minutes:U(l),seconds:U(c)});d!==$&&(M.text(d),$=d)}return a},function(e){var t=o.default.template(e.data("template")),n=e.data("seconds"),i=Math.round((new Date).getTime()/1e3);M=null===M?e:M.add(e),o.default.defer(function(){N(i,n,t,!0),M.removeClass("hide")}),null===F&&(F=setInterval(function(){N(i,n,t)<=0&&(clearInterval(F),M.parents(".hdr-coupon").remove())},250))}),h.Paytm={},h.Paytm.loadPaymentForm=function(e){e.on("click",function(t){t.preventDefault();var n=i.default.create("div").addClass("sell-page-preload sell-page").html('<div><span class="spinner"></span></div>').appendTo(i.default.body),r=e.data("plan-url");i.default.get(r).then(function(e){var t=i.default.create("div").html(e);i.default.body.append(t),o.default.defer(function(){n.remove()}),(0,c.set_analytics_events)(t),(0,l.initGenericControllers)(t),t.find(".sell-page").addClass("visible")}).fail(function(){n.remove(),a.default.handler.apply(this,arguments)})})},h.onetimeModal=function(e){e.on("click",function(){var t=(0,i.default)(e.data("modal-target")).clone(!0);t.appendTo(i.default.body).show(),t.find(".close").on("click",function(){t.remove()})})},h.paypalModalTrigger=function(e){e.on("click",function(){var t=e.data();G(t.plan,t.singlePaymentOption)})},h.paypalCheckoutButtons=function(e){e.find(".paypal a,.paypal button").on("click",function(e){(0,i.default)(this).parents(".paypal").addClass("loading")})},h.cancelPaypalSubscription=function(e){e.on("click",function(e){e.preventDefault(),H=B.data(),B.modal("show")}),o.default.defer(function(){i.default.window.off_on("survey.complete",function(t){e.hasClass("disabled")||(e.addClass("disabled").prop("disabled","disabled"),i.default.body.addClass("disabled"),i.default.get(e.attr("href")).fail(a.default.handler).fail(function(){i.default.body.removeClass("disabled")}).then(function(t){if("CANCELED"===t.state)window.location.reload();else{i.default.body.removeClass("disabled"),e.removeClass("disabled").removeProp("disabled");var n=e.data();i.default.modal(n.notCanceledTitle,n.notCanceledText)}}))})})},h.salesCardTrigger=function(e){var t=null;e.on("click",function(n){if(n.preventDefault(),t)t.modal("show");else{var a=e.data(),s={element_id:a.axId,source_chapter_id:a.sourceChapterId,source_chapter_slug:a.sourceChapterSlug,target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)};(t=(0,i.default)('<div class="b2-sales-card modal"><span class="spinner"></span></div>')).modal(),i.default.get(a.salesUrl,s).then(function(e){o.default.defer(function(){var n=(0,i.default)(e);i.default.body.append(n),t.modal("hide");var o=function(){var e=t.find(".content");e.scrollHeight()>e.outerHeight()&&e.addClass("scrollable")};(t=n).find("img").on("load",o),t.on("show",function(){r.default.loadForElement(t),o()}),t.modal()})}).fail(function(){window.location.href=e.attr("href")})}})},h.switchPaywallPosition=function(e){var t=e.find("#prac-markers .prac-marker"),n=e.find("#prev-marker-btn"),o=e.find("#next-marker-btn"),a=e.find(".spm-feature"),r=t.length,s=1,l=function(e){a.removeClass("current"),a.filter('[data-position="'+s+'"]').addClass("current"),t.removeClass("current"),e?e.addClass("current"):t.filter('[data-position="'+s+'"]').addClass("current"),n.removeClass("disabled"),o.removeClass("disabled"),1==s?n.addClass("disabled"):s==r&&o.addClass("disabled")};t.on("click",function(e){e.preventDefault();var t=(0,i.default)(this),n=t.data("position");n!=s&&(s=n,l(t))}),n.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass("disabled")||(s--,l())}),o.on("click",function(e){e.preventDefault(),(0,i.default)(this).hasClass("disabled")||(s++,l())})},h.testimonials=function(e){var t=e.hasClass("open");e.find(".show-hide-btn").on("click",function(){e.toggleClass("open"),(t=!t)&&o.default.defer(function(){u.Anchors.scrollToTarget(e)})})},h.premiumSurvey=function(e){i.default.html.add(i.default.body).animate({scrollTop:0},{duration:100})},h.twinklingStars=function(e){e.find(".premium-stars").remove();var t=e.data();if(t){var n=e.offset(),a=e.outerWidth(),r=e.outerHeight(),s=[],l=t.starCount,c=[];e.find(".no-stars").each(function(){var e=(0,i.default)(this),t=e.offset();c.push({left:t.left-n.left-10,right:t.left+e.outerWidth()-n.left+10,top:t.top-n.top-10,bottom:t.top+e.outerHeight()-n.top+10})});var d=function(e){for(var t=e.left/100*a+1.5,n=e.top/100*r+1.5,i=0;i<c.length;i++){var o=c[i];if(!(t<o.left||t>o.right||n<o.top||n>o.bottom))return!0}return!1},u=document.createElement("span");u.className="premium-stars";for(var f=0;f<l;f++){var p=0;do{var h={left:.5+99*Math.random(),top:2+96*Math.random()};p++}while(d(h)&&p<50);s[f]=document.createElement("span"),s[f].className="type-"+~~(3*Math.random()+1),s[f].style.left=h.left+"%",s[f].style.top=h.top+"%",u.appendChild(s[f])}e.append(u),t.static&&!0===t.static||o.default.defer(function(){for(var e=0;e<l;e++){var t=5e3+~~(4e3*Math.random());s[e].style.webkitAnimationDuration=s[e].style.animationDuration="4000ms",s[e].style.webkitAnimationDelay=s[e].style.animationDelay=t+"ms"}})}},h.freeTrialModal=function(e){var t=e.find(".options button"),n=e.find("#step-0-continue"),a=e.find("#free-trial-continue"),r=e.data(),s="paywall-free-trial-modal-active",l=null,c=n.length?W("chapter"):W();t.on("click",function(){null===l&&a.removeClass("disabled").removeAttr("disabled");var e=(0,i.default)(this);e.hasClass("active")||(t.removeClass("active"),e.addClass("active"),l=e.data("option"))}),n.on("click",function(){r.introOnly?r.nextChapterUrl?(c("clicked_chapter_completion_next_chapter"),window.location=r.nextChapterUrl):(c("clicked_chapter_completion_premium_close"),e.modal("hide")):(c("clicked_free_trial_intro_continue"),e.addClass("step-1"))}),a.on("click",function(){l&&(c("clicked_free_trial_continue",{free_trial_selected_option:l}),"limited"===l?e.find(".step-2").length?(e.removeClass("step-1").addClass("step-2"),e.find("#free-trial-close").on("click",function(){c("clicked_free_trial_limited_close"),e.modal("hide")})):e.modal("hide"):(e.modal("hide"),o.default.defer(function(){c(r.premiumAxId)}),window.open(r.premiumUrl)))}),e.on("show",function(){i.default.body.addClass(s),c("viewed_free_trial_modal")}),e.on("hide",function(){i.default.body.removeClass(s)}),e.modal({backdrop:"static"})},h.chapterCompletedNav=function(e){var t=e.find(".nav button"),n=t.first(),i=t.last(),o=e.find(".nav span"),a=e.find(".upper"),r=e.find(".quiz-gallery-card"),s=r.outerHeight()+parseInt(r.css("margin-bottom"),10),l=0,c=e.data("num-rows"),d=W("chapter");if(setTimeout(function(){e.addClass("in")},100),1!==c){var u=function(e){return function(){var r;d(e>0?"clicked_free_trial_quizzes_nav_down":"clicked_free_trial_quizzes_nav_up"),(r=l+e)<0||r>=c||(t.removeClass("disabled"),o.removeClass("active"),o.eq(r).addClass("active"),a.animate({scrollTop:r*s},{duration:200}),0===(l=r)?n.addClass("disabled"):r>=c-1&&i.addClass("disabled"))}};n.on("click",u(-1)),i.on("click",u(1))}},h.paywallProToggle=function(e){var t=e.find("a");t.on("click",function(n){if(n.preventDefault(),!n.target.classList.contains("active")){var o=n.target.dataset.key;(0,i.default)(".paywall-wrapper").toggleClass("show-pro"),h.twinklingStars(e.parents(".paywall-header")),t.toggleClass("active"),window.history.replaceState({},null,n.target.href),i.default.get(e.data("action"),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:!0,enumerable:!0,configurable:!0,writable:!0}):e[t]=!0,e}({},o)),(0,c.track)("ui",{element_id:"clicked_premium_pro_toggle",target:o})}})};var K=null;h.proPrecheckoutModal=function(e){e.on("click",function(){K?K.modal("show"):K=i.default.id("pro-precheckout-modal").modal()})},h.cancellationStep=function(e){0===e.find(".errorlist").length&&(document.body.scrollTop=document.documentElement.scrollTop=0)},e.exports=h},function(e,t,n){"use strict";var i=n(0),o=n(1);n(122);var a,r,s=null,l={stopTriggerRegex:/\n/,elastic:!1,templates:{mentionItemSyntax:o.template("mention[<%= id %>:<%= value %>]"),autocompleteListItem:o.template('<li data-ref-id="<%= id %>" data-ref-type="" data-display="<%= display %>"><strong><%= content %></strong> <%= age %><%= country %></li>')},mentionRegex:/mention\[[\d]+:(.*?)\]/g,onDataRequest:function(e,t,n){s.prefix=t,i.getJSON(s.url,s,function(e){(e=e||[]).map(function(e){return e.id=e.user_id,e.name=e.first_name+" "+e.last_name,e.age=null!==e.age?e.age.toString():"",e.country=e.country||"",e.age=e.age.length&&e.country.length?e.age+", ":e.age,e.isUser=!0,e}),n.call(this,e)})}},c={triggerChar:"[[wiki-",stopTriggerRegex:/\||\]/,allowRepeat:!0,showAvatars:!0,elastic:!1,onCaret:!0,templates:{mentionItemSyntax:o.template("<%= value %>"),mentionItemHighlight:o.template("<%= value %>")},onDataRequest:function(e,t,n){var o={prefix:t};i.getJSON("/wiki/wiki_suggestions/",o,function(e){(e=e||[]).map(function(e){return e.icon="wiki-icon",e.isWiki=!0,e}),n.call(this,e)})}},d=(a=/\[\[(start|end)(.*?)(\]\]|<br \/>)/g,r=function(e){var t='<span class="wiki-syntax-highlight start-end">'+e;return-1===t.indexOf("<br />")?t+="</span>":t=t.replace("<br />","</span><br />"),t},function(e){return e.replace(a,r)});i.fn.mentions=function(){null!==(s=i.id("mentions-data").data()||null)&&(s[s.type+"_id"]=s.id);var e=l;return e.existingMentions=e.existingMentions||[],e.mentionsStorage={get:function(){return e.existingMentions},set:function(t){e.existingMentions=t}},i(this).mentionsInput(e)},i.fn.wikiLinks=function(e){var t=c;return(e=!0===e)&&(t.highlightFunction=d),i(this).mentionsInput(t)},i.fn.mentionsAndWikiLinks=function(){null!==(s=i.id("mentions-data").data()||null)&&(s[s.type+"_id"]=s.id);var e=l;e.existingMentions=e.existingMentions||[],e.mentionsStorage={get:function(){return e.existingMentions},set:function(t){e.existingMentions=t}};var t={elastic:!1,onCaret:!0,mentions:e,wikiLinks:c};return i(this).mentionsInput(t)}},,,,,,,function(e,t,n){"use strict";var i,o=n(0),a=n(1),r=n(5),s={},l=null;s.paginate_triggered_ts=i;var c=function(e){o.body.on("click",".newsfeed_"+e+"_paginate",function(t){t.preventDefault(),t.stopPropagation();var n,a,s=o(this),c=s.parents(".nf-next-container"),d=c.siblings(".next_container_stub"),u=d.children().first(),f=d.data("page-key");if(void 0!==u&&0!=u.length&&!d.hasClass("loaded")){n=u.attr("class").slice(4,-3),a=s.data().next_url,c.addClass("loading");var p=f+"_container";"skill"===e&&(p="wiki_community_posts_container",f="wiki_canonical_page"),d.addClass("loaded");var h=new r(p);h.error=function(e){"timeout"===e.statusText?(c.removeClass("loading"),d.removeClass("loaded")):(c.hide(),u.hide())},i=(new Date).getTime(),m||_(!0),null===l&&(l="savedsets_set"===e);var v={page_key:f,version:VERSIONS[p],param_key:n},g=s.parents(".nf-feed-wrapper"),y=g.data("feed-type")||null,b=g.data("filter_content_type")||"",w=g.data("popular")||"",k=g.data("reviewed_state")||"",C=g.data("user_to_display_id")||null;g.length&&("normal"===y&&(v.show_all_content=!0),v.filter_content_type=b,""!==w&&(v.popular=w),v.reviewed_state=k,C&&(v.user_to_display_id=C)),h.get(a,v)}})};s.paginate=c,s.init=function(){o(".feed").not(".inited").each(function(){var e=o(this),t=e.attr("id").replace(/^newsfeed_/,"").replace(/_wrapper$/,"");c(t),e.addClass("inited")})},s.is_autopaginating=!1;var d,u,f,p,h,m=!1,v=function(){f=o(".nf-next-container:not(.loaded):visible:last"),s.is_autopaginating=!1,f.length>0&&d<10?u=f.offset().top-500:(m=!1,o.window.off("scroll.nfpage"))};s.reset_autopagination_point=v,s.needs_additional_pagination=function(e){var t=e.find(".nf-feed-item:visible:not(.nf-next-empty)").length;m&&(t>0&&t<4?h<5&&(h++,g(!1)):h=0)};var g=function(e){e=!1!==e,s.is_autopaginating||(s.is_autopaginating=!0,f.find("a").click(),e&&d++)},_=function(e){e=e||!1,p=o.window.height(),d=0,h=0,v(),f.length>0&&(m=!0,o.window.off_on("scroll.nfpage",a.debounce(function(e){o.window.scrollTop()+p>=u&&g()},100)),e||g())};s.autopagination=_,e.exports=s},function(e,t,n){"use strict";var i=n(0),o=n(1),a={checkScrollPosition:function(e,t){var n=i.window.scrollTop(),o=t&&t.top?t.top:10,a=t&&t.bottom?t.bottom:null,r=t&&t.stuckClass?t.stuckClass:"stuck",s=t&&t.stuckBottomClass?t.stuckBottomClass:"stuck-bottom",l=t&&t.handler?t.handler:null,c=n>o,d=!!(a&&n>a),u=e.hasClass(r);!c||d||u?!c&&u?e.removeClass(r):d?(e.removeClass(r),e.addClass(s)):d||e.removeClass(s):(e.addClass(r),e.removeClass(s)),l&&l(e,t)},stick:function(e,t){e.addClass("sticky"),t=t||{};var n,r,s=((t=o.extend(t,e.data())).$target&&t.$target.length?t.$target:e).offset().top,l=e.outerHeight(!0),c=i("#header").outerHeight(!0),d=t.bottom?t.bottom:null,u=t.forceBottom?t.forceBottom:null,f=t.handler?t.handler:null;t.namespace?n=t.namespace:e.attr("id")?n="sticky-"+e.attr("id"):window.btoa&&(n="sticky-"+window.btoa(e.text())),r=u||(d?d-l-c:null);var p=function(){a.checkScrollPosition(e,{top:s-c,bottom:r,handler:f})};i.window.off_on("scroll."+n+" resize."+n,o.throttle(p,16)),p()}};e.exports=a},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r={checkExpiration:function(e,t,n){var i=Date.now(),o=!!e.timestamp&&e.timestamp<=i-n;(localStorage[t+"_timestamp"]&&parseInt(localStorage[t+"_timestamp"])<=i-n||o)&&r.deleteItem(t)},setVal:function(e,t){e.length&&o.defer(function(){var n=e.find('textarea:not(.clone), input[type="text"]'),o=e.data(),a=o.autosaveField,r=!0===o.autosavePassive;if(!t){var s=o.autosaveKey,l=o.autosaveUser;s=l?l+"_"+s:s,t=localStorage[s]?JSON.parse(localStorage[s]):{}}if(!r){var c=t[a];c&&""===n.val().trim()&&(n.val(c),n.trigger(i.Event("input")))}})},save:function(e,t){try{localStorage[e]=t}catch(e){}},deleteItem:function(e){localStorage.removeItem(e),localStorage.removeItem(e+"_timestamp")},controller:function(e){if(!a.supports_local_storage)return!1;var t,n=e.parents("form"),o=e.find('textarea, input[type="text"]'),s=n.find(".autosave-submit"),l=e.data(),c=l.autosaveKey,d=l.autosaveHours,u=l.autosaveField,f=l.autosaveUser,p=l.autosaveHash,h={};c=f?f+"_"+c:c,localStorage[c]&&(h=JSON.parse(localStorage[c]));var m=60*d*60*1e3;r.checkExpiration(h,c,m),r.setVal(e,h);var v=function(){var e=i(this).val();if(h[u]!=e){h[u]=e,h.timestamp=Date.now(),p&&!h.hash&&(h.hash=p);var n=JSON.stringify(h);r.save(c,n),window.onbeforeunload=e!==t?function(){return"You have unsaved edits."}:null}};o.one("focus",function(){t=o.val(),localStorage[c]&&(h=JSON.parse(localStorage[c]))}),o.on("input",v),o.on("autosave.save",v);var g=function(){r.deleteItem(c),window.onbeforeunload=null};s.on("click",g),n.on("autosave.clear",g)},discardEdit:function(e){r.deleteItem(e),window.onbeforeunload=null},getEditHash:function(e){if(localStorage[e])return JSON.parse(localStorage[e]).hash}};e.exports=r},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(0),r=n(9);a.support.transition=(o=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:o};var s='[data-dismiss="alert"]',l=function(e){a(e).on("click",s,this.close)};l.prototype.close=function(e){var t,n=a(this),i=n.attr("data-target");function o(){t.trigger("closed").remove()}i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),t=a(i),e&&e.preventDefault(),t.length||(t=n.hasClass("alert")?n:n.parent()),t.trigger(e=a.Event("close")),e.isDefaultPrevented()||(t.removeClass("in"),a.support.transition&&t.hasClass("fade")?t.on(a.support.transition.end,o):o())},a.fn.alert=function(e){return this.each(function(){var t=a(this),n=t.data("alert");n||t.data("alert",n=new l(this)),"string"==typeof e&&n[e].call(t)})},a.fn.alert.Constructor=l,a(function(){a("body").on("click.alert.data-api",s,l.prototype.close)});var c='[data-toggle="dropdown"]',d=function(e){var t=a(e).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){t.parent().removeClass("open").trigger(a.Event("close"))})};function u(){a(c).parent().removeClass("open").trigger(a.Event("close"))}d.prototype={constructor:d,toggle:function(e){var t,n,i,o=a(this);if(!o.is(".disabled, :disabled"))return(n=o.attr("data-target"))||(n=(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),(t=a(n)).length||(t=o.parent()),i=t.hasClass("open"),u(),i?(e&&e.stopPropagation(),t.trigger(a.Event("close"))):(t.trigger(a.Event("open")),t.toggleClass("open"),t.trigger(a.Event("opened"))),!1}},a.fn.dropdown=function(e){return this.each(function(){var t=a(this),n=t.data("dropdown");n||t.data("dropdown",n=new d(this)),"string"==typeof e&&n[e].call(t)})},a.fn.dropdown.Constructor=d,a(function(){a("html").on("click.dropdown.data-api",u),a("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",c,d.prototype.toggle)});var f=function(e,t){this.options=t,this.$element=a(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};function p(e){this.$element.hide().trigger("hidden"),h.call(this)}function h(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;this.$backdrop=a('<div class="modal-bg '+n+'" />').appendTo(document.body),6===window.ie_version&&(this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3}),a(".carousel-control.left").css("left",5),a(".carousel-control.right").css("left",750)),"static"!=this.options.backdrop&&this.$backdrop.on("click",function(e){a(e.target).is(t.$backdrop)&&t.hide()}),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(a.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(m,this)):m.call(this)):e&&e()}function m(){this.$backdrop.hide(),this.$backdrop.detach()}function v(){var e=this;this.isShown&&this.options.keyboard?a(document).on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||a(document).off("keyup.dismiss.modal")}f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=a.Event("show");this.$element.trigger(t),6===window.ie_version&&(e.$element.css("position","absolute"),a.body.scrollTop(0)),this.isShown||t.isDefaultPrevented()||(a("body").addClass("modal-open"),this.isShown=!0,v.call(this),h.call(this,function(){var t=a.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.appendTo(e.$backdrop),r.crop(),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in"),t?e.$element.one(a.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=a.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,a("body").removeClass("modal-open"),r.crop(!1),v.call(this),this.$element.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?function(){var e=this,t=setTimeout(function(){e.$element.off(a.support.transition.end),p.call(e)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(t),p.call(e)})}.call(this):p.call(this))}},a.fn.modal=function(e){return this.each(function(){var t=a(this),n=t.data("modal"),o=a.extend({},a.fn.modal.defaults,t.data(),"object"==i(e)&&e);n||t.data("modal",n=new f(this,o)),"string"==typeof e?n[e]():o.show&&n.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=f,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=a(this),i=a(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":a.extend({},i.data(),n.data());e.preventDefault(),i.modal(o)})});var g=function(e,t){this.init("tooltip",e,t)};g.prototype={constructor:g,init:function(e,t,n){var i,o;this.type=e,this.$element=a(t),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&("hover"==this.options.trigger&&/iphone|ipad/i.test(navigator.userAgent)?(i="touchstart",o="touchend"):(i="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur"),this.$element.on(i,this.options.selector,a.proxy(this.enter,this)),this.$element.on(o,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=a.extend({},a.fn[this.type].defaults,e,this.$element.data())).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t=a(e.currentTarget)[this.type](this._options).data(this.type);if(!t.options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=a(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,n,i,o,r,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,o=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-o/2,left:n.left+n.width}}e.css(s).addClass(r).addClass("in"),this.$element.trigger(a.Event("show"))}},isHTML:function(e){return"string"!=typeof e||"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var e,t=this.tip();t.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){t.off(a.support.transition.end).remove()},500),t.one(a.support.transition.end,function(){clearTimeout(e),t.remove()})):t.remove(),this.$element.trigger(a.Event("hide"))},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return a.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(e){return this.each(function(){var t=a(this),n=t.data("tooltip"),o="object"==i(e)&&e;n||t.data("tooltip",n=new g(this,o)),"string"==typeof e&&n[e]()})},a.fn.tooltip.Constructor=g,a.fn.tooltip.defaults={animation:!1,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};var _,y=function(e,t){this.$element=a(e),this.options=a.extend({},a.fn.typeahead.defaults,t),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()},b=(_=/[àáâãäåæçèéêëìíîïñòóôõöœùúûüýÿ]/g,function(e){var t={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y"};return e.replace(_,function(e){return t[e]})});y.prototype={constructor:y,select:function(){var e=this.$menu.find(".active").attr("data-value");return e&&e.length>0?this.$element.val(this.updater(e)).change():this.$element.val(),this.$element.trigger("ta_select"),this.hide()},updater:function(e){return e},show:function(){var e=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight}),t={top:e.top+e.height,left:e.left};return this.options.matchWidth&&(t.width=this.$element.width()),this.$menu.css(t),this.$menu.show(),this.shown=!0,this.$element.trigger("menued"),this},hide:function(){return this.$menu.hide(),this.shown=!1,this.$element.trigger("unmenued"),this},lookup:function(e){var t,n=this;return this.query=this.$element.val(),this.query?(t=a.grep(this.source,function(e){return n.matcher(e)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~b(e.toLowerCase()).indexOf(b(this.query.toLowerCase()))},sorter:function(e){for(var t,n=[],i=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):o.push(t):n.push(t);return n.concat(i,o)},highlighter:function(e){var t=b(e.toLowerCase()),n=b(this.query.toLowerCase()).replace(/\[|\]|\{|\}/g,function(e){return"\\"+e});t=t.replace(new RegExp("("+n+")","ig"),function(e,t){return"<strong>"+t+"</strong>"}),e=e.split("");for(var i=new RegExp("<strong>("+n+")</strong>","ig"),o=0,a=0,r=0,s=[];s=i.exec(t);){var l=i.lastIndex-s[0].length-o+a;o+=s[0].length,e.splice(r+l,0,"<strong>"),r+=1,e.splice(r+l+s[1].length,0,"</strong>"),r+=1,a+=1}return e.join("")},render:function(e){var t=this;return e=a(e).map(function(e,n){return(e=a(t.options.item).attr("data-value",n)).find("a").html(t.highlighter(n)),e[0]}),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=a(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.options.ignore_blur||this.$element.on("blur",a.proxy(this.blur,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keypress,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if("keydown"!=e.type)break;e.preventDefault(),this.prev();break;case 40:if("keydown"!=e.type)break;e.preventDefault(),this.next()}e.stopPropagation()}},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.$element.data("has_blurred",!0),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),a(e.currentTarget).addClass("active")}},a.fn.typeahead=function(e){return this.each(function(){var t=a(this),n=t.data("typeahead"),o="object"==i(e)&&e;n||t.data("typeahead",n=new y(this,o)),"string"==typeof e&&n[e]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:!0,matchWidth:!1},a.fn.typeahead.Constructor=y,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var t=a(this);t.data("typeahead")||t.typeahead(t.data())})});var w=function(e,t){this.options=a.extend({},a.fn.affix.defaults,t),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(e),this.checkPosition()};w.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,t=a(document).height(),n=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,s=r.bottom,l=r.top;"object"!=i(r)&&(s=l=r),"function"==typeof l&&(l=r.top()),"function"==typeof s&&(s=r.bottom()),e=!(null!=this.unpin&&n+this.unpin<=o.top)&&(null!=s&&o.top+this.$element.height()>=t-s?"bottom":null!=l&&n<=l&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}},a.fn.affix,a.fn.affix=function(e){return this.each(function(){var t=a(this),n=t.data("affix"),o="object"==i(e)&&e;n||t.data("affix",n=new w(this,o)),"string"==typeof e&&n[e]()})},a.fn.affix.Constructor=w,a.fn.affix.defaults={offset:0}},function(e,t,n){"use strict";var i,o=n(0),a=n(1),r=(n(3),n(9)),s=n(5),l=n(26),c=n(21),d=n(27),u={},f=window.vkey||{},p=!1,h=!1,m=!1,v=!1,g=!1,_=function(){var e,t=!1;if(!(i<=0)){if(!1!==m&&m.length>0)e=m;else if(!1!==h&&h.length>0)e=h,t=!0;else if(v)e=o.id("comment-a3f5"+v+"e92"),t=!0;else{if(!(!1!==p&&p.length>0))return;e=p}var n=function(){t&&(e.addClass("highlight"),setTimeout(function(){e.removeClass("highlight")},5e3))};e.length>0&&a.defer(function(){l.expandThreadsFor(e),e.is_in_pane()?n():a.delay(function(){r.Anchors.scrollToTarget(e,n)},500)})}};u.add=function(e){var t=e.find(".guide-link"),n=e.find(".discsol-add-guide"),i=e.find("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id"),a=i.find("textarea"),r=i.find("[type=submit]");_();var s=a.filter(":visible");s.length||(s=a),s.autosize().mentionsAndWikiLinks(),i.after(n),t.off_on("click",function(e){e.preventDefault(),n.fadeToggle(100)}),o("#make-visible-form, #make-private-form").on("submit",function(e){o(this).find("button").addClass("dim")}),i.on("submit",function(){o(this).attr("disabled","disabled"),r.attr("disabled","disabled")}),a.on("focus",function(){o(".mobile-solution-tips").show()}),o.body.on("solvable.statechange",function(e){"solutions"===e.currentState&&a.trigger("autosize.resize")}),l.add_form()},u.showCommentsForSolution=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.find(".discsol-comments .cmp-deferred");!0===t?e.addClass("comments-expanded"):e.toggleClass("comments-expanded"),n.length&&s.deferred.load(n)},u.comments=function(e){if(l.expander(e),l.editEvents(e),e.find(".solution-comments-trigger").on("click",function(){u.showCommentsForSolution(o(this).parents(".discsol-post-wrapper"))}),e.find(".action.subscr .cmp-deferred").each(function(){s.deferred.load(o(this))}),!0!==g){var t=window.location.hash||null;if(t){g=!0,t=t.split(/\//g);var n,r,d=e.parents("#solv-main");switch(t[1]){case"solution-comments":n="solutions",r=d.find(".btn-solution").data("solutions-loaded"),e=o(".solv-solutions");break;case"dispute-comments":n="disputes",r=d.find(".report-link").data("disputes-loaded"),e=o(".solv-disputes");break;case"qanda-question":return}if(r&&c.setStateForSolvable(e.parents(".solv-main"),n),t[2])if((p=o("#post-"+t[2])).length)window.location.search.indexOf("unsubscribe_from_post=true")>=0?(m=p.find(".action.subscr")).addClass("wiggle"):t[3]&&(v=parseInt(t[3],10),a.defer(function(){o.id("solution-comments-trigger-"+t[2]).click()})),i=e.find(".discsol-post").length,_();else{g=!1;var f=o.id("solution-next-page");f.length&&(y=t[2],f.click())}}}};var y=null;u.loadSolutionsPage=function(e){e.on("click",function(){var t=e.data(),n={component_key:t.componentKey,param_key:t.paramKey};t.position&&(n.p=t.position),y&&(n.solution=y),e.addClass("loading"),s(t.pageKey).get(t.url,n)})},f.quizzes_solvabledisputecomments=f.quizzes_challengesolvablesolutioncomments=f.potw_solvablesolutioncomments=f.potw_solvabledisputecomments=f.wikidiscussions_wikifeedbackcomments=f.qanda_comments=f.disputediscussions_publicsolvabledisputecomments=f.solutiondiscussions_publicsolvablesolutioncomments=function(e,t){var n=f.handle(e,t);l.events(),l.subscribe(),n.find(".latex").mathjax_update(),n.find(".mini-profile").mini_profile();var a=n.find(".disc-comments").data("highlighted-comment-id");a&&(h=o.id("comment-a3f5"+a+"e92"),i=1),v&&!h&&0===(h=o("#comment-a3f5"+v+"e92")).length&&(h=!1),"qanda_comments"!==e.component_key&&_(),l.expander(n),i--},f.quizzes_challengesolvablesolutionwrapper=f.potw_solvablesolutionwrapper=f.solutiondiscussions_publicsolvablesolutionwrapper=function(e,t){var n=f.handle(e,t);n.find(".latex").mathjax_update(),l.init(n),n.find(".mini-profile").mini_profile();var i=!1,a={};for(var r in o(".solv-solutions .solution-header .text .mini-profile").each(function(){var e=o(this).data("id");if(e in a)a[e].count++,i=!0;else{var t=o(this).attr("href");a[e]={name:t?t.match(/\/profile\/(.*)\//)[1]:o(this).text().trim(),count:1}}}),a)a[a[r].name]=a[r].count,delete a[r];var s={},c=!1;l.hitPreviewSolution&&(o(".hdr-settings .dropdown-toggle img").attr("alt")in a||(s["__Lost.Edits"]="Yes",c=!0)),i&&(s._Authors=JSON.stringify(a),c=!0),c&&d.captureMessage("Messed up solutions",{tags:s}),l.hitPreviewSolution=!1},e.exports=u},function(e,t,n){"use strict";var i=n(0),o=n(3),a=n(15),r={popstate:function(){var e=o.getRelativeUrl();i.window.on("popstate",function(t){if(a.popstateHandlerHook())e=o.getRelativeUrl();else{var n=o.getRelativeUrl();if(n!==e){if(t.state&&t.state.modalContent){var r=i.id("nf-feeditem-modal"),s=(r.length>0&&r.is(":visible")?r:i.body).find('.modal-link[href="'+n+'"]');if(s.length>0)return a.urlStack.push(e),e=n,void s.trigger("click")}e=n,location.href=location.href}}})}};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run=function(e){(0,o.default)(function(){e()})};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrientation=function(e,t){var n=[],i=e.offset(),a=o.default.window,r=a.width()/2,s=i.top-a.scrollTop();return s-=t?t.height()+50:300,n.push(i.left>r?"right":"left"),n.push(s>0?"top":"bottom"),n.join(" ")},t.repositionTooltip=function(e){var t=e.$target,n=e.$tooltip,i=e.topOffset,o=e.leftOffset,a={},r="position"===e.offsetMethod?t.position():t.offset(),s=n.attr("class").split(" ");return-1!==s.indexOf("top")?a.top=r.top-(n.outerHeight()+i):a.top=r.top+t.height()+i,-1!==s.indexOf("left")?a.left=r.left+t.width()/2+o:a.left=r.left-n.outerWidth()-o+t.width()/2,{zIndex:t.parents(".modal,.nf-feeditem-modal").length?700:300,top:a.top,left:a.left}};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(5),r=n(9),s=n(26),l=n(17),c=n(15),d={},u=window.vkey,f=function(e){e=e||i.body,s.events(e),s.expander(e),s.subscribe(e);var t=i.id("subscr-placeholder");t.length&&i.cmp("discussions_subscribe").appendTo(t).removeClass("hide"),e.find(".latexprocessor-block,.latexprocessor-inline").scale_svg()},p=function(){var e=i("#edit_post_form_id"),t=i("#disc-post-single"),n=i(".edit-form textarea",t);n.autosize().wikiLinks(),i("#newdisc-edit").on("click",function(e){e.preventDefault(),t.addClass("editing"),n.trigger("autosize.resize")}),i("#newdisc-delete").on("click",function(e){e.preventDefault(),t.addClass("deleting")}),e.find(".preview:not(.fake)").on("click",function(t){t.preventDefault(),a("discussions_single").form(e[0],{preview_post:!0})}),e.find(".edit:not(.fake)").on("click",function(e){e.preventDefault(),t.addClass("editing"),t.removeClass("previewing"),n.trigger("autosize.resize")}),i("#delete-cancel").on("click",function(e){e.preventDefault(),t.removeClass("deleting")})};d.onload=function(e){if(f(e),p(),window.location.search.indexOf("unsubscribe_from_post=true")>=0){var t=i.cmp("discussions_subscribe");t.addClass("wiggle"),o.defer(function(){r.Anchors.scrollToTarget(t)})}else{var n=window.location.hash.match(/#comment-a3f5[\d]+e92/);if(n){var a=i(n[0]);s.expandThreadsFor(a),a.addClass("highlight"),setTimeout(function(){a.removeClass("highlight")},3e3)}}e.data("is-page")&&(l.saveitem.tooltip(),l.saveitem.forms())},d.editableTitle=function(e){var t=e.find(".edit-title-link"),n=e.parent().find(".edit-title-form"),i=n.find(".cancel-edit-link");t.add(i).on("click",function(){e.add(n).toggleClass("hide")})};var h="discussions_modal_single_component";d[h]=function(){var e=i.cmp(h);e.find(".mini-profile").mini_profile(),f(),p(),l.saveitem.tooltip(),l.saveitem.forms(),e.find(".modal-target").each(c.modal_events),a.autosubmit.init(e)},u[h]=d[h],u.discussions_single=function(){var e=u.handle.apply(this,arguments);e.mathjax_update(),e.find(".mini-profile").mini_profile(),f(),p(),l.saveitem.tooltip(),l.saveitem.forms()},u.modal_groups_post_component=u.discussions_single,u.discussions_subscribe=function(){u.handle.apply(this,arguments),s.subscribe()},u.discussions_comments=function(){var e=u.handle.apply(this,arguments);e.mathjax_update(),e.find(".mini-profile").mini_profile(),f();var t=e.find(".disc-comments").data("highlighted-comment-id");if(t){var n="comment-a3f5"+t+"e92",a=i.id(n);s.expandThreadsFor(a),a.addClass("highlight"),setTimeout(function(){a.removeClass("highlight")},3e3),a.is_in_pane()||o.delay(function(){r.Anchors.scrollToTarget(a,function(){window.location.hash=n})},500)}},u.discussions_comment_subscribe=function(e,t){u.handle(e,t),s.subscribe()},e.exports=d},function(e,t,n){"use strict";var i=n(0),o=(n(5),n(11)),a={tagging_events:function(e){var t,n=(e=e||i.body).find(".nf-create-tags"),a=n.find(".tag-list"),r=n.find("[name=new-tag]"),s=n.parents("form").find("[name=selected_tags]"),l=[],c=n.data(),d=!1,u=function(e){(e=e||a).find("a").on("click",function(e){e.preventDefault();var t=i(this);l.remove(t.data("tag-id")),s.val(l.join("|")),t.parent(".tag").remove(),0===l.length&&n.removeClass("with-tags"),p()})},f=function(e){n.addClass("error"),i("#"+e).show()},p=function(){n.removeClass("error"),n.find(".error span").hide()},h=!1,m=function(){(t=r.val().trim()).length>0&&(l.length>=5?(f("too-many"),r.val("")):h||(h=!0,n.addClass("loading"),i.post(c.actionUrl,{tag_name:t}).done(function(e){n.removeClass("loading"),r.trigger("tag_added"),e.success&&(l.indexOf(e.tag_id)>=0?f("exists"):(l.push(e.tag_id),s.val(l.join("|")),a.append(c.tagTmpl.replace("[tag_name]",e.tag_name).replace("[tag_id]",e.tag_id)),n.addClass("with-tags"),p(),u(a.find(".tag").last())))}).fail(o.handler).then(function(){h=!1,r.val("")})))};s.val()&&s.val().length>0?(l=s.val().split(/\|/g).map(function(e){return parseInt(e,10)}),n.addClass("with-tags")):a.children().length&&(a.children().each(function(){l.push(i(this).data("id"))}),s.val(l.join("|"))),r.on("keyup",function(e){t=r.val().trim().replace(/\s/g,""),r.val(t),t.length>=3?d||(d=!0,n.addClass("loading"),i.post(c.autocompleteUrl,{partial_tag:t}).done(function(e){if(e.success){var t=[];e.suggestions.forEach(function(e,n){t.push(e[1])}),r.data("typeahead")?r.data("typeahead").source=t:r.typeahead({source:t}),t.length>0&&(r.typeahead("lookup"),r.typeahead("show"))}else d=!1;n.removeClass("loading")}).fail(o.handler)):d&&(d=!1)}),r.on("keydown",function(e){if(13===e.which){e.preventDefault();var t=r.data("typeahead");t&&t.shown&&0!==t.$menu.find(".active").length||m()}}),r.on("ta_select",m),r.select(),u()}};e.exports=a},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(268),r=n(3),s={},l=function(e){return e.img.naturalWidth>e.width||e.img.naturalHeight>e.height},c=function(e){var t=i('<div class="zoomable-image"><span></span></div>'),n=e.$img.clone();t.append(n),e.$img.replaceWith(t),e.$img=n,e.img=n[0],e.$container=t,e.$container.on("click",i.proxy(e.show,e))};function d(e){this.img=e,this.$img=i(e),this.zoomed=!1;var t=this,n=!1,a=function(){if(!n&&t.img.width){n=!0;var e=t.$img.parent().width(),i=t.$img.css("width");i.indexOf("px")>=0?t.width=Math.min(e,parseInt(i,10)):t.width=e,t.height=parseInt(t.$img.css("height"),10),l(t)&&c(t)}};o.defer(a),this.$img.on("load",a)}d.prototype={show:function(){var e,t,n;o.has(this,"$zoomModal")||(t=(e=this).$img.clone(),n=i('<div class="modal hide zoomable-modal"><button></button></div>'),t[0].style.cssText="",n.append(t),n.on("show hide",function(){o.defer(function(){e.zoomed=!e.zoomed,n.toggleClass("visible",e.zoomed)})}),r.is_mobile&&(new a(t[0]),t.on("click",function(e){e.stopPropagation()})),n.modal({show:!1}),n.on("click",i.proxy(e.hide,e)),e.$zoomModal=n),this.$zoomModal.modal("show")},hide:function(){this.$zoomModal.modal("hide")}},s.images=function(e){e.find("img").each(function(){var e=this,t=i(e);if(!t.data("zoomable-image")&&!function(e){return e.is(".avatar, .no-zoom")||e.parents(".avatar, .no-zoom").length}(t)){var n=function(){t.data("zoomable-image",new d(e))};e.complete?n():t.on("load",n)}})},e.exports=s},function(e,t,n){"use strict";var i=n(0),o={setBackButton:function(e,t,n){window.location.hash=e,i.window.off_on("hashchange.backbutton",function(n){window.location.hash.indexOf(e)<0&&(t(n),i.window.off("hashchange.backbutton"))}),n.off_on("click.backbutton",function(e){window.history?window.history.back():(t(e),o.removeBackButton())})},removeBackButton:function(){window.hash="",i.window.off("hashchange.backbutton")}};e.exports=o},function(e,t,n){"use strict";var i;(0,((i=n(0))&&i.__esModule?i:{default:i}).default)(document).ajaxSend(function(e,t,n){"POST"===n.type.toUpperCase()&&-1===n.contentType.search(/multipart\/form-data|application\/x-www-form-urlencoded/)&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")})},function(e,t,n){"use strict";var i=n(0),o={el:!1,init:function(){return this.el=i("#system-msgs"),this.el.is(":visible")||this.show(),this},show:function(){return""!==this.el.text()&&(this.el.find(".alert").show().addClass("fade in"),this.el.fadeIn(100)),this},add:function(e){return this.warning(e)},warning:function(e,t){return this._create_msg(e,t,".alert:not(.alert-error,.alert-success)","")},success:function(e,t){return this._create_msg(e,t,".alert.alert-success","alert-success")},error:function(e,t){return this._create_msg(e,t,".alert.alert-error","alert-error")},_create_msg:function(e,t,n,i){if(0===this.el.find(n).length){var o="sysmsgs_alert_id_"+Math.round(1e4*Math.random());this.el.append('<div class="alert '+i+'" id="'+o+'"><div class="container"><a href="#" class="close" data-dismiss="alert" data-target="#'+o+'">&times;</a><ul></ul></div></div>')}var a=this.el.find(n);return t=t&&t>0?t:null,a.find("ul").append("<li>"+e+"</li>"),a.alert(),a.find(".close").on("click",function(){document.getElementById(o).remove()}),this.show(),null!==t&&setTimeout(function(){a.alert("close")},t),this}};e.exports=o},function(e,t,n){"use strict";var i;function o(e){var t=document.location,n=t.host,i=t.protocol,o="//".concat(n),a=i+o;return e===a||e.slice(0,a.length+1)==="".concat(a,"/")||e===o||e.slice(0,o.length+1)==="".concat(o,"/")||!/^(\/\/|http:|https:).*/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameOrigin=o,(0,((i=n(0))&&i.__esModule?i:{default:i}).default)(document).ajaxSend(function(e,t,n){var i,a;i=n.type,a=n.url,!/^(GET|HEAD|OPTIONS|TRACE)$/.test(i)&&o(a)&&function(e){var t;e.setRequestHeader("X-CSRFToken",(t=!1,document.cookie.split(";").forEach(function(e){e.indexOf("csrftoken")>=0&&(t=e.split("=")[1].trim())}),t||null))}(t)})},function(e,t,n){"use strict";var i=r(n(0)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(103)),a=r(n(5));function r(e){return e&&e.__esModule?e:{default:e}}var s={},l={};function c(e,t){for(var n in t)l[n]=t[n];try{window.localStorage[e]=JSON.stringify({prefs:l})}catch(e){}}s.controller=function(e){var t,n=e.data(),r=function(e){try{l=JSON.parse(window.localStorage[e]).prefs}catch(e){}return l}(n.editorKey),s=e.parents(".solv-container,#solv-main"),d=e.find(".codex-form"),u=e.find(".btn-run"),f=e.find(".btn-reset"),p=e.find(".codex-textarea textarea"),h=e.find(".codex-editor > div"),m=e.find("[name=language]"),v=e.find(".editor-mode"),g=e.find(".editor-theme"),_=e.find(".codex-orig").text(),y=n.codexLanguage,b=function(){f.toggleClass("hide",o.isUnchanged(t,m.val()))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.each(function(){var t=(0,i.default)(this);t.css({height:!0===e?"auto":t.outerHeight()})})},k=null;r.keybinding&&"default"!==r.keybinding&&(k=r.keybinding.replace("ace/keyboard/",""));var C=r.theme||"light";o.init({$editor:h,$textarea:p,language:m.val(),initialKeybinding:k,initialTheme:C,initialCode:_,initialLanguage:y}).then(function(s){t=s;var l=null;if(e.on("touchstart",function(e){e.stopPropagation();var t=(0,i.default)(window),n=t.scrollTop(),o=0;l=setInterval(function(){(0===t.scrollTop()||o>20)&&(clearInterval(l),t.scrollTop(n)),o++},16)}),e.on("touchmove",function(e){clearInterval(l)}),setTimeout(function(){return w(!0)}),n.autoRefresh)return o.setReadOnly(t),e.find(".CodeMirror-scroll").addClass("disabled"),void setTimeout(function(){w(),(0,a.default)("codex_page").get(n.cmpUrl,{solvable_id:n.solvableId,note_id:n.noteId,codex_env_id:n.codexEnvId})},1e3);r.keybinding&&v.val(r.keybinding).parent().show(),r.theme&&g.val(r.theme).parent().show();var h=/[\u2018|\u2019]/g,k=/[\u201C|\u201D]/g;o.onChange(t,function(e){var n=o.getValue(t);if(h.test(n)||k.test(n)){n=n.replace(h,"'").replace(k,'"');var i=o.getCursor(t);setTimeout(function(){o.setValue(t,n),o.setCursor(t,i)})}p.val(o.getValue(t)),b()}),u.on("click",function(){w(),(0,a.default)("codex_page").form(d[0],{url:n.formAction,page_key:"codex_page",cluster:n.formField__cluster,param_key:n.formField__param_key||"",version:n.formField__version})}),f.on("click",function(e){e.preventDefault(),f.hasClass("hide")||(o.setValue(t,_),m.val(y),o.focus(t),b())}),m.on("change",function(){o.setLanguage(t,m.val()),o.focus(t),b()}),v.on("change",function(){var e=v.val();c(n.editorKey,{keybinding:e}),o.setKeybinding(t,e),o.focus(t)}),g.on("change",function(){var e=g.val();c(n.editorKey,{theme:e}),o.setTheme(t,e),o.focus(t)}),e.find("header label").show(),b();var C=e.find(".codex-email");C.length&&C.find(".btn").on("click",function(e){e.stopPropagation(),e.preventDefault();var t=C.data();!function(e,t,n,o){(0,i.default)("#confirm-modal").length>0&&(0,i.default)("#confirm-modal").remove();var a=!1,r=(0,i.default)('<div class="modal hide codex-confirm" id="confirm-modal"><div class="modal-body"><p>'+t+'</p></div><div class="modal-footer"><a href="#" class="btn cancel" data-dismiss="modal">'+n.cancel_text+'</a><a href="#" class="btn btn-accent confirm">'+n.ok_text+"</a></div></div>");r.find(".confirm").on("click",function(e){e.preventDefault(),a=!0,r.modal("hide"),r.trigger(i.default.Event("codex.hide"))}),r.on("hide",function(e){o(a)}),e.after().append(r),r.modal()}(C.parents("footer"),t.confirmText,{ok_text:t.confirmOkText,cancel_text:t.confirmCancelText},function(e){if(e){C.removeClass("error");var n={target_url:t.targetUrl,target_title:t.targetTitle};setTimeout(function(){i.default.post(t.baseUrl+"/codex/_native/email_me/",n).fail(function(){C.addClass("error")}).then(function(e){e.success?C.addClass("success"):C.addClass("error")})},100)}})})})};var d={};s.expandableCode=function(e){var t=e.data("codex-env-id")||null,n=e.find(".codex-expand-toggle"),o=function(o,a){o&&o.preventDefault(),void 0!==a?(t&&(d[t]=a),n.toggleClass("active",a),e.toggleClass("expanded",a)):(t&&(d[t]=!d[t]),n.toggleClass("active"),e.toggleClass("expanded"));var r="",s=e.parents(".course-quiz-wrapper");e.hasClass("expanded")&&!s.length&&(r=i.default.id("wrapper").offset().left+parseInt(i.default.id("wrapper").css("padding-left"))-e.offset().left+"px"),e.css("margin-left",r)};n.show(),t&&(d[t]=d[t]||!1,!0===d[t]&&o(null,!0)),n.on("click",o)},e.exports=s},function(e,t,n){"use strict";function i(e){if(e)if(e.substring){var t=e.split(".");try{this.major=parseInt(t[0],10)}catch(e){this.major=0}try{this.minor=parseInt(t[1],10)}catch(e){this.minor=0}try{this.patch=parseInt(t[2],10)}catch(e){this.patch=0}}else e.toFixed&&(this.major=e)}i.prototype.major=0,i.prototype.minor=0,i.prototype.patch=0,i.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch},i.prototype.compare=function(e){return this.major==e.major?this.minor==e.minor?this.patch==e.patch?0:this.patch>e.patch?1:-1:this.minor>e.minor?1:-1:this.major>e.major?1:-1},i.prototype.isGreaterThanOrEqualTo=function(e){var t=new i(e);return this.compare(t)>=0},e.exports=i},function(e,t,n){"use strict";var i=n(0),o=n(33),a={},r=function(e,t,n){var i=e.val();return i&&t&&!i.charAt(t-1).match(/\n/)&&(n="\n"+n),n},s=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},l=function(e,t,n,i,a){var r,l=s(),c=t+n.length;l?(r=c+l.length,o.insert(e,n,t),o.insert(e,i,r)):(r=c+a.length,o.insert(e,n+a+i,t)),o.set(e,c,r),e.trigger("input")},c=function(e,t,n,i,a){var r,l,c=a[0].startStr,d=a[0].placeholder,u=a[0].endStr,f=a[1].startStr,p=a[1].placeholder,h=a[1].endStr,m=s();if(m)l=(r=t+n.length+c.length+m.length+u.length+f.length)+p.length,o.insert(e,n+c,t),o.insert(e,u+f+p+h+i,t+n.length+c.length+m.length);else{var v=d+u+f+p;l=(r=t+n.length+c.length)+v.length,o.insert(e,n+c+v+h+i,t)}o.set(e,r,l),e.trigger("input")};a.controller=function(e){var t=e.data(),n=e.find(".btn"),a=n.filter(".add-latex"),d=n.filter(".add-link"),u=n.filter(".add-image"),f=n.filter(".add-example"),p=n.filter(".add-proof"),h=n.filter(".add-bold"),m=n.filter(".add-fraction"),v=n.filter(".add-list"),g=n.filter(".add-table"),_=i(t.target),y=function(){n.on("mousedown",function(e){e.preventDefault()}),a.on("click",function(e){e.preventDefault();var t=o.get(_);l(_,t,"\\(","\\)","LaTeX")}),d.on("click",function(e){e.preventDefault();var t=o.get(_);c(_,t,"","",[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}])}),u.on("click",function(e){e.target===this&&u.find("input").trigger("click")}),f.on("click",function(e){e.preventDefault();var t=o.get(_),n=r(_,t,"[[start-example]]");l(_,t,n,"[[end-example]]","example text")}),p.on("click",function(e){e.preventDefault();var t=o.get(_),n=r(_,t,"[[start-proof]]");l(_,t,n,"[[end-proof]]","proof text")}),h.on("click",function(e){e.preventDefault();var t=o.get(_);l(_,t,"**","**","bold text")}),m.on("click",function(e){e.preventDefault();var t=o.get(_);c(_,t,"\\(\\frac","\\)",[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}])}),v.on("click",function(e){e.preventDefault();var t=_.val(),n=o.get(_),i=t.lastIndexOf("\n",n-1)+1,a=t.indexOf("\n",n-1),r=s(),l=n;a=-1==a?t.length:a,-1==t.slice(i,a).search("- ")&&(o.insert(_,"- ",i),l+="- ".length),r?o.set(_,l,l+r.length):o.set(_,l),_.trigger("input")}),g.on("click",function(e){e.preventDefault();var t=o.get(_),n=r(_,t,"||");c(_,t,n,"||",[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}])})};_.length?y():i(t.target.replace("__copy","")).on("mentions.ready",function(){_=i(t.target),y()})},e.exports=a},function(e,t,n){"use strict";var i=n(0),o=n(3),a=n(14),r={},s=function(e,t,n){t=t||550,n=n||440;var o=i.window.width()/2-t/2,a=i.window.height()/2-n/2,r="width="+t+",height="+n;o>0&&a>0&&(r+=",left="+o+",top="+a),window.open(e,"socialpopup",r)},l=function(e){return-1===e.indexOf(encodeURIComponent("/"))?encodeURIComponent(e):e};r.facebook=function(e){e.on("click",function(t){t.preventDefault();var n=window.FB||null,i=e.data(),r={utm_content:i.axId,ref:i.axId};i.gifUrl&&i.gifUrl.length>0&&(r.gif_url=l(i.gifUrl)),i.ogType&&i.ogType.length>0&&(r.og_type=encodeURIComponent(i.ogType)),i.ogSharingMethod&&i.ogSharingMethod.length>0&&(r.og_sharing_method=encodeURIComponent(i.ogSharingMethod)),i.url=a.appendGetParams(i.url,r);var c=function(){window.location=a.appendGetParams("share://facebook",{link:l(i.url),caption:encodeURIComponent(i.title),elementId:i.axId})},d=function(){var e;if(null!==n){switch(e={method:i.method,display:"popup"},i.method){case"feed":e.link=i.url,e.description=i.title,i.image&&(e.picture=i.image);break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:i.url,ref:i.axId})}n.ui(e)}else{var t="https://www.facebook.com/v2.8/dialog/"+i.method;e={app_id:i.appId,display:"popup",redirect_uri:l(url)};var o=l(i.url);switch(i.method){case"feed":e.link=o,e.description=i.title,i.image&&(e.picture=encodeURIComponent(i.image));break;case"share_open_graph":e.action_type="og.shares",e.action_properties=JSON.stringify({object:o,ref:i.axId})}var r=a.appendGetParams(t,e);s(r,null,200)}};if(o.is_android&&o.app_version.isGreaterThanOrEqualTo("1.10.0"))c();else if(o.is_android)try{Android.shareFacebook(i.url)}catch(t){d()}else o.is_ios&&o.app_version.isGreaterThanOrEqualTo("0.9.2")?c():d()})},r.twitter=function(e){e.on("click",function(t){t.preventDefault();var n=e.data(),i={text:encodeURIComponent(n.title)};n.url&&(i.url=l(n.url)),n.via&&(i.via="brilliantorg"),s(a.appendGetParams("https://twitter.com/intent/tweet",i))})},r.remind=function(e){e.on("click",function(t){t.preventDefault();var n=e.data(),i=l(n.url),o="https://www.remind.com/v1/share?url="+i+"&referrer="+i+"&text="+encodeURIComponent(n.title);s(o,880,600)})},r.pinterest=function(e){e.on("click",function(t){t.preventDefault();var n=e.data(),i="https://pinterest.com/pin/create/button/?url="+l(n.url)+"&media="+encodeURIComponent(n.media)+"&description="+encodeURIComponent(n.title)+" | via Brilliant.org";s(i,750,320)})},r.whatsapp=function(e){navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i)?e.removeClass("disabled"):(e.parent().addClass("whatsapp-removed"),e.remove())},r.nativeEmail=function(e){e.on("click",function(t){t.preventDefault(),window.location=a.appendGetParams(e.attr("href").replace("mailto:","share://email"),{elementId:e.data("ax-id")})})},-1!==window.location.href.indexOf("fb_close_window")&&window.self.close(),e.exports=r},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;for(n=0,i=this.length;n<i;++n)n in this&&e.call(t,this[n],n,this)}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in t){var r=t[a];e.call(o,r,a,t)&&i.push(r)}return i}),"function"!=typeof Object.getPrototypeOf&&("object"===i("test".__proto__)?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},writable:!0,configurable:!0})},function(e,t,n){"use strict";var i,o,a,r,s;i=n(0),a={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],(s=i('<textarea tabindex="-1"/>').data("autosize",!0)[0]).style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none;",s.style.lineHeight="99px","99px"===i(s).css("lineHeight")&&r.push("lineHeight"),s.style.lineHeight="",i.fn.autosize=function(e){return this.length?(e=i.extend({},a,e||{}),s.parentNode!==document.body&&i(document.body).append(s),this.each(function(){var t,n,a,l=this,c=i(l),d=0,u=i.isFunction(e.callback),f={height:l.style.height,overflow:l.style.overflow,overflowY:l.style.overflowY,wordWrap:l.style.wordWrap,resize:l.style.resize},p=c.width(),h=c.css("resize");function m(){var e,t=window.getComputedStyle?window.getComputedStyle(l,null):null;t?(e=parseFloat(t.width),"border-box"!==t.boxSizing&&"border-box"!==t.webkitBoxSizing&&"border-box"!==t.mozBoxSizing||i.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(n,i){e-=parseFloat(t[i])})):e=c.width(),s.style.width=Math.max(e,0)+"px"}function v(){var a,f;o!==l?function(){var n={};if(o=l,s.className=e.className,s.id=e.id,t=parseFloat(c.css("maxHeight")),i.each(r,function(e,t){n[t]=c.css(t)}),i(s).css(n).attr("wrap",c.attr("wrap")),m(),window.chrome){var a=l.style.width;l.style.width="0px",l.offsetWidth,l.style.width=a}}():m(),!l.value&&e.placeholder?s.value=c.attr("placeholder")||"":s.value=l.value,s.value+=e.append||"",s.style.overflowY=l.style.overflowY,f=parseFloat(l.style.height)||0,s.scrollTop=0,s.scrollTop=9e4,a=s.scrollTop,t&&a>t?(l.style.overflowY="scroll",a=t):(l.style.overflowY="hidden",a<n&&(a=n)),a+=d,Math.abs(f-a)>.01&&(l.style.height=a+"px",s.className=s.className,u&&e.callback.call(l,l),c.trigger("autosize.resized"))}function g(){clearTimeout(a),a=setTimeout(function(){var e=c.width();e!==p&&(p=e,v())},parseInt(e.resizeDelay,10))}c.data("autosize")||(c.data("autosize",!0),"border-box"===c.css("box-sizing")&&(d=c.outerHeight()-c.height()),n=Math.max(parseFloat(c.css("minHeight"))-d||0,c.height()),c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===h?c.css("resize","none"):"both"===h&&c.css("resize","horizontal"),"onpropertychange"in l?"oninput"in l?c.on("input.autosize keyup.autosize",v):c.on("propertychange.autosize",function(){"value"===event.propertyName&&v()}):c.on("input.autosize",v),!1!==e.resizeDelay&&i(window).on("resize.autosize",g),c.on("autosize.resize",v),c.on("autosize.resizeIncludeStyle",function(){o=null,v()}),c.on("autosize.destroy",function(){o=null,clearTimeout(a),i(window).off("resize",g),c.off("autosize").off(".autosize").css(f).removeData("autosize")}),v())})):this}},function(e,t,n){"use strict";var i={set:function(e,t,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var r in n)if(n.hasOwnProperty(r)){a+="; "+r;var s=n[r];!0!==s&&(a+="="+s)}document.cookie=a},get:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},remove:function(e){i.set(e,null,{expires:-1})}};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=c;var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(8)),r=n(3),s={},l={};function c(e,t){if((t=!0===t)||!e.hasClass("viz-rendered")){var n=e.data(),i=e.find(".content"),a=function(n){var a=(0,o.default)("<div />").html(n);[{tag:"link",attr:"href"},{tag:"script",attr:"src"}].forEach(function(e){a.find(e.tag+"["+e.attr+"]").each(function(){var t=(0,o.default)(this),n=t.attr(e.attr);(n=n.split("?")[0])in s?t.remove():(s[n]=1,t.appendTo(o.default.body))})}),i.width(i.parent().width()),i.html(a.html()),t||(d(e,!0),o.default.body.on("quizSolvablePositionChanged",function(){d(e)}))},r=function(){e.addClass("loading-error")},l=function(){o.default.get(n.src).then(a).fail(r),e.addClass("viz-rendered")};if(e.is(":visible"))l();else{var c="quizSolvablePositionChanged.renderviz-"+n.name;o.default.body.on(c,function(){e.is(":visible")&&(o.default.body.off(c),l())})}}}window.bvisualizations={display:function(e){var t=(0,o.default)('.viz-wrapper[data-name="'+e+'"]');if(t.addClass("loaded").find(".content").width("auto"),r.user_is_authenticated){var n=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in"],i=function(e){return n.map(function(t){return"vkey.".concat(e,".").concat(t)}).join(" ")};o.default.window.off_on(i("beforeupdate"),function(){l[e]={$container:t},o.default.body.append(t),t.hide()}),o.default.window.off_on(i("afterupdate"),function(){var t=l[e],n=(0,o.default)('.viz-wrapper[data-name="'.concat(e,'"]:visible'));t&&n.length&&(t.$container.find("script").remove(),n.replaceWith(t.$container.show()))})}}};var d=function(e,t){if(t=!0===t,e.is(":visible")){if(!t){var n=e.find("svg");n.length>0&&0===n.width()&&(e.removeClass("viz-rendered"),e.find(".content").html(""),setTimeout(function(){return c(e,!0)},50)),e.find(".viz-canvas-slider-group").length>0&&(e.removeClass("viz-rendered"),e.find(".content").html(""),setTimeout(function(){return c(e,!0)},50))}a.track("ui",{action:"viewed_visualization",visualization_name:e.data("name")})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wistiaController=function(e){var t=e.data("video");window._wq=window._wq||[],window._wq.push({id:t,onHasData:function(n){var o=function(){return e.children().height(n.height())};o(),n.bind("heightchange",o),["play","pause","seek","end"].forEach(function(e){n.bind(e,function(){(0,i.track)("ui",{action:"video_action",element_id:"video_wistia_".concat(e),video_id:t})})})}})};var i=n(8)},function(e,t,n){"use strict";var i=n(0);e.exports={init:function(){if(i("#levelspage.selectable").length>0){var e=i("#lvllist .lvl"),t=i("#lvlcontent .lvl"),n=t.find(".selectors a");e.on("click",function(n){n.preventDefault();var o=i(this);o.hasClass("active")||(e.filter(".active").removeClass("active"),o.addClass("active"),t.filter(":visible").hide(),"undefined"!=typeof MathJax?t.eq(o.index()+1).mathjax_update().show():t.eq(o.index()+1).css({visibility:"visible"}).show())}),n.on("click",function(e){e.preventDefault();var t=i(this);if(!t.hasClass("active")){var n=t.parents(".lvl").find(".problem");t.siblings(".active").removeClass("active"),t.addClass("active"),n.filter(":visible").hide(),"undefined"!=typeof MathJax?n.eq(t.index()).mathjax_update().show():n.eq(t.index()).css({visibility:"visible"}).show()}});var o=window.location.hash||null;if(null!==o)null!==(a=parseInt(o.replace(/[#!\/]/g,""),10)||null)&&(window.location="/levels/"+a+"/");else{var a=window.location.pathname.match(/\/levels\/(.*)/)[1];e.filter(".lvl-"+a).trigger("click")}}}}},function(e,t,n){"use strict";e.exports={ratings_correct_incorrect_over_time:function(e){e=e||!1;var t,n,i,o=[1e3,1045,1080,1143,1166,1227,1288,1283,1299,1338,1342,1319,1343,1350,1382,1480,1510,1480,1460,1556,1548,1605,1592,1650,1684,1736,1807,1863,1848,1941,1935,1995,1965,1957,1998,2052,2098,2164],a=[],r=(new Date).getTime(),s=new Date(r),l=2200,c=864e5,d=function(e,t){return~~(Math.random()*(t-e+1))+e};if(e)for(;!(r-s.getTime()>31536e6||1e3===l);)i=20,s=new Date(s.getTime()-d(1,i)*c),n=50,l-=d(1,100)-d(1,100-n),l=Math.max(l,1e3),l=Math.min(l,2200),a.unshift({date:s,rating:l});else for(;o.length;)t=10,s=new Date(s.getTime()-t*c),a.unshift({date:s,rating:o.pop()});return a}()}},function(e,t,n){"use strict";var i,o,a=n(0),r=n(1),s=n(3),l={},c=[1e3,1250,1500,1750,2e3,2250],d="1-year",u=function(){if(!s.b2)return r.noop;var e=function(){a(this).addClass("tooltipped")},t=function(){a(this).removeClass("tooltipped")};return s.is_mobile?function(n){var i;n.on("click",function(){var n=this;n!==i&&(e.call(n),i=n,r.defer(function(){a.body.one("click",function(){t.call(n),i=null})}))})}:function(n){n.on("mouseenter",e).on("mouseleave",t)}}(),f=function(e){return 864e5*e},p=function(e,t){var n=e.find("#canvas-graph"),i=t.ratings_correct_incorrect_over_time;if(1===(i=function(e){if("1-year"===d)return e;var t=new Date(e[e.length-1].date);if("1-week"===d)var n=t.getTime()-f(7);else"3-months"===d&&(n=t.getTime()-f(90));return e.filter(function(e){return new Date(e.date).getTime()>=n})}(i)).length){var o,a=(new Date).getTime();switch(d){case"1-year":o=a-f(365);break;case"3-months":o=a-f(90);break;case"1-week":o=a-f(7)}i.push({date:a,rating:i[0].rating,artificial:!0}),i[0].date=o}var s,l,u,p,h,m,v={width:n.width(),height:n.height(),gutter:parseInt(n.css("left")),dateFormatFull:d3.time.format("%b. %e, %Y"),nodeTemplate:r.template('<div class="stat-tooltip dropup tipsy" style="top:<%= top %>;left:<%= left %>"><div class="dropdown-menu"><span class="arrow"></span><p><strong><%= dateFormatted %></strong></p><p>Level <%= level %></p></div></div>')};return v.scaleX=d3.time.scale().domain([new Date(i[0].date),new Date(i[i.length-1].date)]).range([0,v.width-0]),v.scaleY=(s=r.pluck(i,"rating"),l=c.slice(),u=d3.min(s),p=d3.max(s),h=l[0],m=l[l.length-1],u<h&&(h=u,l[0]=h),p>m&&(m=p,l[l.length-1]=m),v.ratingMilestones=l,d3.scale.linear().domain([h,m]).range([v.height,0])),v.ratings_over_time=i,v};l.render=(i=null,o=null,l.clean=function(){i&&i.find(".cleanable").each(function(){a(this).empty()})},function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i=i||e,o=!0===c?t:o||t,n.e(0).then(function(){var e=n(167);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){var t,n=p(i,r.extend({},o));!0!==o.ignore&&(function(e,t){var n={},i=t.ratings_over_time.length,o={};function s(e){return o[e]||(o[e]=~~t.scaleX(new Date(e))),o[e]}e.select("#canvas-graph").selectAll("div.node").data(t.ratings_over_time).enter().append("div").classed("node",!0).classed("left",function(e){return t.width/2-t.scaleX(new Date(e.date))>0}).style("left",function(e,i){if(0===i)n[i]=0;else{var o=s(t.ratings_over_time[i-1].date),a=s(e.date);n[i]=~~((a+o)/2)}return n[i]+"px"}).style("width",function(e,o){if(o===i-1)return t.width-n[o]+"px";var a=s(t.ratings_over_time[o+1].date);return~~((s(e.date)+a)/2)-n[o]+"px"}).html(function(e,i){for(var o,a=0;a<t.ratingMilestones.length;a++)if(e.rating<=t.ratingMilestones[a]){o=a;break}return t.nodeTemplate(r.extend(e,{top:~~t.scaleY(e.rating)+"px",left:s(e.date)-n[i]+"px",dateFormatted:t.dateFormatFull(new Date(e.date)),level:o}))}),u(a.id("canvas-graph").find("div.node"))}(e,n),function(e,t){var n=e.svg.line().x(function(e){return t.scaleX(new Date(e.date))}).y(function(e){return t.scaleY(e.rating)}).interpolate("basis");e.select("#canvas-lines").append("path").attr("d",n(t.ratings_over_time)).classed("artificial",function(){return!0===t.ratings_over_time[1].artificial})}(e,n),function(e,t){var n=t.ratings_over_time.slice(),i=r.extend({},n[0]);i.rating=0;var o=r.extend({},n[n.length-1]);o.rating=0,n.unshift(i),n.push(o);var a=e.svg.line().x(function(e){return t.scaleX(new Date(e.date))}).y(function(e){return t.scaleY(e.rating)}).interpolate("linear"),s=e.select("#canvas-area"),l=s.append("svg:defs").append("svg:linearGradient").attr("id","area-gradient").attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");l.append("svg:stop").attr("offset","0%").attr("stop-color","#F7F7F7").attr("stop-opacity",0),l.append("svg:stop").attr("offset","100%").attr("stop-color","#F7F7F7").attr("stop-opacity",1),s.append("path").attr("d",a(n)).attr("fill","url(#area-gradient)")}(e,n),function(e,t){var n,i,o=t.ratingMilestones.slice(1,t.ratingMilestones.length-1),a=e.select("#canvas-legend");switch(a.selectAll("div.y-item").data(o).enter().append("div").classed("y-item",!0).style("top",function(e){return t.scaleY(e)+"px"}).text(function(e){return"Level "+((t=e)<1250?1:t<1500?2:t<1750?3:t<2e3?4:5);var t}),d){case"1-year":case"3-months":n=e.time.format("%b"),i=t.scaleX.ticks(e.time.month,1);break;case"1-week":n=e.time.format("%b %e"),i=t.scaleX.ticks(e.time.day,1)}a.selectAll("div.x-item").data(i).enter().append("div").classed("x-item",!0).style("left",function(e){return t.scaleX(e)+"px"}).text(function(e,t){var i=n(e);return s.is_mobile&&"1-year"===d&&t%2==0?"":i})}(e,n),(t=a.id("stat-btn-filters").find(".btn")).on("click",function(){var e=a(this);e.hasClass("active")||(t.removeClass("active"),e.addClass("active"),d=e.data("value"),l.clean(),l.render())}),i.find(".spinner").hide(),a.id("percentile-text").text(o.percentile))})}),e.exports=l},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=n(8),s=n(7),l={bdayExpl:function(e){var t={show:!1,trigger:"manual",placement:a.is_mobile?"left":e.parents(".public-signup-modal").length?"bottom":"right"};a.is_mobile&&e.hasClass("email-expl")&&(t.template='<div class="tooltip" id="email-expl-tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'),e.tooltip(t),e.on("click",o.throttle(function(t){t.preventDefault(),t.stopPropagation(),e.tooltip("toggle"),e.toggleClass("active")},200)),i.body.on("click",function(){e.hasClass("active")&&e.click()})},showPassword:function(e){var t=e.data("field"),n=e.parentsUntil("form").parent().find(t),i=!1;e.on("click",function(){i=!i,e.toggleClass("active",i),n.attr("type",i?"text":"password")})},signUpModal:function(e){e.parent(".modal-bg").on("click",function(){e.parents(".solv-public-form").removeClass("open"),i(".btn-mcq.dim").removeClass("dim")}),e.on("click",function(e){e.stopPropagation()});var t=e.find("#position-dots").find(".position-dot"),n=e.find("#prev-position-dot"),a=e.find("#next-position-dot"),l=e.find("#slides").find(".slide"),c=l.length,d=1,u=function(e){l.removeClass("active"),l.filter('[data-position="'+d+'"]').addClass("active"),t.removeClass("active"),e?e.addClass("active"):t.filter('[data-position="'+d+'"]').addClass("active"),n.removeClass("disabled"),a.removeClass("disabled"),d==c?a.addClass("disabled"):1==d&&n.addClass("disabled"),r.track("ui",{element_id:"viewed_signup_login_modal_tour_slide_"+d})};t.on("click",function(e){var t=i(this),n=t.data("position");e.preventDefault(),n!=d&&(d=n,u(t))}),n.on("click",function(e){e.preventDefault(),i(this).hasClass("disabled")||(d--,u())}),a.on("click",function(e){e.preventDefault(),i(this).hasClass("disabled")||(d++,u())});var f=e.find(".public-signup-right");if(e.data("show-form")){var p=e.find("#signup-email"),h=e.find("#signup-form-container"),m=e.find("#problem-login-link"),v=e.find("#login-form-container"),g="show-form",_=p.data(),y=h.data(),b=!1,w=m.data(),k=v.data(),C=!1;p.on("click",function(e){if(e.preventDefault(),b)f.addClass(g);else{var t=o.extend({page_key:y.pageKey},_);i.get(y.url,t).then(function(e){b=!0,h.html(e.actions.homepage_signup_form.new_html),s.initGenericControllers(h),f.addClass(g)}).fail(function(e){window.location.href=p.attr("href")})}}),m.on("click",function(e){if(e.preventDefault(),C)f.addClass(g);else{var t=o.extend({page_key:k.pageKey},w);i.get(k.url,t).then(function(e){C=!0,v.html(e.actions.homepage_login_form.new_html),s.initGenericControllers(v),f.addClass(g)}).fail(function(e){window.location.href=m.attr("href")})}})}var x=e.find("#problem-signup-link-alternative"),q=e.find("#problem-login-link-alternative");x.on("click",function(e){e.preventDefault(),f.removeClass(g+" show-login").addClass("show-signup")}),q.on("click",function(e){e.preventDefault(),f.removeClass(g+" show-signup").addClass("show-login")})}};e.exports=l},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(175),r=n(3),s=n(9),l=n(15),c=n(18),d=n(27),u=n(8),f=n(22),p=n(24);n(32);var h,m,v={},g=null,_=null,y={},b=null,w=null,k=null,C=null,x=null,q=null,T={},S=!1,j=["wikis","problems","quizzes","notes","users"],P=[],D={version:1,search_type:"wikis",wiki_quality_threshold:200,page:0,pages:0,use_page:!1,topics:"",levels:"easy",allow_empty_queries:!1},O={},I=function(e,t){return e=e.replace(/\s/g,"+"),!0===t&&(e=escape(e)),e},E=function(e){e.hasClass("loaded")||(e.addClass("loaded"),D.page<D.pages-1?(D.page++,D.use_page=!0,S=!0,Q()):i.window.off("scroll.searchpage"))},z=function(e,t){w.removeClass("loading").addClass("loaded"),C=i.id("site-search-result-list"),x=i.id("site-search-header"),null===e?A(t):L(e)},A=function(e){r.is_native&&1==e.hits.length&&0===e.page&&"<next page>"!==P[P.length-1]&&d.captureMessage("A user got only one search hit, which is probably an issue",{tags:{search_history:'["'+P.join('", "')+'"]'}}),F(),$(e),function(){if(x.removeClass(j.join(" ")),x.addClass(D.search_type),u.set_analytics_events(k),!x.hasClass("inited")){var e=i("#search-type a"),t=i("#search-level-list button"),n=i("#search-topics-list a");u.track("ui",{action:"click",element_type:"link",element_id:"user_searched"});var o=function(e,t){e.removeClass("active"),t.addClass("active")},a=function(){var t=e.filter("[data-opt-value="+D.search_type+"]");o(e,t)},r=function(){["problems","quizzes"].indexOf(D.search_type)>=0?(D.oldLevels&&(D.levels=D.oldLevels,D.oldLevels=null),D.oldTopics&&0===D.topics.length&&(D.topics=D.oldTopics,D.oldTopics=null)):(D.levels&&(D.oldLevels=D.levels,D.levels=""),D.topics&&(D.oldTopics=D.topics,D.topics=""))},s=function(e,t,n,i){if(i=!1!==i,n.hasClass("active"))!0===i&&(t.removeClass("active"),t.find("a").removeClass("active"),D[e]="",Q());else{var a=n.data();o(t,n),D[e]=a.optValue,r(),Q()}};x.addClass("inited"),a(),e.on("click",function(t){t.preventDefault(),s("search_type",e,i(this),!1)}),D.levels.length&&"string"==typeof D.levels&&(t.removeClass("active"),t.filter("[data-opt-value="+D.levels+"]").addClass("active")),t.on("click",function(e){e.preventDefault();var n=i(this),o=n.data("opt-value");n.hasClass("active")||(t.removeClass("active"),n.addClass("active"),D.levels=o,Q())}),n.on("click",function(e){e.preventDefault();var t=i(this);t.hasClass("active")||(i("#search-topic-active").html(t.html()),s("topics",n,t))}),C.on("click",".change-search-type",function(e){e.preventDefault(),D.search_type=i(this).data("opt-value"),r(),a(),Q()})}}(),function(){var e=C.find(".load-page").last(),t=r.is_mobile?i.window:k.find(".search-results-wrapper"),n=function(){t.scrollTop()+t.outerHeight()+100>(r.is_mobile?e.offset().top:e.position().top+i.id("header").outerHeight())&&E(e)};D.page===D.pages-1?e.remove():(t.off_on("scroll",o.throttle(function(){e.hasClass("loaded")||n()},10)),n()),C.find(".internal-link").off_on("click",function(e){e.preventDefault(),e.stopPropagation();var t=i(this).attr("href");e.metaKey?window.open(t):window.location.href=t})}(),X(),function(e){var t="/search/_analytics/",n=window.ga||function(){};t+="user-"+m+"/",t+=D.search_type+"/",t+="query-"+I(e.query,!0)+"/",0===D._filters.length&&D._filters.push("none"),t+="filters-"+I(D._filters.join(","))+"/",t+="total-"+e.nbHits+"/",n("send","event","search","search_result",t+="page-"+(e.page+1)+"-"+e.nbPages+"/");var i=e.userData&&e.userData.length?e.userData[0].card_type_name:"NONE";u.track("search_result",{search_type:D.search_type,query:I(e.query,!0),filters:I(D._filters.join(",")),hits:e.nbHits,page:e.page+1,pages:e.nbPages,path:window.location.pathname,is_android:r.is_android,custom_search_card_type:i})}(e)},L=function(e){var t;t=e.message.indexOf("Cannot connect to the AlgoliaSearch API")>=0?"You seem to be offline. Check your connection to continue searching.":e.message+" Try again later.",i.modal("Search error",t),d.captureMessage("Search error: "+e.message)},M=function(e){return o.template(i.id(e).text())},F=function(){O={page:M("search-page-tmpl"),problems:M("search-problems-tmpl"),quizzes:M("search-quizzes-tmpl"),notes:M("search-notes-tmpl"),wikis:M("search-wiki-tmpl"),sets:M("search-sets-tmpl"),users:M("search-users-tmpl"),empty:M("search-empty-tmpl"),card:{course:M("search-card-course-tmpl"),topic:M("search-card-topic-tmpl"),chapter:M("search-card-chapter-tmpl"),special:M("search-card-special-tmpl")}}},$=function(e){var t="";if(0===D.page)if(e.userData&&e.userData.length){var n=e.userData[0];T[n.card_id]||null===T[n.card_id]?q.html(T[n.card_id]):(q.html(O.card[n.card_type_name.toLowerCase()](n)),i.get("/api/v1/search/grab_custom_search_card/"+n.card_id+"/").fail(function(){T[n.card_id]=null,q.empty()}).then(function(e){T[n.card_id]=e.rendered_html,q.html(e.rendered_html)}))}else q.empty();e.hits.length>0?(x.removeClass("empty"),e.hits.forEach(function(e,n){var i=O[e.document_type],o=N(e);t+=i(o)})):0===D.page&&(x.addClass("empty"),t=O.empty(K(e))),D.page=e.page,D.pages=e.nbPages,t.length>0&&(t=O.page({page:D.page,html:U(t)}),D.page>0?C.append(t):C.html(t)),l.feeditem_modal(),C.find(".load-modal").not(".inited").each(function(){var e=i(this),t=e.data(),n=t.fullUrl,o=t.modalUrl;!0===e.data("clean-urls")&&(n="/"+n.split(/:\/\/.*?\//)[1],o&&(o="/"+o.split(/:\/\/.*?\//)[1])),e.hasClass("search-problem")?e.data("modal-url",n.replace(/\-problem\/(.)/,"-problem/modal/$1").replace("/problems/","/problems/modal/")):e.hasClass("search-note")?e.data("modal-url",n.replace("/thread/","/modal-thread/")):e.data("modal-url",o),e.addClass("inited"),l.modal_events.apply(this)}),f.checkOverflow(C)},U=function(e){return e.replace(/data-src=/g,"src=")},N=function(e){switch(e.document_type){case"wikis":return B(e);case"problems":return H(e);case"quizzes":return R(e);case"notes":return G(e);case"users":return W(e);default:return e}},B=function(e){return e.processed_title=J(e),e.processed_blurb=V(e),e.is_low_quality=(e.quality_score||0)<D.wiki_quality_threshold,e},H=function(e){return e.level=e.level>0&&"None"!==e.level?e.level:0,e.concept_quiz_slug=e.concept_quiz_slug||!1,e.num_likes=e.num_likes||0,e.num_shares=e.num_shares||0,e.percent_solved=e.percent_solved||0,e.processed_title=J(e),e.processed_blurb=V(e),e.topic_name="Unknown"===e.topic_name?null:e.topic_name,e},R=function(e){return e.topic_name=e.topic_name||null,e.quiz_type=e.quiz_type||null,e.paid_quiz=e.paid_quiz&&!0===e.paid_quiz,e},G=function(e){return e.processed_title=J(e),e.processed_blurb=V(e,!1),e},W=function(e){return e.user_id=e.objectID.split("-")[1],e.school_name="None"===e.school_name?null:e.school_name,e},K=function(e){var t=1,n={query:e.query};return j.forEach(function(e){if(e!==D.search_type){var i="alt_search_"+t;n[i]=e,n[i+"_text"]=function(e,t){return"users"===e?"members":e}(e),t++}}),n},J=function(e){return e.rendered_title?e.rendered_title:e.title?o.escape(e.title):null},V=function(e,t){var n;if(t=!1!==t,e.rendered_blurb)n=e.rendered_blurb;else{if(!e.blurb)return null;n=t?o.escape(e.blurb):e.blurb}return n.replace(/<a\ /g,"<span ").replace(/<\/a>/g,"</span>")},X=function(){r.is_mobile||(s.crop(),i.body.addClass("search-active")),k.hasClass("active")||k.hide().addClass("active").fadeIn(150),c.loadForElement(C)},Y=function(){r.is_mobile||(s.crop(!1),i.body.removeClass("search-active")),k.removeClass("active"),b.val(""),w.removeClass("loaded"),i.window.off("scroll.searchpage")},Q=function(e){e=e||b.val();var t,n=[],i={facets:"*",facetFilters:[],attributesToHighlight:[]};D.page&&D.page>0&&!0===D.use_page?(D.use_page=!1,i.page=D.page):D.page=0,"problems"===D.search_type?(t="hard"===D.levels?"rating>1800":"medium"===D.levels?"(rating:1400 to 1800, rating<0)":"rating:0 to 1400",i.numericFilters=t,n.push("levels-"+D.levels)):"wikis"!==D.search_type||h.isPrivilegedUser?"notes"===D.search_type&&(i.numericFilters="quality_score>=65"):i.numericFilters="quality_score>="+D.wiki_quality_threshold,D.topics.length>0&&["problems","quizzes"].indexOf(D.search_type)>=0&&(i.facetFilters.push("topic_name:"+D.topics),n.push("topic-"+I(D.topics,!0))),D._filters=n,p.set("search_options",D),function(e,t,n){var i="string"==typeof t?t:"<next page>";P.push(i),t="string"==typeof t?t:"<none>",n=n||{},(g[e]||j.indexOf(e)>=0)&&(t.trim().length>0||D.allow_empty_queries)?(S?S=!1:b.val(t),D.search_type=e,null===_&&(_=a(g.application_id,g.readonly_api_key)),y[e]||(y[e]="users"===e?_.initIndex(g[e].index_name):_.initIndex(g.problems.index_name)),w.addClass("loading").removeClass("loaded"),"users"!==e&&j.indexOf(e)>=0&&n.facetFilters.push("document_type:"+e),y[e].search(t,n,z)):Y()}(D.search_type,e,i)};v.controller=function(){if(b=i.id("site-search-input"),k=i.id("site-search-results"),q=i.id("site-search-custom-result"),b.length>0&&k.length>0&&(w=b.parent(),(h=i("#site-search-data").data()).isPrivilegedUser=!0===h.isPrivilegedUser,g=h.settings,m=h.user,t=null,b.on("keydown input",function(e){clearTimeout(t),13===e.which||e.forceSearch?(S=!0,Q(b.val())):t=setTimeout(function(){S=!0,Q(b.val())},1e3)}),k.add(i.id("search-hide")).on("click",function(e){i(e.target).closest(".search-results-wrapper").length||(e.preventDefault(),Y())}),i.id("search-input-btn").on("click",function(){b.focus()}),b.val().length>0)){var e=p.get("search_options")||null;null!==e&&e.version&&e.version===D.version&&(D=e),Q(unescape(b.val()))}var t},e.exports=v},function(e,t,n){"use strict";var i,o,a,r=n(0),s=n(1),l=n(3),c=n(5),d={},u=window.vkey||{},f={},p=null,h=!1,m=!1,v=function e(t){if(m)h=!0;else{h=t||!h;var n=r.id("nf-feeditem-modal");h?(r.body.on("click.savetogroup saveitem.open",function(){e(!1)}),n.off_on("scroll.saveitem",s.throttle(g,100))):(r.body.off("click.savetogroup saveitem.open"),n.off("scroll.saveitem")),i.toggle(h),h?(p&&p.length>0&&p.outerHeight()<p[0].scrollHeight&&(p.addClass("scrollable"),r.id("groupitem-gradient").addClass("active")),g(),a.addClass("selected"),r.body.trigger(r.Event("savetogroup.open"))):(i.removeClass("success"),a.removeClass("selected"))}},g=function(){if(!m&&!l.is_mobile){var e=0,t=0,n=o.offset(),a="",r="",s=l.is_mobile?0:28;"left"===o.data("position")?(t=n.top,e=n.left-i.width()-s,a="adjusted",r="bottom"):"bottom"===o.data("position")?(t=n.top+o.outerHeight(),e=n.left+o.width()/2,a="bottom"):(t=n.top-i.height(),e=n.left+o.width()/2,r="bottom"),i.addClass(a).removeClass(r).css({top:~~t,left:~~e})}},_=function(e){(!0===e||i&&i.length&&o.length)&&(g(),function(){i.on("click",function(e){e.stopPropagation()});var e,t,n=r.id("groupitem-form-groups");p=n.find(".sets"),e=p.find("input"),(t=e.filter(".auto-checked")).length>0&&e.on("click.autocheck",function(){e.off("click.autocheck"),t.prop("checked",!1).removeClass(".auto-checked")}),i.removeClass("nux new success"),i.find(".success").length>0&&(i.addClass("success"),v(!0)),g(),n.on("submit",function(){v(!1)})}())};d.controller=function(e){(function(){var e=(o=r.id("groups-tooltip-target")).data("object-id"),t=r();["assessment_add_solvable_to_group","quizzes_add_solvable_to_group","potw_add_solvable_to_group","discussions_add_to_group"].forEach(function(e){t=t.add(r(".saveitem-tooltip#cmp_"+e+"_id"))}),t.each(function(){var t=r(this),n=t.data("object-id");n!==e&&(f[n]=t,t.detach())}),0===(i=t.filter("[data-object-id="+e+"]")).length?(i=f[e])&&i.appendTo(r.body):i.length>1&&(i.slice(1).remove(),i=i.first()),i&&i.length&&(o.length?(!0!==i.data("inited")&&(i.appendTo(r.body),i.data("inited",!0),i.find("form").off("submit"),c.autosubmit.init(i)),(a=r.id("groups-tooltip-trigger")).on("click",function(e){e.preventDefault(),e.stopPropagation(),v()}),h&&v(!0)):!0===i.data("is-webview")&&(h=!0,m=!0,i.addClass("in")))})(),_()},u.assessment_add_solvable_to_group=u.quizzes_add_solvable_to_group=u.potw_add_solvable_to_group=u.discussions_add_to_group=function(){u.handle.apply(this,arguments),_()},e.exports=d},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(168),r=n(3),s=n(28),l=n(8),c=n(14),d=n(7),u={},f=null,p=0,h=function(e){var t=p;p=e,o.defer(function(){f.removeClass("nx-slide-"+t).addClass("nx-slide-"+p);var e=f.find(".slide-"+p),n=e.data("on-visible")||null;v(e),n&&d.executeFunctionByName(n,e),f.trigger(i.Event("nux.slidechange"))});var n=!0===i.body.data("is-mobile")?"_mobile":"_desktop";l.track("ui",{action:"click",element_type:"button",element_id:"nux_slide_"+e+n})},m=function(){h(p+1)},v=function(e){o.defer(function(){i(".nx-target-active").off("click.lock").removeClass("nx-target-active"),e.length>0?(e.find(".nx-modal").each(function(){var t=e.data("reposition-handler");t?d.executeFunctionByName(t,i(this)):g(i(this))}),o.defer(function(){e.addClass("in")})):(i.body.trigger("nuxClose"),f.hide())})},g=function(e){var t=e.data("target")||null;if(t){var n=i(t);o.defer(function(){n.addClass("nx-target-active"),function(e,t,n){var a=["top","bottom"],r=e.data("reposition");r&&o.defer(function(){var n=r.split("-"),o=n[0],s=n[1];if(!(a.indexOf(o)<0||a.indexOf(s)<0)){var l=t.offset().top+("bottom"===o?t.outerHeight():0)-("bottom"===s?e.outerHeight():0),c=e.offset().top-e.position().top;e.css({top:l-c+parseInt(e.css("margin-top"))}),i.id("prac-topic-header").length&&i.html.add(i.body).animate({scrollTop:t.offset().top-i.id("header").outerHeight()-28},{duration:300})}})}(e,n)})}};u.tour=function(e){var t=(f=e).prop("class").match(/nx-slide-(\d{1,})/)[1];p=parseInt(t,10),h(p),f.on("click",".nx-next",m),o.defer(function(){window.history.replaceState&&window.history.replaceState({},"",window.location.href.replace(/tour=true&?/,"").replace(/[&\?]$/,""))})},u.overlay=function(e){e.on("click",function(){s.update(e.data("flag"),!0),o.defer(function(){e.hide()})})},u.banner=function(e){s.update(e.data("flag"),!0)},u.problemsOfTheDay=function(e){s.update(e.data("flag"),!0)},u.potdHighlight=function(e){var t=e.find(".nx-modal");setTimeout(function(){var e=t.offset(),n=i.window.height();if(e.top>n){var o=i.html.add(i.body);o.animate({scrollTop:e.top-n+t.height()+8}),f.on("nux.slidechange",function(){o.animate({scrollTop:0})})}},500)},u.welcomePage=function(e){var t=e.find(".nux-welcome-step"),n=e.find(".category-link"),o=e.find(".category-item"),a=e.find(".continue:first").attr("href"),s=window.location.search.indexOf("step=")>=0?parseInt(window.location.search.match(/[\?&]step=(\d{1})/)[1],10):1,c=function(e,n){t.removeClass("active"),t.filter(".nux-welcome-step-"+s).addClass("active");try{window.history.replaceState({},null,n)}catch(e){}};e.find(".continue").on("click",function(e){e.preventDefault(),s++;var t=this.href.replace("step="+(s-1),"step="+s);c(0,t)}),t.each(function(e){i(this).find(".markers span").each(function(t){t<e&&i(this).addClass("clickable").on("click",function(){s=t+1;var e=a.replace(/step=\d/,"step="+s);c(0,e)})})});var d=e.find('.btn[type="submit"]');n.on("click.selectCategory",function(){d.prop("disabled",""),r.is_mobile||e.find(".content").removeClass("unselected-category"),n.off("click.selectCategory")}),n.on("click",function(e){var t=i(this);if(!t.hasClass("active")){var a=t.data();n.removeClass("active"),t.addClass("active"),t.find("input").prop("checked",!0),o.removeClass("active"),o.filter(a.target).addClass("active"),l.track("ui",{action:"click",element_id:"clicked_nux_category_option",user_category:a.category,element_type:"button"})}}),o.find(".img").each(function(e,t){(new Image).src=t.style.backgroundImage.match(/url\(['"]?(.*?)['"]?\)/)[1]})},u.earthAnimation=function(e){n.e(0).then(function(){var e=n(167);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(t){c.getParamsObject();var n=e.width(),i=e.height(),o=n/200*100,r=t.geo.orthographic().scale(o).translate([n/2,i/2]).clipAngle(90),s=t.geo.path().projection(r),l=t.scale.linear().domain([0,n]).range([-180,180]),d=t.select(e[0]).append("svg").attr("width",n).attr("height",i),u={type:"Topology",transform:{scale:[.036003600360036005,.017366249624962502],translate:[-180,-90]},objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8,9]]},{type:"Polygon",arcs:[[10,-10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23]]},{type:"Polygon",arcs:[[24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31]]},{type:"Polygon",arcs:[[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]},{type:"Polygon",arcs:[[36]]},{type:"Polygon",arcs:[[37]]},{type:"Polygon",arcs:[[38]]},{type:"Polygon",arcs:[[39]]},{type:"Polygon",arcs:[[40]]},{type:"Polygon",arcs:[[41]]},{type:"Polygon",arcs:[[42]]},{type:"Polygon",arcs:[[43]]},{type:"Polygon",arcs:[[44]]},{type:"Polygon",arcs:[[45],[46]]},{type:"Polygon",arcs:[[47]]},{type:"Polygon",arcs:[[48]]},{type:"Polygon",arcs:[[49]]},{type:"Polygon",arcs:[[50]]},{type:"Polygon",arcs:[[51]]},{type:"Polygon",arcs:[[52]]},{type:"Polygon",arcs:[[53]]}],bbox:[-180,-90.00000000000003,180.00000000000014,83.64513000000002]}},arcs:[[[3345,574],[-16,-56],[-171,43],[187,13]],[[3745,688],[51,-114],[-264,-54],[116,168],[97,0]],[[3098,1097],[-9,-70],[-150,-12],[109,201],[50,-119]],[[0,304],[279,48],[330,-86],[265,-13],[157,60],[-297,50],[20,95],[-111,54],[172,-13],[108,81],[-238,50],[-45,101],[112,-11],[189,59],[50,54],[253,71],[431,-10],[160,44],[177,-85],[192,-7],[-84,155],[204,-58],[220,35],[338,-55],[203,55],[47,79],[-35,88],[21,161],[132,154],[24,-89],[-94,-80],[111,-202],[-13,-193],[-239,-126],[-185,-5],[82,-48],[-101,-48],[71,-108],[436,-122],[40,-48],[235,85],[194,-20],[396,100],[-32,62],[-165,-11],[-4,64],[191,96],[213,44],[162,104],[-2,55],[144,109],[279,-22],[271,94],[270,7],[92,-46],[262,59],[52,67],[133,-73],[365,203],[127,15],[167,-117],[181,5],[18,-101],[-44,-125],[85,-14],[79,128],[105,24],[143,129],[144,58],[74,-59],[252,-1],[87,97],[93,-79],[206,61],[202,-76],[40,37],[180,-12],[165,32],[75,-43],[224,2],[32,-56],[212,-38],[233,-126],[237,-55],[-54,-113],[-140,-104],[-21,-92],[98,-97],[-145,-24],[-55,-103],[75,-64],[298,-135],[140,-4],[-9951,-14]],[[3118,2082],[75,-49],[-86,-53],[-80,32],[66,140],[25,-70]],[[9038,2834],[80,-5],[-10,-135],[-52,-19],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[0,4229],[9981,-14],[2,24],[-9983,18]],[[0,4257],[0,-28]],[[0,4257],[0,-28]],[[6390,4402],[11,-96],[-93,-560],[-85,-2],[-20,127],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[180,-364],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,119],[60,189],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[59,18],[106,-131],[-256,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[83,-283],[-80,101],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-111,348],[-89,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8274,5288],[-48,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-36,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[5431,7384],[-12,-93],[-74,57],[86,36]],[[8915,7321],[-20,-115],[-257,-72],[9,-141],[-53,107],[89,123],[85,5],[104,155],[24,172],[44,-116],[-25,-118]],[[8997,7726],[45,-52],[-66,-73],[-50,80],[17,124],[54,-79]],[[3440,8101],[74,-83],[-21,-86],[-140,-8],[87,177]],[[8989,8105],[-3,-226],[-40,-50],[14,449],[29,-173]],[[4811,8192],[-89,-26],[8,119],[112,39],[-31,-132]],[[4916,8559],[26,-157],[71,-172],[2,-124],[-176,-35],[41,60],[19,196],[-70,125],[87,107]],[[2634,8963],[57,-89],[-67,-61],[10,150]],[[4597,9009],[24,-76],[-140,-94],[-157,122],[273,48]],[[0,9154],[281,-172],[-111,-98],[-167,92],[-3,178]],[[0,9301],[9999,-40],[-35,16],[-9964,24]],[[2485,9184],[88,-132],[51,154],[118,-41],[-3,-118],[-122,-32],[-43,-103],[-162,-158],[-42,-177],[66,-107],[278,-112],[66,-227],[36,78],[-34,121],[92,108],[-55,131],[11,202],[119,7],[118,-79],[54,-165],[85,123],[77,-230],[124,-99],[46,-143],[-121,-109],[-177,-1],[-130,-196],[126,133],[58,-167],[129,-18],[-154,-137],[-44,73],[-88,-65],[4,-118],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-23,-334],[-62,-194],[-74,-22],[-106,-146],[-11,-161],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-82,-22],[46,-86],[-115,-216],[54,-54],[-97,-201],[28,-93],[-80,-85],[-109,90],[-20,323],[36,147],[33,402],[48,271],[38,635],[-8,175],[-157,213],[-150,571],[37,317],[82,177],[-55,296],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-25,127],[-43,-58],[147,-391],[-77,79],[-80,172],[-62,306],[-93,90],[-105,329],[14,300],[-18,164],[48,36],[-128,105],[-185,420],[-362,159],[-171,-116],[-175,-190],[-149,-57],[201,173],[-170,128],[-64,98],[149,189],[-116,-19],[-88,70],[101,52],[78,-26],[-126,159],[267,142],[120,-43],[241,-26],[197,-72],[232,91],[67,-58],[85,22],[244,-84],[11,-41],[204,64],[51,-45],[268,3],[-50,116],[35,106],[130,-140]],[[1829,9393],[86,-39],[157,13],[26,-97],[97,-55],[-40,-74],[-99,25],[-204,-37],[-169,174],[146,90]],[[2595,9395],[118,34],[44,-97],[81,40],[251,-128],[-1,-104],[194,-107],[-58,-108],[-78,80],[48,-214],[-105,62],[-3,-81],[-165,135],[61,150],[-176,166],[-65,-25],[-205,39],[-42,105],[101,53]],[[2212,9435],[83,-5],[-27,-143],[-115,71],[59,77]],[[2411,9373],[-36,78],[111,-16],[-75,-62]],[[1654,9294],[-152,27],[28,139],[204,-6],[57,-41],[-137,-119]],[[9029,9534],[-170,-55],[-40,77],[210,-22]],[[2264,9600],[9,-99],[-122,77],[113,22]],[[1994,9570],[53,-69],[-164,-33],[11,43],[-164,3],[64,72],[176,-58],[24,42]],[[6598,9255],[-165,43],[112,208],[154,67],[194,40],[0,-41],[-183,-56],[-171,-166],[59,-95]],[[2370,9622],[152,-86],[224,6],[-23,-73],[-291,23],[-62,130]],[[1772,9654],[-4,-45],[-181,-44],[185,89]],[[0,9154],[0,-230],[9963,-25],[19,-90],[-159,-76],[-93,-102],[-39,39],[-149,-40],[-40,-289],[-148,-221],[-37,251],[81,154],[147,178],[23,81],[-121,-115],[-23,71],[-141,-116],[-334,-42],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-6],[-132,-203],[53,-171],[-10,-98],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[77,-186],[5,-107],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-80,-153],[90,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[118,-294],[4,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-184,-322],[-13,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[62,5],[57,112],[104,-216],[-56,-187],[-253,-291],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-66,37],[132,-581],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-111,-232],[-67,-67],[-172,-51],[-122,445],[-26,287],[-73,313],[55,267],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-144,430],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[115,-60],[107,-115],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-231],[32,-87],[-167,-34],[34,-130],[-66,-79],[-59,281],[-129,193],[-64,-57],[119,-210],[-40,-22],[-182,248],[-65,-71],[-95,-3],[-146,-369],[-90,-42],[-98,53],[-13,355],[39,42],[169,-19],[19,149],[-94,154],[83,-2],[151,171],[24,85],[114,53],[-7,178],[66,-179],[89,-14],[198,83],[58,230],[129,16],[2,59],[-144,-37],[-51,159],[121,144],[-89,35],[-121,-171],[26,-154],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[117,191],[123,116],[250,79],[51,-58],[286,-130],[-53,-111],[-124,44],[28,-135],[266,134],[-30,105],[78,-18],[3,-92],[205,126],[141,2],[48,56],[240,-71],[-69,139],[90,115],[104,-266],[-67,-121],[105,83],[-54,213],[182,50],[24,76],[175,17],[10,68],[168,53],[209,23],[34,49],[253,-33],[78,-80],[-125,-66],[383,-70],[2,44],[148,-40],[75,-129],[27,60],[211,-20],[17,78],[251,-37],[96,-78],[168,1],[54,-82],[264,38],[226,-40],[-9960,-25]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,38],[-52,103],[-125,-141],[68,-191]],[[7918,9692],[-157,-23],[51,76],[106,-53]],[[5506,9772],[-31,-167],[-164,119],[54,66],[141,-18]],[[5706,9813],[14,-52],[-163,3],[-75,43],[224,6]],[[7775,9725],[-184,31],[-59,53],[132,52],[118,-85],[-7,-51]],[[2583,9770],[-56,-80],[-107,4],[-107,104],[120,64],[150,-92]],[[3097,9968],[183,-43],[-258,-147],[-159,-28],[42,-46],[-143,-135],[-248,17],[122,165],[-180,147],[341,71],[300,-1]],[[4247,9992],[174,-46],[-308,-30],[243,-61],[206,44],[98,-36],[-153,-66],[-55,-80],[34,-101],[-25,-155],[-116,-57],[34,-183],[-150,-96],[-112,-20],[-67,-83],[-156,-70],[-84,-160],[-15,-149],[-136,44],[-94,159],[-64,205],[86,158],[-72,-37],[-66,137],[31,53],[-108,169],[-74,34],[-201,-3],[-129,137],[206,55],[-64,42],[215,110],[376,34],[324,59],[222,-7]]]};d.append("path").datum(a.feature(u,u.objects.land)).attr("class","land").attr("d",s);var f=0;setInterval(function(){f+=.5,r.rotate([l(f),0]),d.selectAll("path").attr("d",s)},20)})},e.exports=u},function(e,t,n){"use strict";var i=n(0),o=n(5),a=n(3),r={},s=null,l=0,c=document.title,d=function(e){document.title=(e?"("+e+") ":"")+c},u=function(e){null!==s&&e!==l&&(s.text(a.commaFormat(e)),0===l?s.removeClass("hide"):0===e&&s.addClass("hide"),l<e&&(s.parents("#header").removeClass("short"),s.addClass("wiggle-more")),d(e),l=e)};r.dropdownHandler=function(e){var t=e.find(".cmp-deferred"),n=t.parent(),i=t.clone(),a=!1;e.on("open",function(){a?(n.html(t),o.deferred.load(i)):(o.deferred.load(t),a=!0),s.length&&s.removeClass("wiggle-more")}),e.find(".dropdown-menu").on("click",function(e){e.stopPropagation()})},r.toggleDismissed=function(e){e.on("click",function(t){t.preventDefault();var n=e.data();e.addClass("dim"),o(n.pageKey).get(e.attr("href"),{component_key:n.componentKey})})},r.unreadCount=function(e){s=e,l=parseInt(s.text().replace(/,/g,""),10),d(l);var t=s.data(),n=0;!function e(){var o,a;i.get(t.url).then(function(e){"num_notifications"in e?u(e.num_notifications):"logged_out"in e&&clearTimeout(o)}),o=setTimeout(e,(a=n,100*Math.pow(a,2)+500*a+5e3)),n++}()},r.updateCount=function(e){u(e.data("notif-count")),i(".dropdown.hdr-settings").trigger("update")},window.vkey=window.vkey||{},window.vkey.notifications_page=function(e,t){e.new_html=e.new_html.replace(/&amp;(.*?);/g,"&$1;"),window.vkey.handle(e,t).mathjax_update()},e.exports=r},function(e,t,n){"use strict";var i=n(0),o=n(1),a=(n(120),n(3)),r=(n(5),n(15)),s=n(43),l=n(57),c=n(9),d=n(17),u=n(22),f=n(14);n(48);var p=a.is_mobile?5:15,h={},m=window.vkey||{},v={topic:"sub_topic",sub_topic:"chapter",chapter:"recommended_concept_quiz"},g={},_=function(e,t,n,a){a=a||o.noop;var r=t+"-"+n;if(void 0!==e&&g["load_action_"+e]!==r){g["load_action_"+e]=r;var s={next_category_type:e,current_selected_category_id:t,previous_selected_category_id:n};i.post("/assessment/get_categorization_options/",s).done(function(t){g[e]=t,a()})}else a()},y=function(e,t,n,a){a=a||o.noop,void 0!==g[t]&&void 0!==g[t][n]?_(v[t],"",n,function(){var r=g[t][n],s=e.find("select"),l=e.find("div.dropdown");!function(e,t){var n=o.template(i("#custom_select_options_tmpl").text())({options:t}),a=e.find("ul.dropdown-menu"),r=o.template(i("#html_select_options_tmpl").text())({options:t}),s=e.find("select"),l=s.val();e.find(".dropdown-menu a").find("span").first().html("..."),a.html(n),s.html(r),c.CustomSelectbox(e),l&&setTimeout(function(){a.find('[data-opt-value="'+l+'"]').click()},50)}(e,r),s.off_on("change",function(){b(l,t,s.val())}),a(!0)}):a(!1)},b=function(e,t,n){var o=e.parent("div.field"),a=v[t],r=o.parent().find("div.field-"+a);n&&r.length>0&&y(r,a,n,function(e){e&&(!0===r.data("is-reloading")?r.data("is-reloading",!1):(o.slideUp(),r.find("a.back_link").show(),r.slideDown(400,function(){i(this).css("overflow","visible")})))})};h.CategorizationNavBack=function(e){var t=e.parents("div.field"),n=t.prev();e.on("click",function(){t.slideUp(),n.slideDown(400,function(){i(this).css("overflow","visible")})})},h.TopicSelector=function(){var e,t;return function(n){e=n.find("select"),t=n.data(),h.selectedTopic=null;var i=function(){h.selectedTopic=parseInt(e.val(),10),void 0!==t.filter_categories&&b(n,"topic",e.val())};e.off_on("change",i),void 0!==t.filter_categories&&_("sub_topic","","",i)}}(),h.LevelSelector=function(){var e;return function(t){e=t.data("level-data"),t.on("open",function(){var n=e[h.selectedTopic]||0;t.find(".dropdown-menu a").each(function(){var e=i(this);(e.data("opt-value")||0)>n?e.addClass("disabled"):e.removeClass("disabled")})})}}(),h.filterMenu=function(e){e.find(".trigger").on("click",function(){e.toggleClass("filtering")})};var w,k,C,x,q,T,S,j,P,D=function(e){((e=e||i.body).is(".nf-feed-item")?e:e.find(".nf-feed-item")).each(function(){var e=i(this);e.find(".staff-tools-toggle").on("click",function(t){t.preventDefault(),t.stopPropagation(),e.find(".staff-tools").toggle()}),e.find(".mini-profile").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=i(this).data("url");t&&(window.location.href=t)})})};h.datepicker=function(e){var t=!1,n={maxViewMode:0,minViewMode:"days",startView:0,clearBtn:window.location.search.search(/[\?|&]before_date=/)>=0,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}},i=function(t){var n=f.getParamsObject();null!==t?n.before_date=t.getTime()/1e3:n.before_date&&delete n.before_date,e.siblings(".dropdown-toggle").dropdown("toggle"),window.location=f.appendGetParams(window.location.pathname,n)};e.datepicker(o.extend({},n,e.data())),e.on("changeDate",function(e){t||i(e.date)}),e.find(".clear").on("click",function(e){t=!0,i(null)})},h.portalFeed=function(e){e.find("select").on("change",function(){if(e.addClass("loading"),"/community/home/"===window.location.pathname)i(this.form).submit();else{var t={};e.find("select").each(function(){t[this.name]=this.value});var n=o.template(e.data("url-format"))(t);window.history?(i(this.form).submit(),window.history.replaceState({},"",n)):window.location.href=n}}),e.find(".feed-section-choice").on("click",function(){var e=i(this).data();i(e.field).val(e.choice).trigger(i.Event("change"))}),e.find(".portal-feed-filters > button").on("click",function(){i(this).parents(".portal-feed-filters").toggleClass("open")})},h.problemsFeedPreviews=(S={},j=!1,P=!1,function(e){if((w=i.id("problem-preview-tooltip")).length){k=w.find(".content"),C=w.find(".dropdown-menu"),x=C.outerHeight(!0)-k.outerHeight()+parseInt(k.css("max-height"));var t=function(){T=setTimeout(function(){P||(w.css("left",-99999),j=!1)},300)};w.appendTo(i.body),e.find(".modal-feed-item").each(function(){var e=i(this),n=e.data("solvable-id"),o=e.data("preview-url"),a=function(e){j&&w.data("solvable-id")===n&&(k.html(e).mathjax_update(),u.checkOverflow(k),r())},r=function(t){t=t||{};var n=e.offset().top+e.outerHeight()/2,o=t.useActualHeight?C.outerHeight(!0):x,a=i.window.scrollTop(),r=a+i.window.height(),s=n-o,l=n+o,c="bottom";l>r&&(s>a||s<a&&l-r>a-s)&&(c="top"),w.toggleClass("dropdown","bottom"===c),w.toggleClass("dropup","top"===c),w.css({left:e.offset().left,top:n}),w.toggleClass("overflowing",k[0].scrollHeight>k[0].clientHeight)};e.on("mouseenter",function(){clearTimeout(T),q=setTimeout(function(){var e=n in S;w.toggleClass("loading",!e),k.html(e?S[n]:"").mathjax_update(),u.checkOverflow(k),r({useActualHeight:e}),j=!0,w.data("solvable-id",n),e||i.get(o).always(function(){w.removeClass("loading")}).then(function(e){S[n]=e,a(e)}).fail(function(){a("Sorry! Something went wrong.")})},280)}).on("mouseleave",function(){clearTimeout(q),t()})}),w.off_on("mouseenter.problemPreview",function(){P=!0}).off_on("mouseleave.problemPreview",function(){P=!1,t()})}}),h.portalFeedSwitcher=function(e){var t=e.find("#switcher-btns .btn"),n=i(".modal-feed-item.feed-section-row"),r=n.outerHeight()-2*parseInt(n.css("padding-top"),10),s=function(e){e.find(".latexprocessor-inline,.latexprocessor-block,.MathJax").each(function(){var e=i(this).parents(".td"),t=e.height();t>r&&e.css({transform:"scale("+r/t+")",transformOrigin:"0 0"})})};t.on("click",function(n){n.preventDefault();var o=i(this);if(!o.hasClass("active")){t.removeClass("active"),o.addClass("active"),e.find(".feed-section").removeClass("active");var r=e.find(o.data("target"));r.addClass("active"),a.is_mobile||s(r)}}),a.is_mobile||o.defer(function(){s(i(".feed-section:visible"))})},i(function(){var e=i.id("newsfeed-page","newsfeed-set-page"),t=i.id("newsfeed-editor"),n=i.id("profile"),a=i.id("wiki-main");t.length>0?l.tagging_events(t):(e.length>0||n.length>0||a.length>0)&&(s.init(),a.length||s.autopagination(),r.feeditem_modal(),i(".nf-feed-subscription").each(function(){var e=i(this);0===e.children().length&&e.remove()}),i(".latexprocessor-block").scale_svg(),D()),i(document).on("click",".nf-btn-action:not(.disabled, .btn-save)",function(e){e.preventDefault();var t=i(this),n=t.parents("form"),o=n.data()||{},a=o.count||0,r=t.hasClass("active");t.hasClass("loading")||"ignore"===t.data("action")||(a=r?a-1:a+1,n.data("count",a),t.html(o.tmpl.replace("[count]",a)),t.toggleClass("zero",0===a),t.toggleClass("active"),t.addClass("loading"),setTimeout(function(){n.submit()},1))}),i.body.on("click",".btn-follow",function(e){e.preventDefault();var t=i(this).parents("form"),n=t.find("[type=submit]"),a=t.find("[name=subscribed]"),r=n.data(),s=a.val(),l=n.html().trim(),c=r.toggleClass||"btn-accent",d=n.hasClass("btn-toggle");o.defer(function(){n.html(r.altText),n.data("alt-text",l),n.trigger("blur").toggleClass(c).toggleClass("btn-subscribed","yes"===s)}),setTimeout(function(){t.submit()},d?200:10)})});var O=function(e,t){var n=m.handle(e,t);i(".nf-next-container.loading").removeClass("loading").addClass("loaded"),n.find(".mini-profile").mini_profile(),n.mathjax_update(),r.feeditem_modal(n),s.reset_autopagination_point(),s.needs_additional_pagination(n),i(".latexprocessor-block").scale_svg(),u.checkOverflow(n),i.cmp("profile_savedsets_set_page").length&&d.setview.update_feed(n),(new Date).getTime(),i.window.trigger("scroll"),r.open_modal_is_set&&r.preloadFirstItem($newsfeed_modal_set_content),D(n)};m.newsfeed_newsfeed_container=O,m.newsfeed_firehose_container=O,m.newsfeed_explore_container=O,m.newsfeed_feed_container=O,m.profile_newsfeed_favorites_container=O,m.problems_started_problems_container=O,m.newsfeed_generic_tag_container=O,m.profile_savedsets_set_container=O,m.profile_savedsets_set_listing_container=O,m.profile_newsfeed_favorites=O,m.newsfeed_generic_tag=O,m.wiki_community_posts_container=O,m.topic_feed_container=O,m.topic_feed_page=O,m.problems_feed_container=O,m.discussions_feed_container=O,m.sets_feed_container=O,m.home_activity_container=O,m.community_problems_container=O,m.community_discussions_container=O,m.community_wikis_featured_container=O,m.groups_newsfeed_container=O,m.community_portal_lttr_listing_container=O,m.community_portal_featured_users_listing_container=O,m.community_portal_problems=m.community_portal_need_solution=m.community_portal_discussions=m.community_portal_problems_container=m.community_portal_need_solution_container=m.community_portal_discussions_container=function(e,t){O(e,t),i.body.hasClass("portal-page")&&i(".cmp_"+t+"_id").parents(".feed-section").find(".nf-feed-item-wrapper").slice(p).remove(),s.autopagination(!0),i.window.trigger("scroll")},m.profile_savedsets_set_page=function(e,t){var n=m.handle(e,t);r.feeditem_modal(n),d.setview.reset_container(),d.setview.update_feed(n),s.autopagination(),s.reset_autopagination_point(),s.needs_additional_pagination(n),i.window.trigger("scroll")};var I=function(e,t){var n=m.handle(e,t);n.find(".mini-profile").mini_profile(),n.mathjax_update(),r.feeditem_modal(n),i(".latexprocessor-block").scale_svg(),D(n.parent())};m.newsfeed_feeditem_challengerecommendation=I,m.problems_started_solvable_component=I,m.profile_savedsets_item_problem=I,m.profile_savedsets_setlisting_item_set=I,m.newsfeed_feeditem_saved_set=I,m.groups_feeditem_discussionpost=I,m.groups_feeditem_newsfeedproblemset=I,m.friends_sidebarleaderboard=function(e,t){m.handle(e,t),friends_leaderboard_events()},m.newsfeed_mark_reshare=function(e,t){var n=m.handle(e,t).parents(".cmp_reshare").first(),o=n.data("reshare-key");o&&i('.cmp_reshare[data-reshare-key="'+o+'"]').not(n).find("> div").each(function(){i(this).html(e.new_html)})},e.exports=h},function(e,t,n){"use strict";var i=c(n(0)),o=c(n(1)),a=c(n(8)),r=c(n(18)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(49)),l=n(55);function c(e){return e&&e.__esModule?e:{default:e}}var d={};function u(e){return(0,l.getOrientation)(e)}function f(e,t){return(0,l.repositionTooltip)({$target:e,$tooltip:t,topOffset:20,leftOffset:-3,offsetMethod:"offset"})}function p(e,t){(0,i.default)(".topic > div",t),t.off_on("mouseenter",function(){h(e)}),t.off_on("mouseleave",function(){m(e)}),t.hasClass("editable")&&t.find(".btn-edit").off_on("click",function(n){n.preventDefault(),t.toggleClass("editing");var i=t.hasClass("editing");_(e,t,{isEditing:i,wasEditing:!0})})}function h(e){clearTimeout(e.timeout)}function m(e){e.timeout=setTimeout(function(){var t=d[e.id];(!t||t&&!t.data.wasEditing)&&e.hide()},300)}function v(e,t){d[e].data=o.default.extend({},d[e].data,t)}function g(e,t){var n={element_id:"profile_card_"+e};t&&(n.field_name=t),a.default.track("ui",n)}function _(e,t,n){var a,s,l,c=t.find(".profile-content"),p=d[e.id]||null;p?(a=p.template,l=p.data,s=p.errorTemplate):(a=o.default.template(c.find("script").text()),l=c.data(),s=o.default.template(l.genericErrorMessage)),n&&(l=o.default.extend(l,n)),l=function(e){var t={};return["interests","skills","competitions"].forEach(function(n){var i=e[n];if(!o.default.has(i,"numOthers")){var a=i.length-e.listFieldDisplayLength;t[n]={items:i,numOthers:Math.max(a,0)}}}),o.default.extend({},e,t)}(l),d[e.id]={template:a,errorTemplate:s,data:l},c.html(a(l)),l.isEditing||r.default.loadForElement(c.find(".status-msg"),!0),l.isEditing?(function(e,t){t.find(".text-field-group").each(function(e){return function(){var t=(0,i.default)(this),n=t.find("[contenteditable]"),a=(t.find(".error"),t.data("url")),r=function(e,t){var n=e.text().trim(),i=e.data("default"),o=e.hasClass("default-value");o&&!t||0!==n.length&&n!==i?n.length&&o&&n!==i&&(e.removeClass("default-value"),e.css({minWidth:16})):(e.addClass("default-value"),t?e.text(i):e.text(""))},s=function(t){null===t&&(t=d[e.id].errorTemplate({isRemoving:!1}))};n.on("click focus",function(){o.default.defer(function(){document.execCommand("selectAll",!1,null)})}),n.on("blur",function(){var t={},l=!1;n.each(function(){var e=(0,i.default)(this),n=e.text().trim(),a=e.data();n===a.default.trim()&&(n=""),n!==a.current&&(l=!0,e.data("current",n),g("edited_field",a.name)),a.apiFieldName&&(t[a.apiFieldName]=n),t[a.name]=n,o.default.defer(function(){r(e,!0)})}),l&&i.default.post(a,t).then(function(n){n.success?(s(""),v(e.id,t)):s(n.value)}).fail(function(e){s(null)})}),n.on("input",function(e){r((0,i.default)(this),!1)}),n.on("focus",function(e){var t=(0,i.default)(this),n=t.data("default");t.text().trim()===n&&o.default.defer(function(){t.css({minWidth:t.width()}),t.text("")})}),n.on("keydown",function(e){13!==e.which&&27!==e.which||(e.preventDefault(),(0,i.default)(this).blur(),window.getSelection().removeAllRanges())}),n.each(function(){var e=(0,i.default)(this);e.data("current",e.text()),r(e,!0)})}}(e)),t.find(".list-field").each(function(e,t){return function(){var n=(0,i.default)(this),o=n.find("input"),a=n.data(),r=a.url,s=d[e.id].data[a.fieldName+"Typeahead"],l=!1,c=function(n){var i={};i[a.fieldName]=n,v(e.id,i),_(e,t)},u=function(t,i){var o=!0===i,a=o?".removal-error":".input-error";null===t&&(t=d[e.id].errorTemplate({isRemoving:o})),n.find(a).text(t),n.find("[disabled]").prop("disabled",!1)},f=function(){var e=o.val().trim();if(e.length&&!l){l=!0;var t={value:e};o.prop("disabled",!0),i.default.post(r,t).then(function(e){e.success?c(e.existing_values):u(e.value)}).fail(function(){u(null)}).always(function(){l=!1}),g("list_added_item",a.fieldName)}};n.find(".btn-remove").on("click",function(){var e=(0,i.default)(this),t={remove:e.data("id")};e.prop("disabled",!0),i.default.post(r,t).then(function(e){e.success?c(e.existing_values):u(e.value,!0)}).fail(function(){u(null,!0)}),g("list_removed_item",a.fieldName)}),o.typeahead({source:s,menu:'<ul class="typeahead dropdown-menu miniprofile"></ul>',matchWidth:!0}),o.on("ta_select",f),o.on("keydown",function(e){13!==e.which&&27!==e.which||setTimeout(f,200)})}}(e,t))}(e,t),l.trackedViewed||(g("edit_state_viewed"),l.trackedViewed=!0)):l.wasEditing&&(g("edit_state_closed"),l.trackedViewed=!1),t.removeClass("left right top bottom").addClass(u(e.$target)),t.css(f(e.$target,t))}var y=!1,b=function(e){var t,n;this.$target=(0,i.default)(e),this.id=this.$target.data("id")||null,this.loading=!1,this.hid_while_loading=!1,this.timeout=null,this.visible=!1,null!==this.id&&((t=this).$target.on("mouseenter",function(){n=setTimeout(function(){t.show()},200)}),t.$target.on("mouseleave",function(){clearTimeout(n),m(t)}))};b.prototype={show:function(){if(!this.visible){var e=this,t=i.default.body.children("#mini-profile-"+this.id),n={};(0,i.default)(".mini-profile").miniProfile("hide"),function(e){i.default.body.on("click.mp",function(t){e.visible&&0===(0,i.default)(t.target).parents(".mini-profile-full,.mini-profile-full-new").length&&e.hide()});var t=i.default.id("nf-feeditem-modal");t.length&&t.is(":visible")&&i.default.window.on("scroll.mp",o.default.throttle(function(t){e.visible&&e.hide()},16))}(this);var r,s,l=function(t){t.removeClass("left right top bottom").addClass(u(e.$target))};t.length>0&&this.$target.data("mini_profile_rendered",t),(n=this.$target.data()).mini_profile_rendered?(l(n.mini_profile_rendered),n.mini_profile_rendered.css(f(this.$target,n.mini_profile_rendered)).show(),this.visible=!0,d[this.id]&&v(this.id,{isEditing:!1,wasEditing:!1}),n.mini_profile_rendered.hasClass("mini-profile-full-new")&&(n.mini_profile_rendered.removeClass("editing"),_(this,n.mini_profile_rendered)),p(this,n.mini_profile_rendered)):(r=this,s=function(t){if(null!==t){i.default.body.append(t);var n=i.default.body.find("#mini-profile-"+e.id);l(n),n.css(f(e.$target,n)),e.$target.data("mini_profile_rendered",n),e.loading=!1,e.hid_while_loading?(e.hid_while_loading=!1,e.hide(),e.visible=!1):(e.visible=!0,n.hasClass("mini-profile-full-new")&&_(e,n),p(e,n)),a.default.set_analytics_events(n)}},y||(r.loading=!0,y=!0,i.default.get("/profile/mini_profile/",{identity:r.id,orientation:""}).done(function(e){y=!1,200==e.status?s(e.new_html):s(null)}).fail(function(){y=!1,s(null)})))}},hide:function(){if(this.loading)this.hid_while_loading=!0;else{h(this),i.default.body.off("click.mp"),i.default.window.off("scroll.mp"),this.visible=!1;var e=this.$target.data("mini_profile_rendered")||null;null!==e&&(e.find(".list-field input").typeahead("hide"),e.hide())}}},i.default.fn.miniProfile=i.default.fn.mini_profile=function(e){return(0,i.default)(this).filter(".mini-profile").each(function(){var t=(0,i.default)(this),n=t.data("mini-profile");if(void 0!==e)try{n[e]()}catch(e){}else n||(n=new b(this),t.data("mini-profile",n))})},s.run(function(){i.default.body.hasClass("miniprofile-enabled")?(0,i.default)(".mini-profile").miniProfile():i.default.fn.miniProfile=function(){}})},function(e,t,n){"use strict";var i=n(0),o={};i.fn.mailgun_validator=function(e){return this.each(function(){i(this).on("blur",function(){a.apply(this,[i(this).val(),e])})})};var a=function(e,t){if(e){var n=this,o=!1,a="";if(e.length>512)return a="address is too long ("+e.length+")",void(t&&t.error&&t.error.apply(n,[a]));t&&t.in_progress&&t.in_progress.apply(n),i.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:e,api_key:"pubkey-7bfc8ckzpnzm6x-a4d86olnmp5lbj5p2"},dataType:"jsonp",crossDomain:!0,success:function(e,i){o=!0,t&&t.success&&t.success.apply(n,[e])},error:function(e,i,r){o=!0,a="http error: "+i+" ("+e.status+")",t&&t.error&&t.error.apply(n,[a])}}),setTimeout(function(){a="timeout",o||t&&t.error&&t.error.apply(n,[a])},3e4)}};o.run_validator=a,i(function(){var e=i("#signup-form,#signup_form"),t=i("#email-validation"),n=e.find("#id_email");t.length>0&&n.length>0&&(n.mailgun_validator({success:function(e){var n=i(this);t.removeClass("active didyoumean invalid"),n.removeClass("email-invalid"),e.is_valid&&!e.did_you_mean||(n.addClass("email-invalid"),e.did_you_mean?(i("#didyoumean-txt").text(e.did_you_mean),t.data("didyoumean",e.did_you_mean).addClass("active didyoumean")):t.addClass("active invalid"))},error:function(e){Raven.captureMessage("Mailgun error: "+e)}}),t.find(".didyoumean-close").on("click",function(e){e.preventDefault(),i(this).hasClass("accept")&&n.val(t.data("didyoumean")),t.removeClass("active"),n.removeClass("email-invalid")}))}),e.exports=o},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=n(8);n(82);var s,l,c,d,u,f,p={onload:function(){var e=i.id("signin"),t=i.id("signup"),n=i("#signup-form,#signup_form");if(0!==e.length&&0!==t.length&&0!==n.length){var o=window.location.hash||!1;o&&i("input[name=next]").each(function(){var e=i(this);e.val(e.val()+o)});var s=function(e){a.is_mobile||e.find("input").filter("[type=email], [type=password], [type=text]").first().focus()};if(i(".goto-signup").on("click",function(n){n.preventDefault(),e.fadeOut(100,function(){t.fadeIn(100),s(t)})}),i(".goto-signin").on("click",function(n){n.preventDefault(),t.fadeOut(100,function(){e.fadeIn(100),s(e)})}),i(".goto-signup-form").on("click",function(e){e.preventDefault(),t.fadeOut(100,function(){n.fadeIn(100),s(n)})}),i(".goto-signup-main").on("click",function(e){e.preventDefault(),n.fadeOut(100,function(){t.fadeIn(100),s(t)})}),e.is(":visible")&&s(e),i(".validation-error").length>0&&r.track("ui",{action:"click",element_type:"form",element_id:"v4_signup_validation_error"}),n.length>0&&!n.hasClass(".fb")){var l=i(this).find("input[type=text], select"),c=i(this).find("#id_birthday_month, #id_birthday_day, #id_birthday_year");l.on("blur.validation",function(e){var t=i.trim(i(this).val()),n=i(this).parents(".control-group"),o=i(this).parents(".outer-field").find(".validation-error-msg");""===t?n.hasClass("error")||(n.addClass("error validation-error"),o.show()):n.hasClass("validation-error")&&(n.removeClass("error validation-error"),o.hide())}),c.off("blur.validation"),c.on("blur.bday_validation",function(e){var t=i(this).parents(".control-group"),n=i(this).parents(".outer-field").find(".validation-error-msg");0===parseInt(i(this).val(),10)?t.hasClass("validation-error")||(t.addClass("error validation-error"),n.show()):t.hasClass("validation-error")&&c.each(function(e,o){if(0===parseInt(i(this).val(),10))return!1;e===c.length-1&&t.hasClass("validation-error")&&(t.removeClass("error validation-error"),n.hide())})})}}}};p.googleAuth=(c=function(){window.location.href="/account/google/login/callback/"},d=function(e){e.success&&e.data&&e.data.redirect?"social-signup"==e.data.redirect?window.location=s.signupUrl:"nux"==e.data.redirect?window.location=s.nuxUrl:window.location="/":c()},l=!1,u=function(e){l||(l=!0,e.access_token?i.post(s.loginUrl,{access_token:e.access_token}).then(d).always(function(){l=!1}):(e.error&&-1===["immediate_failed","access_denied"].indexOf(e.error)&&c(),o.defer(function(){l=!1})))},f=function(){gapi.auth.signIn({callback:u,clientid:s.clientId,cookiepolicy:"single_host_origin",scope:"profile email",apppackagename:"org.brilliant.android"})},o.defer(function(){window.googleApisLoaded?i.body.trigger(i.Event("googleapis.ready")):window.onGoogleApisLoaded=function(){window.googleApisLoaded=!0,i.body.trigger(i.Event("googleapis.ready"))}}),function(e){s=e.data(),e.on("click",function(){window.googleApisLoaded?f():i.body.on("googleapis.ready",f)})}),p.loginBtnFallback=function(e){null===e[0].form&&e.one("click",function(){i.id(e.attr("form")).submit()})},e.exports=p},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r={},s=["points","streak"],l=["week","month","all"],c=null,d=null,u=null,f=null,p=function(){var e=d.children(":visible");if(e.length>0){var t=(f=f||parseInt(d.css("max-height"),10))<e.height();u.removeClass("expanded").toggleClass("expandable",t)}};r.bindEvents=function(e){c=e,d=i.id("lb-lists"),u=i.id("stat-leaderboard"),function(){var e=function(e,t){e.on("click",function(){var n=i(this);n.hasClass("active")||o.defer(function(){e.removeClass("active"),n.addClass("active");var i,o,a,r={};r[t]=n.data(t),o=(i=r).sort?s.join(" "):l.join(" "),a=i.sort?i.sort:i.time,o+=" in",a+=" in",c.css({height:c.outerHeight()}),d.removeClass(o),setTimeout(function(){d.addClass(a),p(),c.css({height:"auto"})},200)})})};e(i.id("lb-filter").find("button"),"sort"),e(i.id("lb-btn-group").find("button"),"time")}(),d.addClass("in"),a.is_mobile||(e.find(".mini-profile").mini_profile(),p()),i.id("lb-expand-btn").on("click",function(){u.toggleClass("expanded")})},e.exports=r},,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(264),o=n(0),a=n(1),r=n(3),s=n(7),l=n(5),c=n(21),d=n(17),u=n(31),f={},p={},h=null,m=null,v=null,g=function(e){return(e=e||{}).answer=e.answer.trim(),e.preventUpdate=!1,e.hasMultipleOptions||(e=function(e){0===e.answer.indexOf("+")&&(e.answer=e.answer.substring(1)),e.answer.length&&(e.answer=e.answer.replace(/^0+/,""),""===e.answer&&(e.answer="0"));var t=parseFloat(e.answer),n=e.answer.replace(/[\d-Ee\.]/g,"");return isNaN(t)||n.length>0?e.validationError=!0:null===e.answer.match(/[\.Ee]/)||e.isFloat?e.validationError=!1:e.validationError=!0,e.alreadyTriedThisAnswer=e.answersList.indexOf(e.answer.toString())>=0,e}(e)),e.validationError||e.alreadyTriedThisAnswer||(e=function(e){var t=m.update(e.answer+e.salt).digest("hex");return e.answerIsCorrect=t==e.hash,e.answerIsCorrect||(e.answersList.unshift(e.answer),e.preventUpdate=e.isFloat),e.triesLeft--,e.attemptNumber++,e}(e)),e.canStillAnswer=e.triesLeft>0&&!e.answerIsCorrect,e.isMobile=r.is_mobile,e.b2=r.b2,e.answersListWithAnd=function(){var t=e.answersList,n=e.answersList.length;return 1===n?t=t[0]:2===n?t=t.join(" and "):(t[n-1]="and "+t[n-1],t=t.join(",")),t},e};f.processAttemptData=g,f.init=function(e){var t=e.data(),n=p[t.solvable]||{},l=e.parents(".solv-details,.solv-details-loggedout"),_=l.find("#mcq-form,#text_answer_entry_form,.solv-form-logged-out");m=i.createHash("sha1"),t.answersList=t.answersList?t.answersList.toString():"";try{t.answersList=t.answersList.length?t.answersList.split(/,/g):[]}catch(e){t.answersList=[]}if(t.answersList=t.answersList.filter(function(e){return e.length>0}),t.answerIsCorrect=!1,t.$choices=t.hasMultipleOptions&&_.find("svg").length?_.find(".btn-mcq"):null,t.b2=r.b2,null===v||v>=t.numFreeSolutionsRemaining?v=t.numFreeSolutionsRemaining:t.numFreeSolutionsRemaining=v,t.exportOnly)return f.data=t,n.data=t,void(p[t.solvable]=n);n.template=n.template||null,null===n.template&&(n.template=a.template(e.text())),n.data=t,p[t.solvable]=n,_.on("submit",function(e){e.preventDefault(),a.defer(function(){if(!_.data("no_instant_response")){if(h=t.solvable,t.viewedSolution=_.data("viewed-solution"),t.viewedSolution)t.answer=null;else if("single_select"===t.problemType)t.answer=_.find("input[type=radio]:checked").val();else if("multi_select"===t.problemType){var e=[];_.find("input[type=checkbox]").each(function(t){o(this).is(":checked")&&e.push(t+1)}),t.answer=e.join("|")}else t.answer=_.find("#id_answer,.logged-out-answer").val();t.answer?(t.answer=t.answer||"",t.answer=t.answer.replace(/__replace_plus__/g,"+"),t=g(t)):t.canStillAnswer=!1;var i=l.parents(".solv-main");i.data("ir-verification",{canStillAnswer:t.canStillAnswer,answerIsCorrect:t.answerIsCorrect,attemptNumber:t.attemptNumber,triesLeft:t.triesLeft,answer:t.answer,preventUpdate:t.preventUpdate}),t.preventUpdate||(n.$originalSidebar=l.clone(),n.$solvable=i,a.defer(function(){var e=t;t.isMobile&&t.hasMultipleOptions&&!t.answer&&a.extend(e,{canStillAnswer:!0}),l.html(n.template(e)),function(e,t){if(!t.canStillAnswer){var n="endstate "+(t.answerIsCorrect?"correct":"incorrect");if(t.isPracticeSection)if(r.is_ios&&r.app_version.isGreaterThanOrEqualTo("0.9.1"))t.answerIsCorrect?window.location="answercorrect://":window.location="answerincorrect://";else if(r.is_android)try{Android.onPracticeSolvableAnswered(t.answerIsCorrect)}catch(e){}e.addClass(n)}var i=e.parents(".solv-main");if(t.hasMultipleOptions&&t.$choices&&e.find(".btn-mcq").each(function(e){var n=o(t.$choices[e]),i=o(this),a=i.find(".choice-text"),r=a.length?a:i;n.find("input").remove(),r.html(n.html())}),o(".btn-solution").not(".solution-btn-b2").addClass("disabled dim").attr("disabled","disabled"),e.find(".btn.disabled").off_on("click",function(e){e.preventDefault()}),c.practiceAnon(i),d.saveitem.tooltip(),d.saveitem.forms(),s.initGenericControllers(e),e.mathjax_update(),"single_select"==t.problemType&&e.find(".btn-mcq").each(function(){var e=o(this),n=e.data("choice");t.answer===n&&e.addClass(t.answerIsCorrect?"correct":"incorrect")}),t.isPracticeSection||t.isProblemOfTheDay){var a=i.parents(".prac-preload-wrapper");a.length&&u.practice(a,{reloaded:!0,instantResponse:!0})}}(l,t),i.trigger(o.Event("instantresponse.updated",t))})),n.data=t,p[t.solvable]=n}})})},f.timeout=function(){var e=p[h],t=e.$originalSidebar||null;null!==t&&(e.$solvable.find(".solv-details").replaceWith(t),t.find(".spinner").removeClass("active"),t.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled"),a.defer(function(){s.initGenericControllers(t),d.saveitem.forms(),d.saveitem.tooltip(),l.autosubmit.init(t)}))},e.exports=f},function(e,t,n){"use strict";var i=c(n(0)),o=c(n(1)),a=n(8),r=n(3),s=n(7),l=n(9);function c(e){return e&&e.__esModule?e:{default:e}}var d={streakModal:function(e){o.default.defer(function(){if(0===i.default.id("sales-card").length){if(r.isMobile)return e.show(),o.default.defer(function(){e.addClass("animated")}),void i.default.body.one("quizSolvablePositionChanged",function(){e.one("transitionend",function(){e.hide()}),e.removeClass("animated")});var t=e.html(),n=i.default.id("solv-main"),a=n.data("full-url")||"";a+=-1===a.indexOf("?")?"?":"&",t=t.replace(/__share_url__((\?)|(%3F))/g,a).replace(/&streak=|&amp;streak=/g,"&streak="),e.html(t),(0,s.initGenericControllers)(e),(0,l.modalController)(e),o.default.defer(function(){e.find(".streak-icon").addClass("animated")}),0===i.default.id("wiki-main").length&&e.find(".continue-btn").on("click",function(){n.find(".esr-problem")[0].click()})}})},topicsNav:function(e){var t=e.find(".toggle"),n=e.children("div"),o=!1;t.on("click",function(t){t.preventDefault(),o=!o,e.toggleClass("expanded",o)}),i.default.body.on("click",function(a){o&&a.target!==t[0]&&a.target!==n[0]&&0===(0,i.default)(a.target).parents().filter(n).length&&(e.removeClass("expanded"),o=!1)})},continuePracticing:function(e){var t=e.data(),n={action:"click",element_type:"button",continue_practicing_quiz_id:t.targetQuizId,continue_practicing_problems_left:t.problemsLeft,path:window.location.pathname,full_path:window.location.pathname+window.location.search},r=i.default.id("footer-notifs"),s=r.outerHeight(),l=e.outerHeight();r.css("height",s+l+20),e.find(".continue-practicing-button").on("click",function(){(0,a.track)("ui",o.default.extend({element_id:"continue_practicing_button"},n))}),e.find("form").find(".close").on("click",function(){e.hide(),r.css("height",s),(0,a.track)("ui",o.default.extend({element_id:"continue_practicing_dismissed"},n))})},reenablePremium:function(e){setTimeout(function(){e.addClass("in"),(0,a.track)("ui",{element_id:"autorenewcancel_show_tooltip"})},1e3);var t=function(){e.one("transitionend",e.remove),e.removeClass("in")};e.on("click",function(e){return e.stopPropagation()}),e.find(".btn-close").one("click",t),i.default.body.on("click",t)}};e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launcher=v,t.showLauncherIfConversation=function(e){var t=e.data();window.localStorage&&1===parseInt(window.localStorage[d(t)],10)&&v(e)},t.launcherReplacer=function(e){var t=o.default.id(r);t.length>0&&(e.on("click",function(e){e.preventDefault(),t.hasClass(l)||t.click()}),c?e.removeClass("hide"):o.default.body.on(s,function(){e.removeClass("hide")}))},t.loadAndShowOnClick=function(e){var t=e.data(),n=e.find(".front-chat-trigger");n.length||(n=e),n.on("click",function(e){e.preventDefault(),p(),m(t,function(){h(),f()})})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r="custom-front-chat-launcher",s="FrontChat.ready",l="active",c=!1,d=function(e){return"brilliant_front_chat__".concat(e.userHash,":").concat(e.conversationFlag)},u=function(e){var t=o.default.id(r).find(".unread-message-counter");t.text(e||""),t.toggle(e>0)},f=function(){u(0),window.FrontChat("show"),o.default.body.trigger("FrontChat.show")},p=function(){var e=o.default.id(r);o.default.body.one(s,function(){e.removeClass("hide")}).on("FrontChat.show",function(){e.addClass(l)}).on("FrontChat.hide",function(){e.removeClass(l)})},h=function(){var e=o.default.id(r);e.on("click",function(t){t.preventDefault(),e.hasClass(l)?(window.FrontChat("hide"),o.default.body.trigger("FrontChat.hide")):f()}),window.FrontChat("onUnreadChange",function(t){var n=t.unread_count;!e.is(":visible")&&n>0?f():u(n)})},m=function(e,t){var n=function(){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://chat-assets.frontapp.com/v1/chat.bundle.js",n.onload=function(){window.localStorage&&e.conversationFlag&&o.default.body.on("FrontChat.show",function(){window.localStorage[d(e)]="1"}),o.default.body.on("click","#".concat("front-chat-container"," .fc-2a549"),function(){o.default.body.trigger("FrontChat.hide")}),window.FrontChat("init",{useDefaultLauncher:!1});var n=o.default.id("footer-notifs");if(n.length>0&&!a.isMobile){var i=0;""!==n.html().trim()&&(i=n.outerHeight()),i>0&&((0,o.default)("style:last")[0].textContent+="#".concat("front-chat-container"," .fc-3laqu {")+"height: ".concat(580-i,"px !important;")+"margin-bottom: ".concat(i,"px !important;")+"}@media (max-height: 600px) and (min-width: 760px) {"+"#".concat("front-chat-container"," .fc-3laqu {")+"height: calc(100vh - 44px - ".concat(i,"px) !important;")+"}}")}"function"==typeof t&&t()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i);var r=setInterval(function(){var e=document.getElementById("front-chat-container");e&&e.children.length&&(clearInterval(r),o.default.body.trigger(s),c=!0)},250)};window.FrontChat?"function"==typeof t&&t():(window.FCSP=e.token,window.isLoaded?n():o.default.window.on("load",n)),o.default.body.addClass("front-chat-active")};function v(e){var t=e.data(),n=parseInt(t.delay,10);p();var i=function(){return m(t,h)};n?setTimeout(i,1e3*n):i()}},function(e,t,n){"use strict";var i,o=n(0),a=n(1),r=n(5),s={},l=(i=!1,function(e){!1===i&&(i=!0,e.find("#solvable-resend-verification-form").submit())}),c=function(e,t){e.find(".choose-choice").on("click",function(n){n.preventDefault();var i=t.filter(":checked"),a=e.find("input[type=submit]").hide();if(0!=i.length){o(this).hide();var r=i.val();e.addClass("out"),setTimeout(function(){switch(e.find(".options").hide(),e.find("."+r).show(),r){case"term_help":case"cant_read":break;case"clarification":case"dispute":case"rules_guidelines":a.show()}e.removeClass("out")},250)}})};s.modal=function(e){o.body.children(".modal-bg").find(".dispute-form-modal").parents(".modal-bg").remove();var t,n,i=o("#dispute-trigger:not(.active)"),s=e.find("input[type=radio]"),d=e.data(),u=function(){o.body.data("reloading-disputes",!0);var e=d.solvableUrl,t=d.pageKey;r("assessment").get(e,{page_key:t,version:VERSIONS[t]})};if(s.length||o("#cmp_quizzes_interstitial_pane_id:visible").length||e.off_on("hide",u),(n=(t=e).find("textarea")).on("keypress.shownote",function(){var e=o(this);a.defer(function(){e.val().length>0&&(t.find(".note").show(),n.off("keypress.shownote"))})}),i.on("click",function(t){t.preventDefault(),e.off_on("hide",function(){var t=s.filter("[checked=checked]");e.find(".options").is(":hidden")&&t.length&&["term_help","cant_read"].indexOf(t.val())>-1&&u()}),e.appendTo("body"),e.modal(),l(e),c(e,s)}),e.find("form").on("submit",function(){o.body.data("reloading-disputes",!0)}),!0===e.data("show-at-start")){var f=o("body > .modal-bg > #dispute_form_id");f.length&&(f.parents(".modal-bg").remove(),e=o("#dispute_form_id")),e.appendTo("body").modal()}},s.webview=function(e){var t=e.find("input[type=radio]");l(e),c(e,t)},e.exports=s},,function(e,t,n){"use strict";var i={},o={0:"python",1:"shell",2:"clike",3:"rust"},a={light:"clouds",dark:"tn80s"};function r(e){return e||"default"}i.init=function(e){return new Promise(function(t,i){n.e(1).then(function(){var e=n(378);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(i){Promise.all([n.e(1).then(function(){var e=n(384);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),n.e(1).then(function(){var e=n(383);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),n.e(1).then(function(){var e=n(382);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),n.e(1).then(function(){var e=n(381);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),n.e(1).then(function(){var e=n(380);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),n.e(1).then(function(){var e=n(379);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})]).then(function(){var n=e.$textarea.parents(".codex-textarea");e.$editor.html(""),n.find(".CodeMirror").remove(),e.$editor.append(n),n.removeClass("hide");var s=i.default.fromTextArea(e.$textarea[0],{lineNumbers:!0,indentUnit:4,mode:o[e.language],theme:a[e.initialTheme],keyMap:r(e.initialKeybinding)});t({cm:s,initialCode:e.initialCode,initialLanguage:e.initialLanguage})})})})},i.isUnchanged=function(e,t){var n=e.cm.getValue()===e.initialCode,i=parseInt(t,10)===e.initialLanguage;return n&&i},i.setKeybinding=function(e,t){e.cm.setOption("keyMap",r(t))},i.setReadOnly=function(e){e.cm.setOption("readOnly",!0)},i.onChange=function(e,t){e.cm.on("change",t)},i.getValue=function(e){return e.cm.getValue()},i.setValue=function(e,t){e.cm.setValue(t)},i.getCursor=function(e){return e.cm.getCursor()},i.setCursor=function(e,t){e.cm.setCursor(t)},i.focus=function(e){e.cm.focus()},i.setLanguage=function(e,t){e.cm.setOption("mode",o[t])},i.setTheme=function(e,t){e.cm.setOption("theme",a[t])},e.exports=i},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(7),r={deactivatedAccountModal:function(e){e.modal({show:!0})},explorationsCarousel:function(e){if(!(i.body.width()<=960)){var t=e.find(".content"),n=t.find(".page:first"),a=e.find(".markers > span"),r=0,s=!1,l=function(e,o){if(o||!(s||e<0||e>2||e===r||i.body.width<=960)){r=void 0===e?r:e;var l=n.outerWidth()+parseInt(n.css("margin-right"),10),c={scrollLeft:0===r?0:r*l};s=!0,t.animate(c,200,0,function(){a.removeClass("active"),a.filter(":eq("+r+")").addClass("active"),s=!1})}};a.on("click",function(){l(i(this).data("panel"))}),i.window.on("resize",o.debounce(function(){l(r,!0)},16))}},inlineSignupForm:function(e){var t=e.find(".initial-content"),n=t.find(".signup-btn"),r=e.find(".signup-btns"),s=i.id("inline-signup-email"),l=e.find(".inline-signup-form-container"),c=s.data(),d=l.data(),u=!1,f=!0===e.data("request-is-secure"),p=1e3*parseFloat(e.css("transition-duration")),h=function(e){e.css({display:"block",position:"absolute",left:"-99999px",top:"-99999px"});var t=e.outerHeight();return e.css({display:"",position:"",left:"",top:""}),t},m=t.outerHeight(),v=h(r);n.one("click",function(n){if(n.preventDefault(),!u&&f){var s=o.extend({page_key:d.pageKey},c);i.get(d.url,s).then(function(e){u=!0,l.html(e.actions.homepage_signup_form.new_html),a.initGenericControllers(l)})}var h=e.height();e.height(h),e.addClass("out"),e.height(h+(v-m)),setTimeout(function(){e.removeClass("out"),t.hide(),r.show(),e.height("")},p)}),s.on("click",function(t){if(u){t.preventDefault();var n=e.height(),i=h(l);e.height(n),e.addClass("out"),e.height(n+(i-v)),setTimeout(function(){e.removeClass("out"),r.hide(),l.show(),e.height("")},p)}})},quoteCarousel:function(e){var t=e.find("blockquote"),n=0,a=t.length,r=!1,s=function(){var n=0;t.not(".current").addClass("has-size"),t.each(function(){var e=i(this).outerHeight();e>n&&(n=e)}),e.height(n),t.filter(".has-size").removeClass("has-size")};e.on("transitionend",function(){r&&(r=!1,t.removeClass("current"),n=(n+1)%a,t.eq(n).addClass("current"),setTimeout(function(){e.removeClass("out")}))}),s(),i.window.on("resize",o.debounce(s,16)),setInterval(function(){r=!0,e.addClass("out")},15e3)},v4Signup:function(e){i.id("btn-email-signup").on("click",function(t){t.preventDefault();var n=e.find(".v4-form");e.animate({opacity:0},200,function(){e.animate({height:n.outerHeight()+parseInt(n.css("margin-top"),10)+30},200,function(){e.addClass("open").animate({opacity:1,height:"auto"},200)})})}),i.id("fb_canvas_signup").on("click",function(e){e.preventDefault(),window.top.location.replace("https://brilliant.org/account/facebook/login/")})}};e.exports=r},function(e,t,n){"use strict";var i=s(n(0)),o=s(n(27)),a=s(n(173)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(3));function s(e){return e&&e.__esModule?e:{default:e}}if(n(109),n(5),n(43),n(48),n(66),n(7),n(99),n(35),n(100),n(76),n(79),n(15),n(81),n(17),n(77),n(26),n(36),n(56),n(21),n(101),n(47),n(98),n(80),n(11),n(31),n(78),n(70),n(71),n(58),n(75),n(83),n(63),r.is_ios&&r.app_version.isGreaterThanOrEqualTo("0.9.1")){var l=function(){window.location="loadcomplete://"};window.isLoaded?l():i.default.window.on("load",l)}var c=(0,i.default)(document.body),d="desktop-browser";r.is_android?d="android-native":r.is_ios?d="ios-native":r.is_mobile&&(d="mobile-browser"),o.default.config("https://d612e82b08ca463f9c43f76ee96728a6@new-sentry.brilliant.org/7",{tags:{anonymous:!c.hasClass("active"),b2:c.hasClass("b2"),client:d},whitelistUrls:[/brilliant\.org/,/ds055uzetaobb\.cloudfront\.net/,/d18l82el6cdm1i\.cloudfront\.net/]}).install(),o.default.setUserContext({id:i.default.body.data("user")}),(0,i.default)(function(){(0,i.default)(".alert.persist").persist_alert_dismiss(),r.is_mobile&&(r.is_ios&&r.ios_version&&r.ios_version.isGreaterThanOrEqualTo("9.3.0")||a.default.attach(document.body))})},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=n(5),s=n(26),l={loadDeferredComponents:function(e){i.window.on("load",function(){i.window.off("scroll.deferred");var t,n,a,l=0,c=i(".cmp-deferred").toArray(),d=function(){if(c.length)for(;l<3;)l++,c[0]?r.deferred.load(i(c.shift())):c.shift()},u=(t=[],n=c.length,a=0,function(e){t.push(e),(t.length>=5||a+t.length>=n)&&(t.forEach(function(e,t){o.defer(function(){s.init(e())}),a++}),t=[])}),f=function(e,t){l--,d(),u(function(){return window.vkey.handle(e,t)})};e.forEach(function(e){window.vkey[e]=f}),d()})},solutionDiscussions:function(e){s.init(),s.add_form(),a.is_android||l.loadDeferredComponents(["solutiondiscussions_publicsolvablesolutioncomments"])},disputeDiscussions:function(e){s.init(),s.add_form(),a.is_android||l.loadDeferredComponents(["disputediscussions_publicsolvabledisputelist"])},editProblem:function(e){setTimeout(function(){var e=i.cmp("assessment_webview_edit_problem");i.id("question-text-edit").click(),e.addClass("in"),window.vkey.assessment_webview_edit_problem=function(t,n){-1!==t.new_html.indexOf("webview_solvable_saved")?(e.hide(),window.location="problem://saved"):window.vkey.handle(t,n)}},100)},savedSets:function(e){window.Sets={};var t=n(17);function i(){t.saveitem.tooltip(),t.saveitem.forms(!0)}i(),window.vkey.assessment_add_solvable_to_saved_set=function(e,t){window.vkey.handle(e,t),i()}}};e.exports=l},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(5),r=n(7),s=(n(18),n(9)),l=n(14),c=n(15);n(68),n(36);var d,u={},f=window.vkey||{},p=null,h={};u.justAddedViaModal="";var m,v,g,_,y,b,w,k=null,C=null,x="mcq";function q(e){setTimeout(function(){"mcq"===x?(e.find("input[type=text]").removeClass("correct").attr("placeholder",k),e.find("input[type=text]:first").addClass("correct").attr("placeholder",C)):(e.find("input[type=text]").removeClass("correct").attr("placeholder",k),e.find("input:checked").each(function(){i(this).parents(".mcq-field").find("input[type=text]").addClass("correct").attr("placeholder",C)}))})}u.clickHandler=function(e){var t=e.data(),n=null;e.on("click",function(e){if(!e.metaKey){if(n=h[t.target]||i.cmp(t.target),h[t.target]=n,!n.data("modal-loaded")){if(!n.find(".cmp-deferred").length)return!0;n.data("modal-loaded",!0)}e.preventDefault(),function(e,t){var n=e.find(".cmp-deferred"),a=(t.post_to_set_name||"<none>")+"|"+(t.clone_from_problem||"<none>")+"|"+(t.pre_filled_skill||"<none>")+"|"+(t.pre_filled_topic||"<none>")+"|"+(t.wiki||"<none>");if(n.length?(n.appendTo(i.body),e.data("orig-deferred",n)):n=e.data("orig-deferred"),e.data("last-update")!==a){n=n.clone(),e.empty().append(n);var r=o.pick(t,"group","post_to_set_name","clone_from_problem","pre_filled_skill","pre_filled_topic","wiki");if(o.keys(r).length){var s=n.data("cmp_url"),c=o.extend({},r,{is_modal:!0}),d=l.appendGetParams(s,c);n.data("cmp_url",d)}e.data("last-update",a)}}(n,t),n.data("modal")?n.modal():(n.on("shown",function(){d=t.target}),n.modal("show"))}})},u.redirectHandler=function(e,t){var n=i.id("set-direct-link"),o=n.val()||n.text()||null;if(null!==o&&(o=o.replace(window.location.origin,""),0===e.lastIndexOf(o,0))){var r="profile_savedsets_set_page",s=h[d];return s.modal("hide"),s.data("last-update","<reset>"),u.justAddedViaModal=e.replace(/[\?|&]just_created=true/,""),void a(r).get(o,{component_key:r})}window.location=e},u.form=function(e){var t=e.find("#type-select"),n=(e.find("#id_page_key").val(),e.find("#numerical-answer-field")),r=n.find("input"),l=e.find(".field-difficulty_level,.field-level"),c=e.find(".fields");p=e;var d=function(){var t="";e.find("[type=file]").each(function(){t+=i(this).val()}),t.length?e.submit():a("").form(e[0])};e.find("textarea").autosize().each(function(){var e=i(this),t=e.is("#id_summary");e.wikiLinks(t)}),e.find("#btn-preview-post").on("click",function(t){t.preventDefault(),e.addClass("loading"),d()}),e.find("#btn-edit").on("click",function(t){t.preventDefault(),e.removeClass("previewing"),i(".publish-list, .publish-wiki-container").removeClass("hide"),e.find("textarea").trigger("autosize.resize"),o.defer(function(){s.Anchors.scrollToTarget(i(".publish-wiki-form"))})}),e.find("#formatting-btn").on("click",function(e){e.preventDefault();var t=i("#formatting-guide");t.fadeToggle(100,function(){t.is(":visible")&&i("body,html").delay(100).animate({scrollTop:t.offset().top-i("#header").height()},200)})}),e.find("#btn-confirm").on("click",function(t){t.preventDefault(),i("#preview-post-field,#preview-solvable-field,#preview-wiki-field").val(""),e.addClass("loading"),i(this).addClass("dim"),d()});var f=function(){if(i.id("nf-answer-field").hasClass("number")){var e=r.val();/[^\-\d|\.|e|E]/.test(e)?n.removeClass("usage").addClass("invalid"):/\.|e|E/.test(e)?n.removeClass("invalid").addClass("usage"):n.removeClass("invalid usage"),l.toggleClass("disabled",0===e.length)}};r.on("keyup change",f),r.length&&l.toggleClass("disabled",0===r.val().length);var h=function(e){switch(x=e.val(),t.find(".active").removeClass("active"),e.parents("label").addClass("active"),i("#nf-answer-field").removeClass("number mcq multi_select").addClass(x),x){case"mcq":case"multi_select":q(c),u.variableNumChoices.checkForBlankFields();break;case"number":var n=parseFloat(i.id("id_mcq_answer_1").val());isNaN(n)||i.id("id_number_answer").val(n),f()}};t.find("input").on("change",function(e){h(i(this))});var m=t.find("input:checked");0===m.length?t.find("input").first().prop("checked","checked"):h(m)},u.variableNumChoices=(v=4,g=null,_=[],y=null,b=!1,w=null,(m={}).checkForBlankFields=function(){if(g&&i.id("nf-answer-field").hasClass("mcq")){var e=g.filter(function(e){return null!==e&&e.length>0});w.toggleClass("disabled",0===e.length)}},m.controller=function(e){var t=e.find(".add-choice"),n=e.find(".fields"),a=o.template(e.find(".field-template").text()),s=e.parents("form").find("#id_num_mcq_answers"),l=e.data();k=l.dummyText,C=l.correctText,w=e.parents("form").find(".field-difficulty_level,.field-level"),g=l.choices.split("###").map(function(e){return"null"===e?null:e}),_=l.multiSelectSelected.split("###").map(function(e){return"true"===e}),(y=l.messages)&&(y=y.split("###")),v=parseInt(s.val(),10)||v;var c=function o(){var l="";g.forEach(function(t,i){t="null"===t?null:t;var o="";y&&y[i]&&"null"!==y[i]&&(o=y[i]),null===t&&i<v?g[i]="":null!==t&&0===t.length&&i>=v&&(g[i]=null);var r=n.children("#mcq-choice-"+(i+1)).find(".errorlist"),s=null===g[i];l+=a({fieldNumber:i+1,value:t,message:o,tabindex:i+2,hidden:s,error:r.length&&!s?r[0].outerHTML:"",passive:b,deletable:v>2,multiSelectSelected:_[i],user:e.data("user")})}),n.html(l),t.toggleClass("hide",8===v),r.initGenericControllers(n,{callback:function(){if(b)n.find("input").each(function(e){i(this).trigger("autosave.save")});else{n.find("input[type=text]").each(function(e){var t=i(this).val();g[e]=0===t.length&&e>3?null:t});for(var e=null,t=g.length-1;t>=0;t--)if(null!==g[t]&&g[t].length){e=t;break}b=!0,null!==e&&e!=v-1&&(v=0===e?2:e+1,s.val(v),o()),m.checkForBlankFields()}}}),n.find(".delete").on("click",function(e){e.preventDefault();var t=i(this);if(!t.hasClass("disabled")){var n=t.parents(".mcq-field").index();g.splice(n,1),g.push(null),_.splice(n,1),_.push(!1),v--,s.val(v),o()}}),n.find("input[type=text]").on("keyup change input",function(){var e=i(this);g[e.parents(".mcq-field").index()]=e.val(),m.checkForBlankFields()}),n.find("input[type=checkbox]").on("change",function(){var e=i(this).parents(".mcq-field");_[e.index()]=this.checked,e.find("input[type=text]").toggleClass("correct",this.checked).attr("placeholder",this.checked?C:k)}),q(n)};t.on("click",function(e){e.preventDefault(),v++,s.val(v),c()}),c(),m.checkForBlankFields()},m),u.guidelines=function(e){e.find(".btn-guidelines").on("click",function(e){e.preventDefault(),p.toggleClass("guidelines"),o.defer(function(){p.toggleClass("in")})})},u.problemContribModal=function(e){var t=e.data("modal-classes");e.find(".btn-contrib").on("click.contribmodal",function(e){e.preventDefault();var n=i(this),o=n.data();i.get(o.modalUrl).then(function(e){i.create("div").html(e).addClass(t).modal().find(".btn-continue").on("click",function(){window.location=n.attr("href")})}).fail(function(){window.location=n.attr("href")})})},u.notesExamples=function(e){c.feeditem_modal(e.parent()),e.find(".modal-target").each(c.modal_events)},u.progressiveFields=function(e){var t=e.data("fields").split(",").map(function(t){return e.find(t)}).filter(function(e){return e.length>0}),n=function(){for(var e=0,n=!1;e<t.length;e++)t[e].parents(".field").toggleClass("disabled",n),n=n||""===t[e].val().trim()};o.defer(function(){t.forEach(function(e,t){e.on("change",n),e.siblings("input").on("focus",function(){e.parents(".field").hasClass("disabled")&&i(this).blur()})})}),n()},u.filterWikis=function(e){var t=e.find(".btn-filter"),n=e.find(".see-more-btn");t.on("click",function(n){n.preventDefault();var o=i(this),a=o.data("value");e.removeClass("needs-writers needs-feedback needs-examples").addClass(a),t.removeClass("active"),o.addClass("active")}),n.on("click",function(){i(this).parents(".publish-wiki-list").addClass("expanded")})};var T=function(e,t){f.handle(e,t).mathjax_update(),h[t]&&h[t].find("form").data("redirect-handler","util/creation_modal:redirectHandler"),i(".publish-list, .publish-wiki-container").addClass("hide")};f.newsfeed_create_post=T,f.newsfeed_create_solvable=T,f.newsfeed_create_wiki=T,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){window.alert("We encountered an error while running your code. Please try again."),(0,o.default)(".btn[disabled]").prop("disabled",!1)}function n(e){var n=(0,o.default)("#cmp_codex_page_id");e.actions?(n.html(e.actions.codex_page.new_html),(0,o.default)(window).trigger(o.default.Event("ajax.success"))):t()}var i=document.querySelector(".webview-visualization,.webview-codex").dataset.baseUrl,a=function(e){return"".concat(i).concat(e,"_native/")};return{get:function(i,r){var s=r;s.page_key=e,s.native_component=!0,o.default.get(a(i),s).fail(t).then(n)},form:function(e,i){var r=(0,o.default)(e),s=i;r.find("input,textarea,select").each(function(){var e=(0,o.default)(this),t=e.prop("name");t&&(s[t]=e.val())}),s.native_component=!0,r.find(".btn").prop("disabled",!0),o.default.post(a(s.url),s).fail(t).then(n)}}};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},function(module,exports,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=__webpack_require__(0),_=__webpack_require__(1),cursor=__webpack_require__(33),errorModal=__webpack_require__(11),qq={},id,div;qq.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n++)if(n in e&&e[n]===t)return n;return-1},qq.getUniqueId=(id=0,function(){return id++}),qq.attach=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},qq.detach=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n)},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)},qq.remove=function(e){e.parentNode.removeChild(e)},qq.contains=function(e,t){return e==t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)))},qq.toElement=(div=document.createElement("div"),function(e){div.innerHTML=e;var t=div.firstChild;return div.removeChild(t),t}),qq.css=function(e,t){$(e).css(t)},qq.hasClass=function(e,t){$(e).hasClass(t)},qq.addClass=function(e,t){$(e).addClass(t)},qq.removeClass=function(e,t){$(e).removeClass(t)},qq.setText=function(e,t){e.innerText=t,e.textContent=t},qq.children=function(e){for(var t=[],n=e.firstChild;n;)1==n.nodeType&&t.push(n),n=n.nextSibling;return t},qq.getByClass=function(e,t){if(e.querySelectorAll)return e.querySelectorAll("."+t);for(var n=[],i=e.getElementsByTagName("*"),o=i.length,a=0;a<o;a++)qq.hasClass(i[a],t)&&n.push(i[a]);return n},qq.obj2url=function(e,t,n){var i=[],o="&",a=function(e,n){var o=t?/\[]$/.test(t)?t:t+"["+n+"]":n;"undefined"!=o&&"undefined"!=n&&i.push("object"===_typeof(e)?qq.obj2url(e,o,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(o)+"="+encodeURIComponent(e()):encodeURIComponent(o)+"="+encodeURIComponent(e))};if(!n&&t)o=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e));else if("[object Array]"===Object.prototype.toString.call(e)&&void 0!==e)for(var r=0,s=e.length;r<s;++r)a(e[r],r);else if(void 0!==e&&null!==e&&"object"===_typeof(e))for(var l in e)e.hasOwnProperty(l)&&a(e[l],l);else i.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return i.join(o).replace(/^&/,"").replace(/%20/g,"+")},qq.FileUploaderBasic=function(e){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,filesLimit:0,onSubmit:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){},messages:{typeError:"{file} has an invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",filesLimitError:"No more than {filesLimit} files are allowed to be uploaded.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(e){alert(e)}},qq.extend(this._options,e),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(e){this._options.params=e},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(e){var t=this;return new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(e){t._onInputChange(e)}})},_createUploadHandler:function(){var e,t=this;return e=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",new qq[e]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(e,n,i,o){t._onProgress(e,n,i,o),t._options.onProgress(e,n,i,o)},onComplete:function(e,n,i){t._onComplete(e,n,i),t._options.onComplete(e,n,i)},onAllComplete:function(e){t._options.onAllComplete(e)},onCancel:function(e,n){t._onCancel(e,n),t._options.onCancel(e,n)}})},_preventLeaveInProgress:function(){var e=this;qq.attach(window,"beforeunload",function(t){if(e._filesInProgress)return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(e,t,n,i){},_onComplete:function(e,t,n){this._filesInProgress--,n.error&&this._options.showMessage(n.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(e){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(e.files):this._validateFile(e)&&this._uploadFile(e),this._button.reset()},_uploadFileList:function(e){var t,n=0;for(t=0;t<e.length;t++){if(!this._validateFile(e[t],n))return;n++}for(t=0;t<e.length;t++)this._uploadFile(e[t])},_uploadFile:function(e){var t=this._handler.add(e),n=this._handler.getName(t);!1!==this._options.onSubmit(t,n)&&(this._onSubmit(t,n),this._handler.upload(t,this._options.params))},_validateFile:function(e,t){var n,i,o,a;return e.value?n=e.value.replace(/.*(\/|\\)/,""):(n=null!=e.fileName?e.fileName:e.name,i=null!=e.fileSize?e.fileSize:e.size),this._isAllowedExtension(n)?0===i?(this._error("emptyError",n),!1):i&&this._options.sizeLimit&&i>this._options.sizeLimit?(this._error("sizeError",n),!1):i&&i<this._options.minSizeLimit?(this._error("minSizeError",n),!1):!(this._options.filesLimit&&(void 0==t&&(t=0),o=void 0==this._handler._completed_files?0:this._handler._completed_files.length,a=void 0==this._handler._queue?0:this._handler._queue.length,this._options.filesLimit<=o+a+t)&&(this._error("filesLimitError",n),1)):(this._error("typeError",n),!1)},_error:function(e,t){var n=this._options.messages[e];function i(e,t){n=n.replace(e,t)}var o=this._options.allowedExtensions;0!==o[o.length-1].indexOf("and ")&&(o[o.length-1]="and "+o[o.length-1]),i("{file}",this._formatFileName(t)),i("{extensions}",o.join(", ")),i("{sizeLimit}",this._formatSize(this._options.sizeLimit)),i("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),i("{filesLimit}",this._options.filesLimit),this._options.showMessage(n)},_formatFileName:function(e){return e.length>33&&(e=e.slice(0,19)+"..."+e.slice(-13)),e},_isAllowedExtension:function(e){var t=-1!==e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",n=this._options.allowedExtensions;if(!n.length)return!0;for(var i=0;i<n.length;i++)if(n[i].toLowerCase()==t)return!0;return!1},_formatSize:function(e){var t=-1;do{e/=1024,t++}while(e>99);return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][t]}},qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">'+e.btnTitle+'</div><span class="spinner hide"></span><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,e),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(e,t){var n=qq.getByClass(e,this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_setupDragDrop:function(){var e,t=this,n=this._find(this._element,"drop"),i=new qq.UploadDropZone({element:n,onEnter:function(e){qq.addClass(n,t._classes.dropActive),e.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(n,t._classes.dropActive)},onDrop:function(e){for(var i=qq.getByClass(document,t._classes.drop),o=0;o<i.length;o++)i[o].style.display="none";qq.removeClass(n,t._classes.dropActive),!t._options.multiple&&e.dataTransfer.files.length>1?alert("Multiple file uploads are disabled."):t._uploadFileList(e.dataTransfer.files)}});n.style.display="none",qq.attach(document,"dragenter",function(t){i._isValidFileDrag(t)&&(n.style.display="block",clearTimeout(e))}),qq.attach(document,"dragover",function(t){i._isValidFileDrag(t)&&clearTimeout(e)}),qq.attach(document,"dragleave",function(t){if(i._isValidFileDrag(t)){var o=document.elementFromPoint(t.clientX,t.clientY);o&&"HTML"!=o.nodeName||(n.style.display="none"),clearTimeout(e),t.target===document.body&&(e=setTimeout(function(){n.style.display="none"},200))}})},_onSubmit:function(e,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,i){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var o,a=this._getItemByFileId(e),r=this._find(a,"size");r.style.display="inline",o=n!=i?Math.round(n/i*100)+"% from "+this._formatSize(i):this._formatSize(i),qq.setText(r,o)},_onComplete:function(e,t,n){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this._getItemByFileId(e);qq.remove(this._find(i,"cancel")),qq.remove(this._find(i,"spinner")),n.success?qq.addClass(i,this._classes.success):qq.addClass(i,this._classes.fail)},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);n.qqFileId=e;var i=this._find(n,"file");qq.setText(i,this._formatFileName(t)),this._find(n,"size").style.display="none",this._listElement.appendChild(n)},_getItemByFileId:function(e){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==e)return t;t=t.nextSibling}},_bindCancelEvent:function(){var e=this,t=this._listElement;qq.attach(t,"click",function(t){var n=(t=t||window.event).target||t.srcElement;if(qq.hasClass(n,e._classes.cancel)){qq.preventDefault(t);var i=n.parentNode;e._handler.cancel(i.qqFileId),qq.remove(i)}})}}),qq.UploadDropZone=function(e){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(this._options,e),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var e=this;qq.attach(e._element,"dragover",function(t){if(e._isValidFileDrag(t)){var n=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"==n||"linkMove"==n?"move":"copy",t.stopPropagation(),t.preventDefault()}}),qq.attach(e._element,"dragenter",function(t){e._isValidFileDrag(t)&&e._options.onEnter(t)}),qq.attach(e._element,"dragleave",function(t){if(e._isValidFileDrag(t)){e._options.onLeave(t);var n=document.elementFromPoint(t.clientX,t.clientY);qq.contains(this,n)||e._options.onLeaveNotDescendants(t)}}),qq.attach(e._element,"drop",function(t){e._isValidFileDrag(t)&&(t.preventDefault(),e._options.onDrop(t))})},_isValidFileDrag:function(e){var t=e.dataTransfer,n=navigator.userAgent.indexOf("AppleWebKit")>-1;return t&&"none"!=t.effectAllowed&&(t.files||!n&&t.types.contains&&t.types.contains("Files"))}},qq.UploadButton=function(e){this._options={element:null,multiple:!1,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,e),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var e=document.createElement("input");this._options.multiple&&e.setAttribute("multiple","multiple"),e.setAttribute("type","file"),e.setAttribute("name",this._options.name),qq.css(e,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(e);var t=this;return qq.attach(e,"change",function(){t._options.onChange(e)}),qq.attach(e,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(e,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(e,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(e,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}},qq.UploadHandlerAbstract=function(e){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(e,t,n,i){},onComplete:function(e,t,n){},onAllComplete:function(e){},onCancel:function(e,t){}},qq.extend(this._options,e),this._queue=[],this._params=[],this._completed_files=[]},qq.UploadHandlerAbstract.prototype={log:function(e){this._options.debug&&window.console&&console.log("[uploader] "+e)},add:function(e){},upload:function(e,t){var n=this._queue.push(e),i={};qq.extend(i,t),this._params[e]=i,n<=this._options.maxConnections&&this._upload(e,this._params[e])},cancel:function(e){this._cancel(e),this._dequeue(e)},cancelAll:function(){for(var e=0;e<this._queue.length;e++)this._cancel(this._queue[e]);this._queue=[]},getName:function(e){},getSize:function(e){},getQueue:function(){return this._queue},_upload:function(e){},_cancel:function(e){},_dequeue:function(e){var t=qq.indexOf(this._queue,e);this._queue.splice(t,1);var n=this._options.maxConnections;if(this._queue.length>=n){var i=this._queue[n-1];this._upload(i,this._params[i])}0==this._queue.length&&this._onAllComplete()},_onAllComplete:function(){this._options.onAllComplete(this._completed_files)}},qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(e){e.setAttribute("name","qqfile");var t="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[t]=e,e.parentNode&&qq.remove(e),t},getName:function(e){return this._inputs[e].value.replace(/.*(\/|\\)/,"")},_cancel:function(e){this._options.onCancel(e,this.getName(e)),delete this._inputs[e];var t=document.getElementById(e);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(e,t){var n=this._inputs[e];if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");var i=this.getName(e),o=this._createIframe(e),a=this._createForm(o,t);a.appendChild(n);var r=this;return this._attachLoadEvent(o,function(){r.log("iframe loaded");var t=r._getIframeContentJSON(o);r._options.onComplete(e,i,t),r._dequeue(e),delete r._inputs[e],setTimeout(function(){qq.remove(o)},1)}),a.submit(),qq.remove(a),e},_attachLoadEvent:function(e,t){qq.attach(e,"load",function(){e.parentNode&&(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML||t())})},_getIframeContentJSON:function _getIframeContentJSON(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(e){response={}}return response},_createIframe:function(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_createForm:function(e,t){var n=null;if(t.csrf_token&&t.csrf_name){var i='<input type="hidden" name="'+t.csrf_name+'" value="'+t.csrf_token+'" />';n=qq.toElement('<form method="post" enctype="multipart/form-data">'+i+"</form>")}else n=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');delete t.csrf_token,delete t.csrf_name,delete t.csrf_xname;var o=qq.obj2url(t,this._options.action);return n.setAttribute("action",o),n.setAttribute("target",e.name),n.style.display="none",document.body.appendChild(n),n}}),qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");return e.type="file","multiple"in e&&"undefined"!=typeof File&&void 0!==(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(e){if(!(e instanceof File))throw new Error("Passed obj is not a File (in qq.UploadHandlerXhr)");return this._files.push(e)-1},getName:function(e){var t=this._files[e];return null!=t.fileName?t.fileName:t.name},getSize:function(e){var t=this._files[e];return null!=t.fileSize?t.fileSize:t.size},getLoaded:function(e){return this._loaded[e]||0},_upload:function(e,t){var n=this._files[e],i=this.getName(e);this._loaded[e]=0;var o=this._xhrs[e]=new XMLHttpRequest,a=this;o.upload.onprogress=function(t){t.lengthComputable&&(a._loaded[e]=t.loaded,a._options.onProgress(e,i,t.loaded,t.total))},o.onreadystatechange=function(){4==o.readyState&&a._onComplete(e,o)};var r=null,s=null;(t=t||{}).csrf_token&&t.csrf_xname&&(r=t.csrf_token,s=t.csrf_xname,delete t.csrf_token,delete t.csrf_xname,delete t.csrf_name),t.qqfile=i;var l=qq.obj2url(t,this._options.action);o.open("POST",l,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("X-File-Name",encodeURIComponent(i)),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r&&o.setRequestHeader(s,r),o.send(n)},_onComplete:function _onComplete(id,xhr){if(this._files[id]){var name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status||201==xhr.status){var response;this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(e){response={}}this._completed_files.push({file:this._files[id],response:response}),this._options.onComplete(id,name,response)}else this._completed_files.push({file:this._files[id],response:{}}),this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(e){this._options.onCancel(e,this.getName(e)),this._files[e]=null,this._xhrs[e]&&(this._xhrs[e].abort(),this._xhrs[e]=null)}}),qq.uploadController=function(e){var t=e.data(),n=0,i=$(t.target),o=["jpg","jpeg","png","gif"];t.allowSvg&&o.push("svg");var a=new qq.FileUploader({action:t.url,element:e[0],multiple:!0,allowedExtensions:o,sizeLimit:10485760,btnTitle:t.btnTitle,onComplete:function(e,t,o){if(o.success){var a=o.filename.match(/\.([^.]*)$/)[1].toLowerCase(),r="![]("+o.url+("svg"===a?"|width=300":"")+"){: .center}\n",s=$.window.scrollTop();cursor.insert(i,r,n),i.trigger("autosave.save"),i.trigger($.Event("ajaxupload.complete",{response:o})),!0===i.data("autosize")&&i.trigger("autosize.resize"),cursor.set(i,n+r.length),$.window.scrollTop(s);var l=i.attr("id");l.indexOf("__copy")&&i.siblings("#"+l.replace("__copy","")).val(i.val())}else{i.trigger($.Event("ajaxupload.message",{message:"Upload failed"}));try{errorModal.standardError()}catch(e){}}},onProgress:function(){e.find(".spinner").show()},onAllComplete:function(){e.find(".spinner").hide()},showMessage:function(e){i.trigger($.Event("ajaxupload.message",{message:e}));try{$.modal("Error",e)}catch(e){}},params:{csrf_token:t.token,csrf_name:"csrfmiddlewaretoken",csrf_xname:"X-CSRFToken"}});e.data("ajax-uploader",a);var r=function(){i.on("keydown",function(){n=cursor.get(i)}),i.on("focus",function(){_.defer(function(){n=cursor.get(i)})}),i.on("click",function(){_.defer(function(){n=cursor.get(i)})})};i.length?r():$(t.target.replace("__copy","")).on("mentions.ready",function(){i=$(t.target),r()})},module.exports=qq},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.controller=function(e){return(0,i.uploadController)(e)};var i=n(109)},function(e,t,n){"use strict";var i,o,a,r=n(0),s=n(1),l=n(24),c=n(3),d=n(9),u=(n(15),n(44)),f=n(5),p=n(22),h=n(45),m=n(8),v={},g=function(e){o||(o=r.id("outdated-wiki-modal")),s.defer(function(){e.find("textarea").on("input",s.once(function(){var t=e.data(),n=t.autosaveUser+"_"+t.autosaveKey,a=h.getEditHash(n);!function e(){r.get(t.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!=a&&(o.modal(),h.discardEdit(n),clearTimeout(i))}),i=setTimeout(e,3e4)}()}))}),o.find(".discard-btn").on("click",function(){window.location.reload()})},_=function(e){var t=e.parents("form"),n=t.find(".preview-button"),o=function(){t.hasClass("summary-text-editor")&&r(".wiki-main-column").removeClass("editing"),n.val(""),t.submit()};if(i){a||(a=r.id("save-outdated-wiki-modal")),clearTimeout(i);var s=e.data(),l=s.autosaveUser+"_"+s.autosaveKey,c=h.getEditHash(l);r.get(s.hashUrl).then(function(e){e.summary_hash&&e.summary_hash!=c?a.modal():o()}),a.find(".save-btn").on("click",o)}else o()},y=function(e){if(e.hasClass("stuck")){var t=e.parent();e.css({width:t.width(),left:t.offset().left-r.doc.scrollLeft(),margin:0})}else e.css({width:"",left:"",margin:""})};v.editSummary=function(e){var t;e.data("is-logged-out")?t=function(){r(".signup-modal").removeClass("hide")}:(t=function(){r(".wiki-main-column").addClass("editing");var e=r(".edit-summary-container").data();f(e.pageKey).get(e.url,{component_key:e.componentKey})},r(".summary").mathjax_update()),e.on("click",t)};var b=function(e,t){var n,i=[],o=!1;e.on("keydown.timecheck",function(){n=(new Date).getTime()}),e.on("input.timecheck",function(){if(n){var a=(new Date).getTime();if(i.length>=30&&i.shift(),i.push(a-n),!o&&i.length>=30){var r=(l=0,(s=i).forEach(function(e){l+=e}),l/s.length);r>=30&&(o=!0,e.off(".timecheck"),m.track("ui",{element_id:"input_timings_wiki",path:window.location.pathname,input_timing_avg:Math.round(r),input_timing_content_length:e.val().length,input_timing_form_type:t,input_timing_threshold:30}))}}var s,l})};v.editSummaryForm=function(e){var t=e.data(),n=t.isPreview,i=t.hasErrors,o=t.isUnchanged,a=r(".wiki-main-column"),s=r.id("summary_text_editor"),l=s.find(".button-container"),c=s.find("textarea"),d=r.id("summary_text_preview"),f=d.find(".button-container"),p=s.find(".preview-button"),h=s.find(".cancel-button"),m=d.find(".edit-button"),v=d.find(".save-button"),w=function(){c.autosize().wikiLinks(!0),u.stick(l,{bottom:l.offset().top+e.outerHeight(),handler:y}),b(c,"wiki_summary")};n||i||o?n?(r.window.scrollTop(0),d.mathjax_update(),setTimeout(function(){u.stick(f,{bottom:f.offset().top+e.outerHeight(),handler:y})},100),c.wikiLinks()):o&&a.removeClass("editing"):(w(),g(s)),p.on("click",function(){v.val("")}),h.on("click",function(){a.removeClass("editing")}),m.on("click",function(){e.addClass("editing"),r.window.scrollTop(0),w()}),v.on("click",function(){_(s)})},v.editSection=function(e){var t=e.data(),n=t.id,i=t.heading,o=r.id("wiki-sidebar"),a=r.id("section-"+n),l=a.find(".edit-section-container"),c=l.data(),d=r.id("edit-another-section-modal"),u=function(){if(a.length&&o.length){var e=o.offset().top+o.outerHeight();a.offset().top<e&&o.addClass("hide")}a.addClass("editing"),l.addClass("cmp_"+c.componentKey+"_id"),f(c.pageKey).get(c.url,{component_key:c.componentKey,heading:i})};e.on("click",function(){if(r(".cmp_wiki_canonical_edit_section_id").length){var e=r(".cmp_wiki_canonical_edit_section_id").find("#id_old_heading").val(),t=s.template(r.id("discard-changes-text").text());d.find(".modal-body").html(t({currentHeading:e,buttonHeading:i})),d.modal(),d.find(".discard-btn").on("click",function(){var e=r(".cmp_wiki_canonical_edit_section_id"),t=e.parent(".section"),n=t.prev(".skill-heading");e.removeClass("cmp_wiki_canonical_edit_section_id"),t.removeClass("editing"),n.removeClass("hide"),u()})}else u()})},v.editSectionForm=function(e){var t=e.data(),n=t.isPreview,i=t.isUnchanged,o=e.parents(".section"),a=o.prev(".skill-heading"),r=e.parent(".edit-section-container"),s=e.find(".section-text-editor"),l=e.children(".button-container"),c=s.find(".autosave-field"),d=s.find("textarea"),f=e.find(".section-preview"),p=f.find(".button-container"),h=e.find(".preview-button"),m=e.find(".cancel-button"),v=e.find(".edit-button"),w=e.find(".save-button"),k=function(){r.removeClass("cmp_wiki_canonical_edit_section_id"),o.removeClass("editing"),a.removeClass("hide")};n||i?n?(f.mathjax_update(),setTimeout(function(){u.stick(p,{bottom:p.offset().top+e.outerHeight(),handler:y})},100),d.wikiLinks()):i&&k():(o.addClass("editing"),a.addClass("hide"),d.autosize().wikiLinks(!0),u.stick(l,{bottom:l.offset().top+e.outerHeight(),handler:y}),b(d,"wiki_section"),g(c)),h.on("click",function(){w.val(""),e.removeClass("editing")}),m.on("click",function(){k()}),v.on("click",function(){e.addClass("editing"),d.autosize().wikiLinks(),u.stick(l,{bottom:l.offset().top+e.outerHeight(),handler:y})}),w.on("click",function(){_(c)})},v.expandOrCollapse=function(e){var t=e.find("header"),n=e.attr("id"),i=window.location.hash.substr(1);t.on("click",function(t){var n=e.next(".section");e.hasClass("collapsed")?(e.removeClass("collapsed"),n.removeClass("collapsed"),p.checkOverflow(n)):(e.addClass("collapsed"),n.addClass("collapsed"))}),c.is_mobile&&i===n&&(t.trigger("click"),s.delay(function(){d.Anchors.scrollToTarget(t)},100))},v.summary=function(e){var t=r(".skill-heading");c.is_mobile&&1==t.length&&s.defer(function(){t.find("header").trigger("click")});var n=function(){var e=window.location.hash;"citation-"==e.substr(1,9)&&r.id(e.substr(1)).addClass("highlight-citation")};n(),r(".citation-link").on("click",function(){s.defer(n)})},v.rateWiki=function(e){var t=e.find("li"),n=e.data("rating"),i=!1;n?t.find("input[value="+n+"]").parents("li").addClass("selected"):t.on("click",function(){var n=r(this);i||(i=!0,t.find("input:checked").prop("checked",!1),n.addClass("selected"),n.find("input").prop("checked",!0),e.submit())})},v.reportDisputedWiki=function(e){e.find("#submit").on("click",function(){e.submit(),r(".disputed-container").addClass("hide")})},v.confirmModeratorAction=function(e){e.on("click",function(){var t=e.data(),n=r("#"+t.logId);r("#wiki-logs-confirm").prop("checked")?r.confirm(t.confirm_msg,function(i){i&&(n.val(t.value),e.parents("form").submit())}):(n.val(t.value),e.parents("form").submit())})},v.logsPager=function(e){e.on("click",function(){var t=e.data("page");r("#pagination_page_id").val(t),e.parents("form").submit()})},v.showStaffActions=function(e){var t=r(".wiki-staff-container"),n=r(".wiki-overlay");e.on("click",function(e){e.stopPropagation(),t.show(),n.show()}),r("body").on("click",function(e){t.hide(),n.hide()}),t.on("click",function(e){e.stopPropagation()})},v.feedback=function(e){var t=r.id("wiki-feedback-trigger"),n=e.hasClass("active"),i=function(t,i){(n=!n)&&(!0!==i&&d.Anchors.scrollToTarget(e),e.find(".cmp-deferred").each(function(){f.deferred.load(r(this))})),e.toggleClass("active",n)};t.on("click",i),-1!==window.location.hash.indexOf("feedback")&&i(0,!0)},v.getCitationTime=function(e){var t=s.template(r.id("retrieval-time-content").text()),n=new Date;e.find(".retrieval-time").html(t({hour:("0"+n.getHours()).slice(-2),minute:("0"+n.getMinutes()).slice(-2),month:["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],day:n.getDate(),year:n.getFullYear()}))},v.wikiFooter=function(e){var t=r.id("footer").outerHeight();t&&s.defer(function(){var n=0;r.window.on("scroll",s.throttle(function(){var i=r.window.scrollTop()-(r.body.scrollHeight()-t-r.window.height());i>0?e.css({transform:"translate(0, -"+i+"px)"}):n>0&&e.css({transform:"translate(0, 0)"}),n=i},16))});var n=e.data("ax-id");n&&s.defer(function(){m.track("ui",{element_id:n,path:window.location.pathname,full_path:window.location.pathname+window.location.search})})},v.showSignUpModal=function(e){var t=l.get("numLoggedOutWikiViews"),n=r.id("signup-modal-wiki"),i=function(){n.modal("show");var e=n.find(".public-signup-left");e.length&&!e.data("already-opened")&&(e.data("already-opened",!0),e.attr("data-already-opened",!0),m.track("ui",{element_id:"viewed_signup_login_modal_tour_slide_1"}))};t?(t++,l.set("numLoggedOutWikiViews",t)):l.set("numLoggedOutWikiViews",1),t>=2&&s.delay(i,3e3),e.find(".signup-btn").on("click",function(e){e.preventDefault(),i()})},v.examplesContribModal=function(e){e.modal()},v.expandableSidebar=function(e){e.find(".header").on("click",function(){e.toggleClass("expanded")})},v.sidebarAfterSummary=function(e){var t=r.id("section-pre-header-section");e.insertAfter(t).removeClass("hide")},v.editLog=function(e){setInterval(function(){var t=[];e.find("#log_entry_list li.unreviewed").each(function(e){t.push(r(this).data("log_entry_id"))}),t.length>0&&r.ajax({url:"/wiki/__edit_logs/check_status/",type:"POST",data:{log_entry_ids:t},dataType:"json",success:function(e){var t,n;e.reviewed_ids.forEach(function(e,i){console.log("Reviewed:",e),t="/wiki/__edit_logs/"+e+"/",n={param_key:r('li[data-log_entry_id="'+e+'"]').data("param_key")},f("wiki_all_edit_log").get(t,n)})}})},1e3)},e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleFeatured=function(e){var t=e.parent().find("a");e.click(function(n){n.preventDefault(),e.hasClass(a)||(r=1,s=e.text().toLowerCase(),d({view:s,page:r}),t.removeClass(a),e.addClass(a))})},t.loadMore=function(e){e.toggle(!e.hasClass("hidden")),e.click(function(e){e.preventDefault(),d({view:s,page:r+=1})})};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a="active",r=1,s=(0,o.default)("a.active").text().toLowerCase(),l=(0,o.default)(".testimonials-reviews ul"),c=(0,o.default)(".testimonials-reviews a.load"),d=function(e){e.page_key="flatpage_testimonials",e.version=1,o.default.get("/testimonials/",e).done(function(t){var n=(0,o.default)(t.actions.flatpage_testimonials.new_html);1===e.page?l.html(n.find("li")):l.append(n.find("li")),c.toggle(0===n.filter("a.load.hidden").length)})}},function(e,t,n){"use strict";var i,o,a=n(0),r=n(5),s={},l=function(e){var t={component_key:e.componentKey};e.nextStep&&(t.step=e.nextStep),e.inviteCode&&(t.invite_code=e.inviteCode),r(e.pageKey).get(e.url,t)};s.nextStep=function(e){e.on("click",function(){var t=e.data();l(t)})},s.createClass=function(e){e.on("click",function(t){if(!t.metaKey){t.preventDefault();var n=e.data(),o=i||a.cmp(n.componentKey);i=o,l(n),o.modal("show"),o.on("click",".close-modal",function(){o.modal("hide")})}})},s.joinClass=function(e){e.on("click",function(t){if(!t.metaKey){t.preventDefault();var n=e.data(),i=o||a.cmp(n.componentKey);o=i,r(n.pageKey).get(n.url,{component_key:n.componentKey}),i.modal("show"),i.on("click",".close-modal",function(){i.modal("hide")}),i.on("click",".cancel",function(e){e.preventDefault(),i.modal("hide")})}})},s.seeMore=function(e){e.on("click",function(){e.parents("ul").find("li.hide").removeClass("hide"),e.addClass("hide")})},s.continueToNewClass=function(e){e.find("#id_title").on("keydown input",function(){e.find(".continue").removeClass("disabled")})},s.disableSetButtons=function(e){e.find(".export-btn").attr("disabled",!0),e.find(".set-share-container .btn").attr("disabled",!0)},e.exports=s},function(e,t,n){"use strict";var i=n(0),o=n(1),a=(n(7),n(3)),r=(n(5),n(74)),s=n(73),l=n(84),c=n(11),d={},u={ratingsGraph:r},f=null;function p(e){(f=f||i.id("stats-topic-links")).toggleClass("disabled",e)}d.graph=function(){var e=[];i.window.off_on("resize",o.debounce(function(){e.forEach(function(e){e()})},200));var t=i.id("stats-webview-wrapper").data("is-webview");return function(n){p(!0),function(e,t){var n=e.data("source")||null;i.get(n).then(t).fail(function(t){c.handler(t),e.find(".spinner").hide(),p(!1)})}(n,function(o){setTimeout(function(){var a=i.id("stat-empty"),r=i.id("stat-btn-filters");if(0===o.ratings_correct_incorrect_over_time.length)a.show(),r.hide(),n.find(".spinner").hide();else{var s=u[n.data("graph")];o.isWebview=t,a.hide(),r.show(),s.render(n,o,!0),e.push(function(){s.clean(n),s.render(n,o)})}p(!1)},200)})}}(),d.graphTopicSwitcher=function(e){var t=(f=f||i.id("stats-topic-links")).find("a"),n=i.id("stats-topic-name"),o=i.id("canvas"),r="current",s=e.data();function l(s,l){if(null===s&&a.is_mobile)return e.modal("show"),void i.window.trigger("resize");if(t.removeClass(r),t.filter('[data-topic-name="'+s.topicName+'"]').addClass(r),o.find(".cleanable").html(""),o.find(".spinner").show(),o.data("source",s.topicDataUrl),n.text(s.topicName),i.id("stat-empty").hide(),a.is_mobile&&e.modal("show"),d.graph(o),!0!==l)try{window.history.pushState(s,null,s.href)}catch(e){}}e.modal({show:!1}),t.on("click",function(e){e.preventDefault();var t=i(this);if(t.hasClass(r)||f.hasClass("disabled"))a.is_mobile&&l(null);else{var n=t.data();n.href=t.attr("href"),l(n)}}),a.is_mobile||i.window.on("popstate",function(e){var t=e.originalEvent.state;t&&t.href!==window.location.href?l(t,!0):t||l(s,!0)})},d.exampleGraphModal=function(e){var t=i.id("stats-topic-links").find("a"),n=i.id("stat-graph-container"),o=i.id("canvas");n.modal({show:!1}),t.on("click",function(e){e.preventDefault(),n.modal(),u[o.data("graph")].clean(o),d.exampleLineGraph(o)})},d.leaderboard=function(e){l.bindEvents(e)},d.exampleLineGraph=function(e){var t=u.ratingsGraph;t.render(e,s),i.window.off_on("resize",o.debounce(function(){t.clean(e),t.render(e,s)},200))},d.attemptPunchcard=function(e){var t=e.find(".clickable"),n=i.id("attempt-table"),r=i.id("attempt-table-content"),s=i.id("attempt-table-date"),l=n.find(".btn"),d=o.template(i.id("attempt-table-row").text()),u=null;a.is_mobile&&e.find(".calendar").scrollLeft(1500),0!==t.length?t.on("click",function(e){var o=i(this);if(!o.hasClass("active")){var f=o.data();null!==u&&u.abort(),t.removeClass("active"),o.addClass("active"),l.addClass("hide"),n.removeClass("hide"),r.html('<tr><td colspan="4"><span class="spinner"></span></td></tr>'),s.text(f.date),(u=i.ajax({url:f.details})).fail(c.handler).then(function(e){u=null,r.html(e.details.map(function(e){return e.r=a.commaFormat(e.r),d(e)}).join("")),l.removeClass("hide")})}}):i.id("stat-punchard-nodata").show()},d.seeMoreBtn=function(e){e.on("click",function(t){t.preventDefault(),e.parents(".stat-section").addClass("expanded")})},e.exports=d},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=n(8),s=n(14),l=n(9),c=n(5),d=n(7),u=n(31),f=n(21),p=n(35),h={recommendConceptQuiz:function(e){var t=e.data("recommended-quiz");i.id("concept-quiz-"+t).addClass("recommended")}},m=null;function v(){m.$trigger.off_on("click.quizendstate",function(){(0,m.originalController)(m.$container,m.$trigger)})}function g(e){return function(t){o.defer(function(){var n=i.id("endstate-trigger-btn");n.length&&(m={$trigger:n,$container:t,originalController:e}),null!==m&&m.$trigger.length&&(n.data("show-immediately")&&e(t,n),v())})}}var _,y=function(e,t){if(!e.length)return null;var n=o.template(e.data("tmpl")),i=(new Date).getTime(),a=setTimeout(function(){a=setInterval(function(){var o=10-Math.round(((new Date).getTime()-i)/1e3);e.text(n({s:o})),o<=0&&(clearInterval(a),t(e))},250)},500);return{stop:function(){clearInterval(a),clearTimeout(a)},reset:function(){e.text(n({s:10}))}}},b=function(e){var t=e.find(".content"),n=function(){t.scrollHeight()>t.outerHeight()&&t.addClass("scrollable")};t.find("img").on("load",n),n()};h.endstateModal=g(function(e){var t,n=(e=e.clone(!0)).data(),s=function(){"paywall"===n.nextAction?(e.addClass(a.supportsAnimation()?"flipped":"force-flipped"),i.get(n.nextUrl,{element_id:"clicked_b2_next_quiz",target_object_id:n.targetObjectId,target_object_type:"quiz",target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)})):window.location.href=n.nextUrl};(t=y(e.find(".countdown span"),s))&&(e.on("hide",function(){t.stop(),t.reset()}),e.find("a,button").on("click",t.stop)),e.find(".flip").on("click",s),e.on("show",function(){o.defer(function(){e.parent().addClass("b2-endstate-modal-backdrop"),b(e)})}),e.modal(),r.set_analytics_events(e)}),h.endstateTakeover=g(function(e){e.parents(".course-quiz-wrapper").addClass("show-quiz-endstate"),a.is_mobile?i.body.add(i.doc).scrollTop(0):p.twinklingStars(e.find(".endstate")),y(e.find(".countdown span"),function(){window.location.href=e.data("next-url")})}),h.endstateModalMarketing=g(function(e){var t=e.children().clone();t.on("show",function(){o.defer(function(){b(t)})}),t.modal()}),h.preemptiveWiki=(_=!1,function(e){if(!_){var t=e.data("ax-prefix"),n=i.id("quiz-wrapper").data("set-number"),o=function(e){return function(){r.track("ui",{action:"modal",element_type:"modal",element_id:t+"_"+e,path:window.location.pathname,full_path:window.location.pathname+window.location.search})}},a=e.find("a");a.attr("href",s.appendGetParam(a.attr("href"),"sn",n)),e.on("show",o("displayed")),e.on("hide",o("closed")),e.modal(),_=!0}}),h.editablePane=function(e){i(".pane-edit-trigger").on("click",function(){e.toggleClass("editing"),e.find("[name=preview]").val("true"),e.find("textarea").mentionsAndWikiLinks().autosize()})},h.potwSwitchWeek=function(e){var t=function(e){r.track("ui",{element_id:e,path:window.location.pathname,full_path:window.location.pathname+window.location.search})};a.is_mobile&&e.on("click",function(){t("potw_dropdown_open")}),e.on("change",function(){a.is_mobile&&t("potw_dropdown_choice"),e.prop("disabled","disabled").addClass("dim"),window.location.href=e.val()})},h.replaceContinueButton=function(e){null!==m&&(v(),e.find(".solv-done-btn, .btn-next").filter(":visible").replaceWith(m.$trigger.clone(!0)))},h.chapterIntroQuiz=function(e){var t=e.data(),n=i.id("chapter-intro-continue"),o=i.id("quiz-chapter-intro-markers").children("span"),r=1,p=o.length+2,h=!1,m=!1;l.crop();var v=function(e){return e>=3&&e<p},g=function(n){if(!(n<=0||h)){h=!0;var g,_,y,b="slide-"+r,w="slide-"+n;if(n>p)return g=e,_=i.id("quiz-wrapper-bg"),y=_.data(),g.one("transitionend",function(){g.find(".quiz-chapter-intro-panes").remove();var e=function(e){g.one("transitionend",e),g.addClass("done"),window.history.replaceState({},"",y.quizUrl),l.crop(!1)};if(a.userIsAuthenticated)e(function(){g.remove(),u.convertDummyPreloader(_.find("#prac-preload-wrapper"),y.id)});else{var t=_.find("[data-cmp-main]").data(),n=t.cmpKey,o=t.cmpAltKey;vkey[o]=function(){return window.location.href=y.quizUrl},vkey[n]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];vkey.handle.apply(vkey,n),f.practiceAnonWrapper(_),e(function(){return g.remove()})},_.find("[data-cmp-id]").each(function(e,t){var n=i(t),o=n.data();n.attr("id",o.cmpId),o.cmpUrl&&o.cmpKey&&c(y.pageKey).get(o.cmpUrl,{component_key:o.cmpKey})})}}),void g.addClass("out");e.one("transitionend",function(){var a=!1,l=!1,c=n-3,u=function(){v(r)&&!v(n)&&setTimeout(function(){i.id("interstitial-pane-continue-form").submit()})};if(n<3)b+=" show-quiz slide-end",u();else if(n>=3){if(w+=" show-quiz",n===p)w+=" slide-end",u(),l=!0===t.locked;else if(b+=" slide-end",v(n)){var f=i("#prac-markers-".concat(t.id," > *"));f.filter(".current").index()!==c&&(setTimeout(function(){return f.eq(c).click()}),a=!0)}o.removeClass("active"),o[c].classList.add("active")}e.removeClass(b).addClass(w);var g=function(){setTimeout(function(){e.one("transitionend",function(){h=!1}),e.removeClass("out")})};if(l)if(m)g();else{var _=i.id("course-intro-paywall"),y=s.getParamsObject(),k={page_key:_.data("cmp-page-key")};y.force_country&&y.forcepaytm&&(k.force_country=y.force_country,k.forcepaytm=y.forcepaytm);var C=function(){window.location.href=_.data("fallback")};i.get(_.data("url"),k).fail(C).then(function(e){try{_.append(e.actions.course_chapter_intro_paywall_component.new_html),d.initGenericControllers(_)}catch(e){return void C()}g(),m=!0})}else a?i.body.one("quizSolvablePositionChanged",g):g();r=n}),e.addClass("out")}};n.on("click",function(){g(r+1)}),t.allowNav&&(o.on("click",function(e){g(i(this).index()+3)}),l.keyboardNavigation({guard:function(){return!i.id("signup-modal-generic").is(":visible")},left:function(){g(r-1)},right:function(){r===p?t.locked||e.find("footer .btn:visible").click():g(r+1)}}))},h.courseQuizzesMenu=function(e){var t=e.parents(".course-quiz-sidebar"),n=e.find("#quizzes-menu"),r=function(){n.one("transitionend",function(){e.removeClass("show-menu"),t.removeClass("show-menu"),t.css({height:"auto"})}),a.is_mobile&&l.crop(!1),e.removeClass("in"),i.body.off("click.quizzesmenu")};e.find("#quizzes-menu-close").on("click",r),e.find("#quizzes-menu-trigger").on("click",function(){a.is_mobile&&l.crop(),e.addClass("show-menu"),t.addClass("show-menu"),o.defer(function(){e.addClass("in"),t.css({height:n.scrollHeight()})}),n.off_on("click.quizzesmenu",function(e){e.stopPropagation()}),o.defer(function(){i.body.one("click.quizzesmenu",r)})})},e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebar=function(e){var t=e.data("target"),n=e.data("hide-questions")||0===e.find(".discsol-post").length&&0===o.default.cmp("qanda_questionadd").length,i=function(){!0===(arguments.length>0&&void 0!==arguments[0]&&arguments[0])?(e.removeClass("in"),e.addClass("hide")):(e.one("transitionend",function(){return e.addClass("hide")}),e.removeClass("in")),o.default.body.removeClass("qanda-active"),o.default.body.off("quizSolvablePositionWillChange"),(0,r.crop)(!1)},a=function(){e.removeClass("hide"),o.default.body.addClass("qanda-active"),(0,r.crop)();var t=e.find("#qanda-add-form textarea");(n||t.length&&t.val().length>0)&&g(e,c),(0,s.hideBranchBanner)(),setTimeout(function(){e.addClass("in"),e.one("click",i),m(e),o.default.body.on("quizSolvablePositionWillChange",function(){return i(!0)})})};e.find(".close").on("click",i),o.default.body.off_on("click.qanda","#qanda-trigger-".concat(t),a),e.children().on("click",function(t){t.stopPropagation(),e.find(".dropdown, .dropup").removeClass("open")}),e.find("[data-toggle=dropdown]").dropdown(),n||function(e,t){if(!h){var n=window.location.hash.match(/^#!\/qanda-question\/(\d+)\/?(\d+)?\/?$/);if(n){var i=n[1],a=n[2],r=e.find(".discsol-list"),s=null,l=null,c=function(){var e=s||l;if(e){var t=r.offset().top,n=e.offset().top,i=r.height();n+e.height()-t-i>0&&r.scrollTop(n-t-50)}},d=function(e){!0!==e.data("highlight")&&(e.addClass("highlight"),setTimeout(function(){return e.removeClass("highlight")},3e3),e.data("highlight",!0))};if(i&&!a){var u=o.default.id("post-".concat(i));u&&(s=u,setTimeout(function(){return d(u)},500),c())}o.default.window.on("vkey.afterupdate.qanda_comments",function(e){var t=e.$cmp;if(a){var n=t.find("[data-comment=".concat(a,"]"));n.length&&(l=n,n.is(":visible")||t.find(".cmmnt-container.level-0").addClass("show-all-replies"),d(n))}c()}),setTimeout(t),h=!0}}}(e,a)},t.addQuestion=function(e){var t=o.default.id("qanda-wrapper"),n=o.default.id("qanda-add-form"),i=n.find("textarea"),r=n.find("button"),s=0,l=function(){if(0!==i.length){var e=i.val().length;e>0&&0===s?(n.prop("disabled",!1),r.prop("disabled",!1)):0===e&&s>=0&&(n.prop("disabled",!0),r.prop("disabled",!0)),s=e}};i.on("input",l),a.isMobile&&i.on("focus",function(){return o.default.body.scrollTop(0)}),n.on("submit",function(){setTimeout(function(){return n.trigger(o.default.Event("autosave.clear"))})}),o.default.id("qanda-back").on("click",function(){g(t,u)}),!0===e.data("success")?g(t,d):(v(f),i.select()),l()},t.questionsList=function(e){e.is(":visible")&&m(e),e.find("[data-toggle=dropdown]").dropdown(),o.default.id("qanda-add-question-trigger").on("click",function(){g(o.default.id("qanda-wrapper"),c)}),v(p)},t.commentsList=function(e){e.find(".qanda-add-comment-trigger").on("click",function(e){var t=(0,o.default)(e.currentTarget);t.parent().addClass("hide"),o.default.id(t.data("target")).removeClass("hide")}),e.find("[data-toggle=dropdown]").dropdown()};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(9),s=n(34),l=n(47);n(46);var c=1,d=2,u=3,f=10,p=11,h=!1;function m(e){e.find(".discsol-post-wrapper").each(function(e,t){(0,l.showCommentsForSolution)((0,o.default)(t),!0)})}function v(e){var t=o.default.id("qanda-wrapper"),n=t.find(".qanda-add-form header:visible"),i=e===f?t.find("#qanda-add-form textarea"):t.find("#qanda-list .discsol-list"),a="";n.length&&(a=n.outerHeight()),i.css({top:a})}function g(e,t){switch(t){case c:e.removeClass("add-question-success").addClass("add-question"),(0,o.default)("#qanda-add-form textarea").select(),v(f);break;case d:e.removeClass("add-question").addClass("add-question-success"),v(p);break;case u:e.removeClass("".concat("add-question"," ").concat("add-question-success")),v(p);break;default:throw new Error("Unexpected Q&A sidebar state: ".concat(t))}}},function(e,t,n){"use strict";(function(t){var i=n(0),o=n(5),a=(n(11),n(17)),r={},s=function(){c(),y()},l=function(e){i(this).parents("form").trigger("submit")},c=function(e){var t=(e=e||i("#profile,#prof-sidebar")).find(".multi .close"),n=e.find(".input").find("select,input[type=radio]"),a=e.find(".input.longtext form"),r=e.find(".input input[name=value]");e.find("textarea").autosize(),t.off("click"),t.on("click",function(e){e.preventDefault();var t=i(this);t.parents(".item").css({opacity:.5}),o("assessment").form(t.parents("form").get(0),{remove:t.data("value")||""})}),a.off("submit.saving").on("submit.saving",function(e){e.preventDefault(),i(this).find("button[type=submit]").addClass("disabled").text("Saving...")}),a.each(d),r.off("blur.blur_force_submit"),r.on("blur.blur_force_submit",l),r.off("keydown.enter_listen"),r.on("keydown.enter_listen",function(e){13===e.which&&(e.preventDefault(),l.call(this))}),i("a.add_or_edit_item").on("click",function(e){e.preventDefault();var t=i(this).data("name");i("#view_"+t+"_hider").hide(),i("#edit_"+t+"_hider").show(),i("#edit_"+t+"_hider").find("input[type=text], textarea").focus()}),e.find(".multi.display").each(function(){var e=i(this);e.height()<this.scrollHeight&&e.addClass("scrollable")}),e.find(".multi .add").on("click",function(e){e.preventDefault(),i(this).hide().parents(".multi").find("input[type=text]").show().trigger("focus")}),e.find('[data-provide="typeahead"]').each(u),i(".click_to_answer_trigger").on("click",function(e){e.preventDefault();var t=i(this);t.closest(".input").find(".click_to_answer_section").show(),t.hide()}),n.off("change"),n.on("change",l),v(e),p(e),h(e)},d=function(){var e=i(this),t=e.find("textarea:last");if(!e.hasClass("added-counter")){e.addClass("added-counter");var n='<div class="counter"><span></span> [type]s left</div>',o=t.data(),a=o.wordLimit||null,r=/[\s\.,]+/,s=null,l=function(t){e.find(".footer").prepend(t)};null!==a?l(n.replace("[type]","word")):o.charLimit>0?(l(n.replace("[type]","character")),a=o.charLimit||140,r=""):(a=400,l(n.replace("[type]","word"))),s=e.find(".counter span");var c=function(){var e=t.val().length>0?i.trim(t.val()).split(r).length:0;e=a-e,s.parent().toggleClass("over",e<0),s.text(e)};c(),t.on("keyup",c)}},u=function(){var e=i(this),t=e.parents("form");e.data("source").length>0&&(e.off("blur").off("keydown.enter_listen"),e.on("blur",function(e){e.preventDefault();var n=i(this);n.data("typeahead").select(),n.data("has_blurred",!1),t.trigger("submit")}),e.off("menued"),e.on("menued",function(t){e.next(".save-new").remove()}),e.off("unmenued"),e.on("unmenued",function(t){e.off("keyup.unmenued").on("keyup.unmenued",function(){f(e)}),f(e,!0)}),t.off("submit"),t.on("submit",function(e){e.preventDefault();var n=i(this);clearTimeout(t.data("prof-timeout")),t.data("prof-timeout",setTimeout(function(){o("assessment").form(n.get(0),{remove:"",value:n.find("input[name=value]").val()})},10))}),e.off("change"),e.on("change",function(e){t.trigger("submit")}))},f=function(e,t){if(t=t||!1,0!==e.val().length){var n=e.data("new-item-text")||null;e.next(".save-new").length>0?e.next(".save-new").text(n.replace("[newtag]",'"'+e.val()+'"')).show():t&&null!==n&&(e.after('<a href="#" class="save-new">'+n.replace("[newtag]",'"'+e.val()+'"')+"</a>"),e.next(".save-new").on("click",function(e){e.preventDefault()}))}else e.next(".save-new").hide()},p=function(e){var t=(e=e||i.body).find(".auto-prompt"),n=e.find(".auto-prompt-cancel"),o=t.first().data("prompts");o&&o.length>0?(o=o.split(/\|/g),t.each(function(){var e=i(this),t=e.parents(".prompt").find("input,textarea");t.data("orig-value",t.val()),!0!==e.data("inited")&&(e.data("inited",!0),e.on("click",function(n){n.preventDefault();for(var i,a=t.val(),r=a;r==a;)i=Math.floor(Math.random()*(o.length-0)),r=o[i];e.removeClass("active"),e.siblings(".auto-prompt-cancel").addClass("active"),t.val(r),t.change()}))}),n.each(function(){var e=i(this),t=e.parents(".prompt").find("textarea");e.on("click",function(n){n.preventDefault(),e.removeClass("active"),e.siblings(".auto-prompt").addClass("active"),t.val(t.data("orig-value")),t.change()})})):t.hide()},h=function(e){var t=(e=e||i.body).find(".free-resp-edit").not(".inited");t.on("click",function(e){e.preventDefault();var t=i(this).parents(".prof-field");t.toggleClass("editing"),t.find(".label-input").trigger("autosize.resize")}),t.addClass("inited")},m=function(){var e=i("#prof-status");if(e.length>0&&e.hasClass("editable")&&!0!==e.data("inited")){e.data("inited",!0);var t=e.find(".edit-status"),n=i("#status-form"),o=i("#status-input"),a=i("#clear-status");t.on("click",function(t){t.preventDefault(),e.addClass("editing"),o.focus()}),a.on("click",function(t){t.preventDefault(),o.val(""),e.removeClass("editing")}),n.on("submit",function(){e.addClass("saving")}),o.on("keydown",function(t){27===t.which&&(o.val(""),e.removeClass("editing"))})}},v=function(e){var t=".multiline";(e=e.find(t)||i(t)).length>0&&e.each(g)},g=function(){var e=i(this);if(!0!==e.data("inited")){e.data("inited",!0);var t=e.find(".edit"),n=e.find(".btn-cancel"),a=e.find("form");t.on("click",function(t){t.preventDefault(),e.addClass("editing"),e.find("input:first").focus()}),n.on("click",function(t){t.preventDefault(),e.removeClass("editing")}),a.on("submit",function(t){t.preventDefault(),e.addClass("saving"),a.attr("disabled","disabled").addClass("disabled"),a.find(".btn").attr("disabled","disabled").addClass("disabled"),o("profile_profile").form(i(this).get(0))})}},_=["profile_interests","profile_languages","profile_skills","profile_competitions"],y=function(){var e=i("#prof-empty");if(e.length>0){for(var t,n=0,o=_.length,a=!0,r=i("#multi-entries");n<o;n++)if((t=i("#cmp_"+_[n]+"_id").clone()).find(".debug_component_info").remove(),t.text().replace(/\s|\n/g,"").length>0){a=!1;break}a&&(e.show(),r.hide())}},b=function(e){0===e.children().length&&e.hide()};r.onload=function(){s(),m(),i("[id*=cmp_]").not(".nf-modal-content").not(".nf-set-modal-content").each(function(){var e=i(this);0===e.children().length&&e.hide()}),t.is_mobile&&i("#see-prof-fields").removeClass("dim").on("click",function(e){e.preventDefault(),i(this).toggleClass("active");var t=i("#hidden-prof-fields"),n=t.hasClass("active");t.toggleClass("active",!n),t.toggle(!n)}),a.setlist.modals()},window.vkey.profile_stats_sidebar=function(e,t){var n=vkey.handle(e,t);n.find(".upvotes").tooltip(),b(n)};var w=function(e,t){var n=vkey.handle(e,t);if(s(),m(),0===n.find(".error").length){var i=n.find(".saved:not(.animating)");i.length>0&&(i.addClass("animating"),i.fadeIn(200).delay(3e3).fadeOut(200).removeClass("animating"))}n.find("input:not([type=submit]):not([type=radio]):visible:first").focus(),b(n)},k=function(e,t){w(e,t),y()};window.vkey.profile_about=w,window.vkey.profile_free_response_1=w,window.vkey.profile_free_response_2=w,window.vkey.profile_free_response_3=w,window.vkey.profile_high_school=w,window.vkey.profile_college=w,window.vkey.profile_company=w,window.vkey.profile_status_msg=w,window.vkey.profile_interests=k,window.vkey.profile_languages=k,window.vkey.profile_competitions=k,window.vkey.profile_skills=k,e.exports=r}).call(this,n(19))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postcheckout=function(e){var t=e.find(".slides"),n=e.find(".slide"),i=e.find(".b-markers span"),f=o.default.id("airtable-tmpl"),p=!1,h=function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!p){var f=n.filter(".slide-".concat(a)),h=function(){var t=f.data("slide"),h=c?a:a-1;h=Math.min(h,i.length-1),n.removeClass("active"),f.addClass("active"),i.removeClass("active"),i.eq(h).addClass("active"),p=!1,o.default.window.scrollTop(0),e.trigger(o.default.Event("".concat(r,".").concat(t))),s=a,d||(e.addClass("in"),u(),l&&window.history.pushState({currentSlide:s},"",window.location.href))};setTimeout(function(){e.hasClass("in")?(t.one("transitionend",h),p=!0,e.removeClass("in")):h(),e.toggleClass("hide-footer",!0===f.data("hide-footer"))})}};o.default.id("btn-continue").on("click",function(){s>=4?window.location.href=e.data("next-url"):h(s+1)}),e.find(".pro-success-nav").on("click",function(e){h(parseInt(e.target.dataset.slide,10))}),o.default.id("email-option-form").on("submit",function(){d=!0}),o.default.window.off_on("popstate",function(e){var t=e.originalEvent.state;null===t?h(l,!1):t.currentSlide&&h(t.currentSlide,!1)}),f.length&&e.one("".concat(r,".survey"),function(){var t,n,i=o.default.create("div");i.html(f.html()),f.replaceWith(i),t=Date.now(),(n=e.find(".airtable-embed")).on("load",function(){(0,a.track)("ui",{element_id:"pro_airtable_survey_form_loaded",load_time:Date.now()-t})}),n.prop("src",n.data("src"))}),null===s?(s=e.data("start-slide"),c=0===s,l=s,e.addClass("in"),setTimeout(u)):s>1?(d=!1,h(s)):(e.addClass("in"),setTimeout(u))};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(8),r="showslide",s=null,l=null,c=!1,d=!1;function u(){(0,a.track)("ui",{element_id:"pro_success_viewed_slide",slide_name:(0,o.default)(".slide-".concat(s)).data("slide"),slide_number:s})}},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(3),r=(n(24),n(9)),s=n(8),l=(n(34),n(7)),c=n(11),d=n(35),u=n(14);n(176);var f={subtopic:function(e){e.data();var t=i(".prac-subtopic").filter(".expanded");t.length&&o.defer(function(){r.Anchors.scrollToTarget(t)}),e.find(".prac-subtopic .trigger").on("click",function(){var e=i(this).parents(".prac-subtopic");if(e.toggleClass("expanded"),e.hasClass("expanded")){var t=e.data("subtopic-slug"),n=window.location.pathname+"?subtopic="+t,o={subtopic:t};try{window.history.replaceState(o,"",n)}catch(e){}}else try{window.history.replaceState({},"",window.location.pathname)}catch(e){}})},quizWikiFilter:function(e){var t=e.find(".btn-group, .btn-tabs").children(),n="";t.each(function(){n+=i(this).data("type")+" "}),t.on("click",function(){var o=i(this),a=o.data("type");o.hasClass("active")||(t.removeClass("active"),o.addClass("active"),e.removeClass(n).addClass(a))})},switchPaywallPosition:function(e){var t=i.id("prac-markers").find(".prac-marker"),n=i.id("prev-marker-btn"),o=i.id("next-marker-btn"),l=i.id("previews").length?i.id("previews"):e,c=l.find(".preview"),u=c.find(".btn-continue"),f=e.data(),p=f.changeState,h=c.length,m=l.data("initial-position")?l.data("initial-position"):1,v=f.paywallType,g=function(){s.track("ui",{action:"viewed_paywall_slide",paywall_type:v,step_position:m,step_name:m===h?"features_list":"dynamic_content",is_first_step:1===m,is_last_step:m===h,path:window.location.pathname,full_path:window.location.pathname+window.location.search})},_=function(i,r){r=p&&!1!==r,c.removeClass("current"),c.filter('[data-position="'+m+'"]').addClass("current"),t.removeClass("current"),i?i.addClass("current"):t.filter('[data-position="'+m+'"]').addClass("current"),n.removeClass("disabled"),o.removeClass("disabled"),m==h?(a.user_is_authenticated?(l.add(e.parent(".header")).add(e.parents(".course-quiz-paywall-wrapper")).addClass("show-paywall"),d.twinklingStars(l.find(".premium-space-bg"))):c.filter(".current").find(".btn-continue").hide(),o.addClass("disabled")):(l.add(e.parent(".header")).add(e.parents(".course-quiz-paywall-wrapper")).removeClass("show-paywall"),1==m&&n.addClass("disabled")),window.history.pushState&&r&&window.history.pushState({position:m},"","?p="+m),g()};p&&i.window.on("popstate",function(e){var t=e.originalEvent.state;m=t&&t.position?t.position:1,_(null,!1)}),a.is_mobile&&navigator.userAgent.toLowerCase().indexOf("android")<0&&r.crop(!1),t.on("click",function(e){var t=i(this),n=t.data("position");e.preventDefault(),n!=m&&(m=n,_(t))}),n.on("click",function(e){e.preventDefault(),i(this).hasClass("disabled")||(m--,_())}),o.add(u).on("click",function(e){e.preventDefault(),i(this).hasClass("disabled")||(m++,_())}),1!==h&&g()},loadChapterPaywall:function(e){var t,n=i.cmp("explorations_chapter").find(".exploration-quizzes a"),o=e.data(),a=e.attr("href"),r={page_key:o.pageKey};e.add(n).on("click",function(e){e.preventDefault(),t?t.modal():((t=i('<div class="chapter-paywall-modal modal"><span class="spinner"></span></div>')).modal(),i.get(a,r).then(function(e){t.html(e.actions.explorations_chapter_paywall.new_html),t.find(".close").on("click",function(){i.id("paypal-modal").find("> .visible").length||t.modal("hide")}),l.initGenericControllers(t)}).fail(function(e){window.location.href=a}))})},explorationDescription:function(e){e.on("click",function(){e.parent().toggleClass("expanded")})},trackExplorationsComingSoon:function(e){var t,n,i=e.data(),o=i.topicSlug,a=i.chapterSlug;o?(t="clicked_exploration_topic_coming_soon",n=o):(t="clicked_exploration_chapter_coming_soon",n=a),e.on("click",function(){s.track("ui",{action:"click",element_type:"link",element_id:t,target:n})})},talentBanner:function(e){o.defer(function(){var e={element_id:"viewed_talent_banner"};if(a.is_mobile)s.track("ui",e);else{var t=(document.body.scrollHeight-document.body.offsetHeight)/2,n=function(){i.body.addClass("show-banner"),s.track("ui",e)};t<=50?n():i.window.on("scroll.talentbanner",o.debounce(function(){i.doc.scrollTop()>=t&&(i.window.off("scroll.talentbanner"),n())}))}})},wikiListing:function(e){o.defer(function(){for(var t=e.height();e.width()<e[0].scrollWidth||e.height()<e[0].scrollHeight;)t+=100,e.css({height:t})})},notifyComingSoon:function(e){var t=e.find("form"),n=!1,o=function(){!1===n&&(n=!0,e.removeClass("with-form"),i.post(t.prop("action")).fail(c.handler).fail(function(){n=!1,e.addClass("with-form")}))};t.on("submit",function(e){e.preventDefault(),o()}),e.on("click",o)},explorationsNav:function(e){if(e.find(".courses-item").on("click",function(){var e=i(this),t=e.data(),n={action:"click",element_id:"clicked_course_card_from_courses",nux_step:!!u.getParamsObject().tour,course_id:t.id,course_name:t.name,course_difficulty:t.difficulty,course_recommended:t.recommended,course_recent:t.recent,course_category:e.parents(".courses-category").find(".courses-category-name").text().trim(),course_category_number:e.parents(".courses-item-wrapper").index()+1};t.recommendedType&&(n.course_recommended_type=t.recommendedType),s.track("ui",n)}),!a.is_mobile){var t=null,n=i("#nav-exploration-categories a"),l=function(){var o=i(this),a=o.data("category"),r=e.data("offset")||40;t&&o.data("previous-category",t),t=a,new Waypoint({element:this,offset:o.is(":last-child")?"bottom-in-view":r,handler:function(e){var t,a;if("down"===e?(t=o.data("category"),a=window.location.pathname+window.location.search+"#"+t):(t=o.data("previous-category")||null,a=window.location.pathname+window.location.search,t&&(a+="#"+t)),n.removeClass("active"),t){var r=n.filter("[data-subcategory="+t+"]");r.length?(r.addClass("active"),r.parents("ul").siblings("a").addClass("active")):n.filter("[data-category="+t+"]").addClass("active")}else i.id("exploration-sidebar-link").addClass("active");try{window.history.replaceState({},"",a)}catch(e){}}})};o.defer(function(){e.find("[data-category]").each(l)}),n.on("click",function(t){t.preventDefault();var o=i(t.currentTarget);r.Anchors.scrollToTarget(e.find("#".concat(o[0].href.split("#")[1])),function(){n.removeClass("active"),o.addClass("active"),o.parents("ul").siblings("[data-category]").addClass("active"),o.siblings("ul").find("[data-subcategory]").first().addClass("active")})})}},collapsedSummary:function(e){if(a.is_mobile){var t=e.find("h3"),n=e.find(".text, .features, .less");e.find(".less").add(t).on("click",function(e){var i=e.currentTarget===t[0];t.toggleClass("expanded",i),n.toggleClass("hide",!i)})}else e.find(".more, .less").on("click",function(){e.find(".text > div").toggleClass("hide")})},highlightActiveCourse:function(){if(window.location.hash){var e=i.id(window.location.hash.substr(1));e.length&&(i(".course-chapter.first-unfinished").removeClass("first-unfinished").find(".start-btn").remove(),e.siblings(".course-chapter").addClass("highlight"))}},highlightActiveQuiz:function(e){window.location.hash&&(e.find(".quiz-gallery-card").removeClass("highlighted"),i.id(window.location.hash.substr(1)).parent().addClass("highlighted"))},quizGalleryPremiumBanner:function(e){setTimeout(function(){s.track("ui",{action:"displayed_paywall_quiz_gallery"})})},shareDropup:function(e){var t=i(".course-quiz-sidebar"),n=i(".codex-expand-toggle");e.on("open",function(){n.filter(".active").click(),t.addClass("above-quiz-content")}).on("close",function(){t.removeClass("above-quiz-content")})}};vkey.explorations_chapter_paywall=function(e,t){vkey.handle(e,t)},e.exports=f},,function(e,t,n){"use strict";var i,o,a,r,s=n(0),l=(n(5),{});l.autorefresh=(o=[],a=function e(t){var n=o[t=t||0],i=n.find(".refreshable").data(),a={page_key:i.pageKey,component_key:i.componentKey,version:window.VERSIONS[i.pageKey]};n.addClass("reloading"),s.get(i.url,a).fail(function(){n.removeClass("reloading").addClass("error")}).then(function(i){for(var a in i.actions)window.vkey.handle(i.actions[a],a);n.removeClass("reloading"),t==o.length-1?r():e(t+1)})},r=function(){setTimeout(a,3e4)},function(e){o.push(e),clearTimeout(i),i=setTimeout(r,100)}),e.exports=l},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),a=n(1),r={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},s={triggerChar:"@",stopTriggerRegex:!1,onDataRequest:o.noop,mentionsStorage:{get:o.noop,set:o.noop},minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},highlightFunction:function(e){return e},templates:{wrapper:a.template('<div class="mentions-input-box"></div>'),autocompleteList:a.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:a.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:a.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:a.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:a.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:a.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:a.template("<strong><span><%= value %></span></strong>")}},l={htmlEncode:function(e){return a.escape(e)},regexpEncode:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+l.regexpEncode(t)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},c=function(e){var t,n,i,c,d,u,f,p,h=[],m={},v=[],g="";(e=o.extend(!0,{},s,e)).mentions&&(e.mentions=o.extend(!0,{},s,e.mentions)),e.wikiLinks&&(e.wikiLinks=o.extend(!0,{},s,e.wikiLinks));var _=e;function y(){var t=k();a.each(h,function(n){var i=(n.isUser&&e.mentions?e.mentions:n.isWiki&&e.wikiLinks?e.wikiLinks:e).templates.mentionItemSyntax(n),o=n.value?new RegExp(l.regexpEncode(n.value),"g"):n.value;t=t.replace(o,i)});var o=l.htmlEncode(t);a.each(h,function(t){var n,i=a.extend({},t,{value:l.htmlEncode(t.value)}),r=(n=t.isUser&&e.mentions?e.mentions:t.isWiki&&e.wikiLinks?e.wikiLinks:e).templates.mentionItemSyntax(i),s=n.templates.mentionItemHighlight(i);o=o.replace(new RegExp(l.regexpEncode(r),"g"),s)}),o=(o=o.replace(/\n/g,"<br />")).replace(/ {2}/g,"&nbsp; "),o=e.highlightFunction(o),n.data("messageText",t),i.val(n.data("messageText")),f.find("div").html(o)}function b(){v=[]}function w(e){var t,o=k();g=g||"",t=0===_.triggerChar.indexOf("@")?new RegExp("[^\\w]"+l.regexpEncode(_.triggerChar)+l.regexpEncode(g),"gi"):new RegExp(l.regexpEncode(_.triggerChar)+l.regexpEncode(g),"gi");for(var r=[];t.exec(" "+o);)r.push(t.lastIndex);var s=r[r.length-1]-1,c=_.triggerChar.length,d=s-g.length-c,u=n.prop("selectionStart")?n.prop("selectionStart"):s,f=o.substr(0,d),p=o.substr(u,o.length),m=(f+e.value).length+1;a.find(h,function(t){return t.id==e.id})||h.push(e),b(),g="",P();var v=e.value;e.isUser&&(v=_.triggerChar+v);var w=f+v+" "+p;n.val(w),n.trigger("autosave.save"),i.val(n.data("messageText")),y(),n.focus(),l.setCaratPosition(n[0],m)}function k(){return o.trim(n.val())}function C(e){var t=o(this);return w(m[t.attr("data-uid")]),!1}function x(e){b()}function q(e){P()}function T(t){var i;y(),i=k(),h=a.reject(h,function(e,t){return!e.value||-1==i.indexOf(e.value)}),h=a.compact(h),_.mentionsStorage.set(h);var o=n.val();v=o.split("");var r,s=o;if(n.prop("selectionStart")&&(s=o.slice(0,n.prop("selectionStart"))),e.mentions&&e.wikiLinks){var c=s.lastIndexOf(e.mentions.triggerChar),d=c>-1,u=s.lastIndexOf(e.wikiLinks.triggerChar),f=u>-1;d&&f&&c>u||d&&!f?(r=c,_=e.mentions):d&&f&&u>c||f&&!d?(r=u,_=e.wikiLinks):r=-1}else if(0===e.triggerChar.indexOf("@")){for(var p=new RegExp("[^\\w]"+e.triggerChar,"gi"),m=[];p.exec(" "+s);)m.push(p.lastIndex);r=m[m.length-1]-2}else r=s.lastIndexOf(e.triggerChar);if(r>-1){var b=_.triggerChar.length;g=o.slice(r+b);var w=g=l.rtrim(g);if(n.prop("selectionStart")&&(w=s.slice(r+b),w=l.rtrim(w)),_.stopTriggerRegex&&w.search(_.stopTriggerRegex)>-1)return;a.defer(a.bind(I,this,w))}}function S(e){if(e.keyCode!==r.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);0===t.charCodeAt(0)?v.push(n.val().split("").pop()):(window.typedValue=t,v.push(t))}}function j(e){if(e.keyCode===r.LEFT||e.keyCode===r.RIGHT||e.keyCode===r.HOME||e.keyCode===r.END)return a.defer(b),void(navigator.userAgent.indexOf("MSIE 9")>-1&&a.defer(y));if(e.keyCode!==r.BACKSPACE){if(!d.is(":visible"))return!0;switch(e.keyCode){case r.UP:case r.DOWN:var t;return(t=e.keyCode===r.DOWN?p&&p.length?p.next():d.find("li").first():o(p).prev()).length&&D(t),!1;case r.RETURN:case r.TAB:if(p&&p.length)return p.trigger("mousedown"),!1}return!0}v=v.slice(0,-1+v.length)}function P(){p=null,d.empty().hide();var e=o.Event("mentions.hide");n.trigger(e),i.trigger(e)}function D(t){t.addClass(e.classes.autoCompleteItemActive),t.siblings().removeClass(e.classes.autoCompleteItemActive),p=t}function O(t,r){if(d.show(),!_.allowRepeat){var s=a.pluck(h,"value");r=a.reject(r,function(e){return a.include(s,e.name)})}if(r.length){d.empty();var c=o("<ul>").appendTo(d).hide();a.each(r,function(e,n){var i=a.uniqueId("mention_");m[i]=a.extend({},e,{value:e.value||e.name});var r=o(_.templates.autocompleteListItem(a.extend({},e,{id:l.htmlEncode(e.id),display:l.htmlEncode(e.name),type:l.htmlEncode(e.type),content:l.highlightTerm(l.htmlEncode(e.name),t)}))).attr("data-uid",i);0===n&&D(r),_.showAvatars&&(e.avatar?o(_.templates.autocompleteListItemAvatar({avatar:e.avatar})):o(_.templates.autocompleteListItemIcon({icon:e.icon}))).prependTo(r),r=r.appendTo(c)}),d.show(),e.onCaret&&function(e,t){var n=function(e){var t,n,i,a,r,s,l,c,d,u,f;if((d=e[0])&&o(d).is("textarea")&&null!=d.selectionEnd){for(l={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},u=0,f=(c=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"]).length;u<f;u++)l[r=c[u]]=o(d).css(r);return i=document.createElement("div"),o(i).css(l),o(d).after(i),n=document.createTextNode(d.value.substring(0,d.selectionEnd)),t=document.createTextNode(d.value.substring(d.selectionEnd)),(a=document.createElement("span")).innerHTML="&nbsp;",i.appendChild(n),i.appendChild(a),i.appendChild(t),i.scrollTop=d.scrollTop,s=o(a).position(),o(i).remove(),s}}(t),i=parseInt(t.css("line-height"),10)||18;e.css("top",i+n.top)}(d,n),c.show();var u=o.Event("mentions.show");n.trigger(u),i.trigger(u)}else P()}function I(e){e&&e.length&&e.length>=_.minChars?_.onDataRequest.call(this,"search",e,function(t){O(e,t)}):P()}function E(){n.val(""),h=[],y()}return{init:function(a){var r,s,l;o(t=a).hasClass("inited")||(n=o(t),(i=n.clone()).val()==i.attr("placeholder")&&i.val(""),"true"!==n.attr("data-mentions-input")&&(n.addClass("inited"),i.addClass("inited"),n.attr("name",n.attr("name")+"__copy"),n.attr("id",n.attr("id")+"__copy"),i.addClass("clone"),i.val().trim().length&&(n.val(function(e){var t=e.match(/mention\[[\d]+:(.*?)\]/g)||null;return null!==t&&t.forEach(function(t){e=e.replace(t,t.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}),e}(i.val())),n.val(n.val()+" ")),c=n.parent(),u=o(e.templates.wrapper()),n.wrapAll(u),u=c.find("> div.mentions-input-box"),n.after(i),n.attr("data-mentions-input","true"),navigator.userAgent.toLowerCase().indexOf("android")>=0?n.on("input",function(){j.apply(this,arguments),S.apply(this,arguments),T.apply(this,arguments)}):(n.on("keydown",j),n.on("keypress",S)),n.bind("click",x),n.bind("blur",q),navigator.userAgent.indexOf("MSIE 8")>-1?n.bind("propertychange",T):n.bind("input",T),e.elastic&&n.elastic(),n.trigger(o.Event("mentions.ready")),i.trigger(o.Event("mentions.ready"))),(d=o(e.templates.autocompleteList())).appendTo(u),d.delegate("li","mousedown",C),(f=o(e.templates.mentionsOverlay())).prependTo(u),e.mentions&&e.mentions.mentionsStorage.get||e.mentionsStorage.get?(h=e.mentions?e.mentions.mentionsStorage.get():e.mentionsStorage.get(),n.data("messageText",i.val()),y()):n.val().trim().length?(r=i.val().trim(),s=e.mentions?e.mentions.mentionRegex:e.mentionRegex,null!==(l=r.match(s))&&(l.forEach(function(e){var t=e.split(/[\[|\]|:]/g);h.push({id:t[1],user_id:t[1],name:t[2],value:t[2],isUser:!0})}),y())):E(),e.prefillMention&&w(e.prefillMention))},val:function(e){a.isFunction(e)&&e.call(this,h.length?n.data("messageText"):k())},reset:function(){E()},getMentions:function(e){a.isFunction(e)&&e.call(this,h)}}};o.fn.mentionsInput=function(e,t){var n=arguments;return"object"!==i(e)&&e||(t=e),this.each(function(){var r=o.data(this,"mentionsInput")||o.data(this,"mentionsInput",new c(t));return a.isFunction(r[e])?r[e].apply(this,Array.prototype.slice.call(n,1)):"object"!==i(e)&&e?void o.error("Method "+e+" does not exist"):r.init.call(this,this)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(0),o=n(1),a=(n(21),{}),r=i.id("infiniti-challenge-confirmation-modal");a.timer=function(e){var t=e.data(),n=t.countDown,a=o.template(t.template),r=t.seconds,s=Math.round((new Date).getTime()/1e3),l=null,c=i.id("infiniti-challenge-timeout-modal"),d=function(e){return(e=e.toString())<10?"0"+e:e},u=function(t){var i=Math.round((new Date).getTime()/1e3)-s,o=n?r-i:r+i;if(i>0||t){o<0&&(o=0);var u=~~(o/86400),f=~~(o%86400/3600),p=~~(o%3600/60),h=o%60,m=a({days:u,hours:u>0?d(f):f,minutes:f>0?d(p):p,seconds:d(h)});m!==l&&(e.text(m),l=m),0==o&&c.modal()}};u(!0),setInterval(function(){u(!1)},250),c.find(".btn").on("click",function(){location.reload()})},a.rank=function(e){var t=e.data("percentile");setTimeout(function(){var n=Math.round(t/100*180-90),i=(t>50?100-t:t)/50*3,o="rotate("+Math.max(-82,n)+"deg)";i>0&&(o+=" translate(0, "+i+"px)"),e.find(".rank-needle").css({"-webkit-transform":o,transform:o})},250)},a.modals=function(e){var t=i.id("infiniti-challenge-modals");e.on("click",function(){t.removeClass("animate hide")}),t.on("click",function(){t.addClass("hide")}),t.find(".modal").on("click",function(e){e.stopPropagation()})},a.switchTestPosition=function(e){var t=i.id("prac-markers").find(".prac-marker"),n=i.id("prev-marker-btn"),o=i.id("next-marker-btn"),a=i.id("ec-problems").find(".ec-problem"),r=t.length,s=1,l=function(e){a.removeClass("current"),a.filter('[data-position="'+s+'"]').addClass("current"),t.removeClass("current"),e?e.addClass("current"):t.filter('[data-position="'+s+'"]').addClass("current"),n.removeClass("disabled"),o.removeClass("disabled"),1==s?n.addClass("disabled"):s==r&&o.addClass("disabled")};t.on("click",function(){var e=i(this),t=e.data("position");t!=s&&(s=t,l(e))}),n.on("click",function(){i(this).hasClass("disabled")||(s--,l())}),o.on("click",function(){i(this).hasClass("disabled")||(s++,l())})},a.saveAndContinue=function(e){5==e.parents(".ec-problem").data("position")&&e.html("Save"),e.hasClass("btn-submit")||e.on("click",function(){i.id("next-marker-btn").trigger("click")})},a.finishChallenge=function(e){e.on("click",function(){r.modal()}),r.find(".finish-competition-btn").on("click",function(){r.modal("hide")})},vkey.externalcompetition_competitionsolvablecomponent=function(e,t){var n=vkey.handle(e,t),o=n.find("#id_answer");o.length&&!o.hasClass("error")&&i.id("next-marker-btn").trigger("click");var a=n.find(".solv-form").data("num-unanswered");a?(r.find(".num-unanswered").html(a),r.removeClass("complete").addClass("incomplete")):r.removeClass("incomplete").addClass("complete")},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabs=function(e){var t=e.closest(".image-gallery>div");e.on("click",function(n){var i=e.children().index(n.target);if(-1!==i){var a=(0,o.default)(n.target);a.hasClass("more")?(e.children(".hidden").removeClass("hidden"),a.remove()):(e.children(".selected").removeClass("selected"),a.addClass("selected"),t.find(".main-image").addClass("hidden").removeClass("main-image"),t.find(".hidden:nth-child(".concat(i+1,")")).addClass("main-image").removeClass("hidden"))}})};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";var i=n(0),o=n(1),a=n(5),r=n(7),s={};function l(e){var t,n=e.parents(".modal");!function(e){e.is(":visible")&&0===e.find(".errorlist").length&&e.modal("hide")}(n),(t=n).find("textarea").autosize(),t.find("#id_invite_people").mentions(),t.on("show",function(){o.defer(function(){t.find("textarea").trigger("autosize.resize")})})}s.creationForm=l,s.featuredGroups=function(e){e.find(".see-more").on("click",function(){e.addClass("expanded")})},s.editGroup=function(e){var t=i.id("group-header");t.removeClass("editing"),i.id("group-edit-trigger").on("click",function(e){t.addClass("editing"),t.find("textarea").autosize(),document.body.scrollTop=0}),t.find(".cancel-edit").on("click",function(e){e.preventDefault(),t.removeClass("editing")}),t.find(".btn-expand").on("click",function(e){t.addClass("expanded")})},s.inviteModal=l,s.confirmGroupAction=function(e){var t=e.find("form");t.off_on("submit",function(n){n.preventDefault();var o=e.data(),r=o.message||"";o.modal_class="group-confirm-modal",i.confirm(r,o,function(e){e&&a(t.find("#id_page_key").val()).form(t[0])})})},s.seeReport=function(e){var t=e.find(".group-report-modal");e.find(".group-report-trigger").on("click",function(){t.modal()})},window.vkey.groups_invite_members=function(e,t){var n=i.cmp(t),o=i.id("group-invite-modal");o.removeData("controller-inited").removeAttr("data-controller-inited"),n.html(e.new_html),a.autosubmit.init(n),r.initGenericControllers(o.parent())},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){var t,n=e,i=(0,o.default)("#".concat(n.data("tooltip"))),p=!0,h=(0,o.default)("div.glossary-container");0===h.length&&(h=(0,o.default)("<div>").addClass(f),o.default.body.append(h)),i.parent().hasClass(f)||i.detach().appendTo(h);var m=function(){i.addClass(l)},v=function(){t=setTimeout(function(){m()},300)},g=function(){var e=i.height();a.isMobile?i.removeClass(l):(i.hasClass(c)&&i.on("mouseleave",v),i.removeClass("left right top bottom").addClass((0,r.getOrientation)(n,i)).css((0,r.repositionTooltip)({$target:n,$tooltip:i,topOffset:3,leftOffset:-45,offsetMethod:"offset"})).removeClass(l).removeClass(c),e!==i.height()&&i.css((0,r.repositionTooltip)({$target:n,$tooltip:i,topOffset:3,leftOffset:-45,offsetMethod:"offset"})))};a.isMobile?n.on("click",function(){i.hasClass(l)?((0,o.default)(".glossary-tooltip").addClass(l),g(),p&&(p=!1,i.find("button.close").on("click",m))):m()}):s?(n.on("click",function(){g(),p&&(p=!1,i.draggable())}),o.default.body.css({cursor:"pointer"}),o.default.doc.on("click",function(e){(0,o.default)(e.target).hasClass(d)||(0,o.default)(e.target).hasClass(u)||m()}),i.on("dragstart",function(){i.off("mouseleave"),i.addClass(c),i.find("button.close").on("click",m)})):(n.on("mouseenter",function(){clearTimeout(t),g(),p&&(p=!1,i.draggable())}),n.on("mouseleave",v),i.on("mouseenter",function(){return clearTimeout(t)}),i.on("mouseleave",v),i.on("dragstart",function(){i.off("mouseleave"),i.addClass(c),i.find("button.close").on("click",m)}))};var i,o=(i=n(0))&&i.__esModule?i:{default:i},a=n(3),r=n(55);n(265);var s="ontouchstart"in document.documentElement,l="hidden",c="dragged",d="glossary",u="glossary-tooltip",f="glossary-container"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modal=function(e){var t=e.closest(".educator-person"),n=(0,o.default)("#educator-bio-modal"),i=n.find("div");e.on("click",function(){i.html(t.clone()),n.modal("show")})};var i,o=(i=n(0))&&i.__esModule?i:{default:i}},,,function(e,t,n){"use strict";var i=l(n(0)),o=l(n(3)),a=l(n(11)),r=l(n(9)),s=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}n(46);var c={emailAddresses:function(e){var t=i.default.id("submit-buttons").find("[name=action_primary]"),n=i.default.id("submit-buttons").find("[name=action_send]"),o=i.default.id("submit-buttons").find("[name=action_remove]"),a=i.default.id("add-email-content"),r=i.default.id("add-email-link");o.on("click",function(e){return!!confirm("Do you really want to remove "+(0,i.default)("input[type=radio]:checked").val()+"?")}),(0,i.default)(".btn-verification").on("click",function(e){e.preventDefault(),(0,i.default)(this).parents("tr").find("input[type=radio]").prop("checked",!0),n.click()}),(0,i.default)(".make-primary").on("click",function(e){e.preventDefault(),(0,i.default)(this).parents("tr").find("input[type=radio]").prop("checked",!0),t.click()}),(0,i.default)(".email-delete").on("click",function(e){e.preventDefault(),(0,i.default)(this).parents("tr").find("input[type=radio]").prop("checked",!0),o.click()}),r.on("click",function(e){e.preventDefault(),(0,i.default)(this).parents("tr").hide(),a.show().find("input").focus()}),a.find(".errorlist").length>0&&r.click()},emailSettings:function(e){var t=function(e){s.default.track("email settings timeout error",{result:e})};e.find("form").each(function(){var e=(0,i.default)(this);e.find("input.unsubscribe").each(function(){var n=!1,o=(0,i.default)(this);o.on("click",function(){if(!n){n=!0;var r=e.attr("action"),s=o.prop("checked"),l=0,c={type:"POST",timeout:3e3};r=r.replace(/\/(un)?checked\//,s?"/checked/":"/unchecked/"),c.url=r,o.prop("disabled",!0);var d=function(){n=!1,o.prop("disabled",!1),o.prop("checked",!s)};!function r(){i.default.ajax(c).then(function(t){n=!1,e.removeClass("opt-out"),o.prop("disabled",!1)}).fail(function(e,n){"timeout"===n?l<5?(l++,t("retry"),r()):(a.default.timeoutError(),t("limit reached"),d()):(a.default.handler(e),d())})}()}})})}),i.default.window.off_on("load",function(){var e=(0,i.default)(".opt-out");if(e.length>0){var t=e.parents("tr");o.default.is_mobile&&(t=t.add(t.prev("tr"))),t.addClass("highlighted"),i.default.html.add(i.default.body).animate({scrollTop:e.offset().top-i.default.window.height()/2},300),setTimeout(function(){t.addClass("transition").removeClass("highlighted")},5e3)}})},paymentHistory:function(e){i.default.id("view-receipts").on("click",function(t){t.preventDefault();var n=(0,i.default)(this);e.toggleClass("expanded"),e.hasClass("expanded")?(n.removeClass("view-receipts"),n.addClass("hide-receipts")):(n.removeClass("hide-receipts"),n.addClass("view-receipts"))})},deactivateAccountForm:function(e){var t=e.find(":checkbox"),n=t.filter('[value="other"]'),i=e.find(".other-text"),o=i.find("textarea"),a=e.find(".second-step"),s=e.find('[name="deactivate_method"]'),l=e.find(".how-to-reactivate"),c=e.find(".password"),d=e.find(".btn-submit"),u=function(){i.toggleClass("hide",!n.prop("checked"))},f=function(){var e=t.filter(":checked").length,i=0===e||1===e&&n.prop("checked")&&""===o.val().trim();a.toggleClass("hide",i)},p=function(){var e=s.filter(":checked").val();l.toggleClass("hide","temporary"!==e),c.toggleClass("hide","permanent"!==e),e&&d.removeClass("hide")};t.on("change",function(){f(),"other"===this.value&&u()}),o.on("change click keyup",f),s.on("change",p),u(),f(),p(),e.on("submit",function(){d.addClass("disabled").prop("disabled",!0)}),e.find(".errorlist").length&&r.default.Anchors.scrollToTarget(e)},uploadAvatarForm:function(e){var t=e.find(".upload-avatar-field"),n=t.find("input"),i=t.find(".filename"),o=e.find(".btn-submit");i.data("defaultValue",i.text()),n.on("change",function(){var e=n.val();i.text(e?e.replace(/^.*[\\\/]/,""):i.data("defaultValue")),o.prop("disabled",!e)})},deleteAvatarForm:function(e){var t=e.find('input[type="checkbox"]'),n=e.find(".btn");t.on("change",function(){n.prop("disabled",0===t.filter(":checked").length)})},b2DeactivationModal:function(e){i.default.id("deactivate-modal-trigger").on("click",function(){e.modal("show")})},pollExportState:function(e){var t,n=e.data("url");(function t(){i.default.get(n).then(function(n){"ready"===n.state&&"url"in n?((0,i.default)(".download").removeClass("hidden").find("a").attr("href",n.url),e.addClass("hidden")):setTimeout(t,6e4)})})(),e.attr("data-test-url")&&(t=e.data("test-url"),setTimeout(function(){i.default.get(t)},6e3))}};e.exports=c},function(module,exports,__webpack_require__){"use strict";(function(process){var __WEBPACK_AMD_DEFINE_RESULT__,_require;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}_require=function e(t,n,i){var o=function(){return this}();function a(o){if(n[o])return n[o].exports;if(t[o])return function(o,a){var r=n[o]={exports:{}},s=t[o],l=s[2],c=s[0],d=!0;try{c.call(r.exports,function(e){var n=t[o][1][e];return a(n||e)},r,r.exports,e,t,n,i),d=!1}finally{d?delete n[o]:l&&(n[l]=n[o])}return n[o].exports}(o,a);throw new Error('cannot find module "'+o+'"')}for(var r in i)i[r]?o[i[r]]=a(r):a(r);return a.duo=!0,a.cache=n,a.modules=t,a}({1:[function(e,t,n){var i=e("segmentio/analytics.js-core"),o=e("./integrations"),a=e("each");t.exports=n=i,i._require=e,n.VERSION=e("../bower.json").version,a(o,function(e,t){i.use(t)})},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(e,t,n){var i=e("./analytics");(t.exports=n=new i)._require=e,n.VERSION=e("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(e,t,n){var i=window.analytics,o=e("emitter"),a=e("facade"),r=e("after"),s=e("bind"),l=e("callback"),c=e("clone"),d=e("./cookie"),u=e("debug"),f=e("defaults"),p=e("each"),h=e("./group"),m=e("is"),v=e("is-meta"),g=e("object").keys,_=e("./memory"),y=e("./normalize"),b=e("event").bind,w=e("./pageDefaults"),k=e("pick"),C=e("prevent"),x=e("querystring"),q=e("object").length,T=e("./store"),S=e("./user"),j=a.Alias,P=a.Group,D=a.Identify,O=a.Page,I=a.Track;function E(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,this._user=S,this.log=u("analytics.js"),s.all(this);var e=this;this.on("initialize",function(t,n){n.initialPageview&&e.page(),e._parseQuery()})}(n=t.exports=E).cookie=d,n.store=T,n.memory=_,o(E.prototype),E.prototype.use=function(e){return e(this),this},E.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");return this.Integrations[t]=e,this},E.prototype.init=E.prototype.initialize=function(e,t){e=e||{},t=t||{},this._options(t),this._readied=!1;var n=this;p(e,function(t){n.Integrations[t]||delete e[t]}),p(e,function(e,t){var i=new(0,n.Integrations[e])(c(t));n.log("initialize %o - %o",e,t),n.add(i)});var i=this._integrations;S.load(),h.load();var o=r(q(i),function(){n._readied=!0,n.emit("ready")});return p(i,function(e,i){t.initialPageview&&!1===i.options.initialPageview&&(i.page=r(2,i.page)),i.analytics=n,i.once("ready",o),i.initialize()}),this.initialized=!0,this.emit("initialize",e,t),this},E.prototype.setAnonymousId=function(e){return this.user().anonymousId(e),this},E.prototype.add=function(e){return this._integrations[e.name]=e,this},E.prototype.identify=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,n=null,t=null),m.object(e)&&(n=t,t=e,e=S.id()),S.identify(e,t);var o=this.normalize({options:n,traits:S.traits(),userId:S.id()});return this._invoke("identify",new D(o)),this.emit("identify",e,t,n),this._callback(i),this},E.prototype.user=function(){return S},E.prototype.group=function(e,t,n,i){if(!arguments.length)return h;m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,n=null,t=null),m.object(e)&&(n=t,t=e,e=h.id()),h.identify(e,t);var o=this.normalize({options:n,traits:h.traits(),groupId:h.id()});return this._invoke("group",new P(o)),this.emit("group",e,t,n),this._callback(i),this},E.prototype.track=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,n=null,t=null);var o=this.options.plan||{},a=o.track||{},r=this.normalize({properties:t,options:n,event:e});if(o=a[e]){if(this.log("plan %o - %o",e,o),!1===o.enabled)return this._callback(i);f(r.integrations,o.integrations||{})}return this._invoke("track",new I(r)),this.emit("track",e,t,n),this._callback(i),this},E.prototype.trackClick=E.prototype.trackLink=function(e,t,n){if(!e)return this;m.element(e)&&(e=[e]);var i=this;return p(e,function(e){if(!m.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");b(e,"click",function(o){var a=m.fn(t)?t(e):t,r=m.fn(n)?n(e):n,s=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href");i.track(a,r),s&&"_blank"!==e.target&&!v(o)&&(C(o),i._callback(function(){window.location.href=s}))})}),this},E.prototype.trackSubmit=E.prototype.trackForm=function(e,t,n){if(!e)return this;m.element(e)&&(e=[e]);var i=this;return p(e,function(e){if(!m.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function o(o){C(o);var a=m.fn(t)?t(e):t,r=m.fn(n)?n(e):n;i.track(a,r),i._callback(function(){e.submit()})}var a=window.jQuery||window.Zepto;a?a(e).submit(o):b(e,"submit",o)}),this},E.prototype.page=function(e,t,n,i,o){m.fn(i)&&(o=i,i=null),m.fn(n)&&(o=n,i=n=null),m.fn(t)&&(o=t,i=n=t=null),m.object(e)&&(i=t,n=e,t=e=null),m.object(t)&&(i=n,n=t,t=null),m.string(e)&&!m.string(t)&&(t=e,e=null),n=c(n)||{},t&&(n.name=t),e&&(n.category=e);var a=w();f(n,a);var r=k(g(a),n);m.empty(r)||((i=i||{}).context=i.context||{},i.context.page=r);var s=this.normalize({properties:n,category:e,options:i,name:t});return this._invoke("page",new O(s)),this.emit("page",e,t,n,i),this._callback(o),this},E.prototype.pageview=function(e){var t={};return e&&(t.path=e),this.page(t),this},E.prototype.alias=function(e,t,n,i){m.fn(n)&&(i=n,n=null),m.fn(t)&&(i=t,n=null,t=null),m.object(t)&&(n=t,t=null);var o=this.normalize({options:n,previousId:t,userId:e});return this._invoke("alias",new j(o)),this.emit("alias",e,t,n),this._callback(i),this},E.prototype.ready=function(e){return m.fn(e)&&(this._readied?l.async(e):this.once("ready",e)),this},E.prototype.timeout=function(e){this._timeout=e},E.prototype.debug=function(e){!arguments.length||e?u.enable("analytics:"+(e||"*")):u.disable()},E.prototype._options=function(e){return e=e||{},this.options=e,d.options(e.cookie),T.options(e.localStorage),S.options(e.user),h.options(e.group),this},E.prototype._callback=function(e){return l.async(e,this._timeout),this},E.prototype._invoke=function(e,t){return this.emit("invoke",t),p(this._integrations,function(n,i){t.enabled(n)&&i.invoke.call(i,e,t)}),this},E.prototype.push=function(e){var t=e.shift();this[t]&&this[t].apply(this,e)},E.prototype.reset=function(){this.user().logout(),this.group().logout()},E.prototype._parseQuery=function(){var e=x.parse(window.location.search);return e.ajs_uid&&this.identify(e.ajs_uid),e.ajs_event&&this.track(e.ajs_event),e.ajs_aid&&S.anonymousId(e.ajs_aid),this},E.prototype.normalize=function(e){return(e=y(e,g(this._integrations))).anonymousId&&S.anonymousId(e.anonymousId),e.anonymousId=S.anonymousId(),e.context.page=f(e.context.page||{},w()),e},E.prototype.noConflict=function(){return window.analytics=i,this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(e,t,n){var i=e("indexof");function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}t.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},t._off=i,this.on(e,i),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var o=i(n,t._off||t);return~o&&n.splice(o,1),this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:30}],30:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],9:[function(e,t,n){var i=e("./facade");t.exports=i,i.Alias=e("./alias"),i.Group=e("./group"),i.Identify=e("./identify"),i.Track=e("./track"),i.Page=e("./page"),i.Screen=e("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(e,t,n){var i=e("isodate-traverse"),o=e("./is-enabled"),a=e("./utils").clone,r=e("./utils").type,s=e("./address"),l=e("obj-case"),c=e("new-date");function d(e){(e=a(e)).hasOwnProperty("timestamp")?e.timestamp=c(e.timestamp):e.timestamp=new Date,i(e),this.obj=e}function u(e){return a(e)}t.exports=d,s(d.prototype),d.prototype.proxy=function(e){var t=e.split("."),n=this[e=t.shift()]||this.field(e);return n?("function"==typeof n&&(n=n.call(this)||{}),0===t.length?u(n):u(n=l(n,t.join(".")))):n},d.prototype.field=function(e){return u(this.obj[e])},d.proxy=function(e){return function(){return this.proxy(e)}},d.field=function(e){return function(){return this.field(e)}},d.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"==r(t))return t;var n=this.proxy(e);return n&&(n=[a(n)]),n||[]}},d.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");return"array"==r(n)?n[0]:void 0}},d.prototype.json=function(){var e=a(this.obj);return this.type&&(e.type=this.type()),e},d.prototype.context=d.prototype.options=function(e){var t=a(this.obj.options||this.obj.context)||{};if(!e)return a(t);if(this.enabled(e)){var n=this.integrations(),i=n[e]||l(n,e);return"boolean"==typeof i&&(i={}),i||{}}},d.prototype.enabled=function(e){var t=this.proxy("options.providers.all");"boolean"!=typeof t&&(t=this.proxy("options.all")),"boolean"!=typeof t&&(t=this.proxy("integrations.all")),"boolean"!=typeof t&&(t=!0);var n=t&&o(e),i=this.integrations();if(i.providers&&i.providers.hasOwnProperty(e)&&(n=i.providers[e]),i.hasOwnProperty(e)){var a=i[e];n="boolean"!=typeof a||a}return!!n},d.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},d.prototype.active=function(){var e=this.proxy("options.active");return null!==e&&void 0!==e||(e=!0),e},d.prototype.sessionId=d.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},d.prototype.groupId=d.proxy("options.groupId"),d.prototype.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("options.traits."+i):this[i]();null!=o&&(t[e[i]]=o,delete t[i])}return t},d.prototype.library=function(){var e=this.proxy("options.library");return e?"string"==typeof e?{name:e,version:null}:e:{name:"unknown",version:null}},d.prototype.userId=d.field("userId"),d.prototype.channel=d.field("channel"),d.prototype.timestamp=d.field("timestamp"),d.prototype.userAgent=d.proxy("options.userAgent"),d.prototype.ip=d.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(e,t,n){var i,o=e("is"),a=e("isodate");try{i=e("each")}catch(t){i=e("each-component")}t.exports=function e(t,n){return void 0===n&&(n=!0),o.object(t)?function(t,n){return i(t,function(i,r){a.is(r,n)?t[i]=a.parse(r):(o.object(r)||o.array(r))&&e(r,n)}),t}(t,n):o.array(t)?function(t,n){return i(t,function(i,r){o.object(i)?e(i,n):a.is(i,n)&&(t[r]=a.parse(i))}),t}(t,n):t}},{is:44,isodate:45,each:4}],44:[function(e,t,n){var i=e("is-empty");try{var o=e("type")}catch(t){o=e("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(e){return function(t){return e===o(t)}}n.fn=n.function,n.empty=i,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],46:[function(e,t,n){t.exports=function(e){if(null==e)return!0;if("number"==typeof e)return 0===e;if(void 0!==e.length)return 0===e.length;for(var t in e)if(i.call(e,t))return!1;return!0};var i=Object.prototype.hasOwnProperty},{}],47:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":_typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},{}],45:[function(e,t,n){var i=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12],n=i.exec(e),o=0;if(!n)return new Date(e);for(var a,r=0;a=t[r];r++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "==n[4]?o=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(o=60*n[11]+n[12],"+"==n[10]&&(o=0-o));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+o,n[7],n[8]);return new Date(s)},n.is=function(e,t){return(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&i.test(e)}},{}],4:[function(e,t,n){var i=e("type"),o=Object.prototype.hasOwnProperty;function a(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}t.exports=function(e,t){switch(i(e)){case"array":return a(e,t);case"object":return"number"==typeof e.length?a(e,t):function(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}(e,t);case"string":return function(e,t){for(var n=0;n<e.length;++n)t(e.charAt(n),n)}(e,t)}}},{type:47}],39:[function(e,t,n){var i={Salesforce:!0};t.exports=function(e){return!i[e]}},{}],40:[function(e,t,n){try{n.inherit=e("inherit"),n.clone=e("clone"),n.type=e("type")}catch(t){n.inherit=e("inherit-component"),n.clone=e("clone-component"),n.type=e("type-component")}},{inherit:48,clone:49,type:47}],48:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],49:[function(e,t,n){var i;try{i=e("component-type")}catch(t){i=e("type")}t.exports=function e(t){switch(i(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":n=new Array(t.length);for(var a=0,r=t.length;a<r;a++)n[a]=e(t[a]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{"component-type":47,type:47}],41:[function(e,t,n){var i=e("obj-case");t.exports=function(e){function t(e,t){return function(){var n=this.traits(),o=this.properties?this.properties():{};return i(n,"address."+e)||i(n,e)||(t?i(n,"address."+t):null)||(t?i(n,t):null)||i(o,"address."+e)||i(o,e)||(t?i(o,"address."+t):null)||(t?i(o,t):null)}}e.zip=t("postalCode","zip"),e.country=t("country"),e.street=t("street"),e.state=t("state"),e.city=t("city")}},{"obj-case":42}],42:[function(e,t,n){function i(e){return function(t,n,i,o){var a,s=o&&"function"==typeof o.normalizer?o.normalizer:r;n=s(n);for(var l=!1;!l;)c();function c(){for(a in t){var e=s(a);if(0===n.indexOf(e)){var i=n.substr(e.length);if("."===i.charAt(0)||0===i.length){n=i.substr(1);var o=t[a];return null==o?void(l=!0):n.length?void(t=o):void(l=!0)}}}a=void 0,l=!0}if(a)return null==t?t:e(t,a,i)}}function o(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function a(e,t,n){return e.hasOwnProperty(t)&&(e[t]=n),e}function r(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=i(function(e,t){if(e.hasOwnProperty(t))return e[t]}),t.exports.find=t.exports,t.exports.replace=function(e,t,n,o){return i(a).call(this,e,t,n,o),e},t.exports.del=function(e,t,n){return i(o).call(this,e,t,null,n),e}},{}],43:[function(e,t,n){var i=e("is"),o=e("isodate"),a=e("./milliseconds"),r=e("./seconds");t.exports=function(e){return i.date(e)?e:i.number(e)?new Date((t=e)<315576e5?1e3*t:t):o.is(e)?o.parse(e):a.is(e)?a.parse(e):r.is(e)?r.parse(e):new Date(e);var t}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(e,t,n){for(var i,o=e("is-empty"),a=e("type"),r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;i=r[s];s++)n[i]=l(i);function l(e){return function(t){return e===a(t)}}n.fn=n.function,n.empty=o,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47}],51:[function(e,t,n){var i=/\d{13}/;n.is=function(e){return i.test(e)},n.parse=function(e){return e=parseInt(e,10),new Date(e)}},{}],52:[function(e,t,n){var i=/\d{10}/;n.is=function(e){return i.test(e)},n.parse=function(e){var t=1e3*parseInt(e,10);return new Date(t)}},{}],32:[function(e,t,n){var i=e("./utils").inherit,o=e("./facade");function a(e){o.call(this,e)}t.exports=a,i(a,o),a.prototype.type=a.prototype.action=function(){return"alias"},a.prototype.from=a.prototype.previousId=function(){return this.field("previousId")||this.field("from")},a.prototype.to=a.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(e,t,n){var i=e("./utils").inherit,o=(e("./address"),e("is-email")),a=e("new-date"),r=e("./facade");function s(e){r.call(this,e)}t.exports=s,i(s,r),s.prototype.type=s.prototype.action=function(){return"group"},s.prototype.groupId=r.field("groupId"),s.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return a(e)},s.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();return o(t)?t:void 0},s.prototype.traits=function(e){var t=this.properties(),n=this.groupId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("traits."+i):this[i]();null!=o&&(t[e[i]]=o,delete t[i])}return t},s.prototype.name=r.proxy("traits.name"),s.prototype.industry=r.proxy("traits.industry"),s.prototype.employees=r.proxy("traits.employees"),s.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(e,t,n){t.exports=function(e){return i.test(e)};var i=/.+\@.+\..+/},{}],34:[function(e,t,n){e("./address");var i=e("./facade"),o=e("is-email"),a=e("new-date"),r=e("./utils"),s=e("obj-case"),l=e("trim"),c=r.inherit,d=(r.clone,r.type);function u(e){i.call(this,e)}t.exports=u,c(u,i),u.prototype.type=u.prototype.action=function(){return"identify"},u.prototype.traits=function(e){var t=this.field("traits")||{},n=this.userId();for(var i in e=e||{},n&&(t.id=n),e){var o=null==this[i]?this.proxy("traits."+i):this[i]();null!=o&&(t[e[i]]=o,i!==e[i]&&delete t[i])}return t},u.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();return o(t)?t:void 0},u.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return a(e)},u.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return a(e)},u.prototype.name=function(){var e=this.proxy("traits.name");if("string"==typeof e)return l(e);var t=this.firstName(),n=this.lastName();return t&&n?l(t+" "+n):void 0},u.prototype.firstName=function(){var e=this.proxy("traits.firstName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");return"string"==typeof t?l(t).split(" ")[0]:void 0},u.prototype.lastName=function(){var e=this.proxy("traits.lastName");if("string"==typeof e)return l(e);var t=this.proxy("traits.name");if("string"==typeof t){var n=l(t).indexOf(" ");if(-1!==n)return l(t.substr(n+1))}},u.prototype.uid=function(){return this.userId()||this.username()||this.email()},u.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},u.prototype.age=function(){var e=this.birthday(),t=s(this.traits(),"age");return null!=t?t:"date"==d(e)?(new Date).getFullYear()-e.getFullYear():void 0},u.prototype.avatar=function(){var e=this.traits();return s(e,"avatar")||s(e,"photoUrl")||s(e,"avatarUrl")},u.prototype.position=function(){var e=this.traits();return s(e,"position")||s(e,"jobTitle")},u.prototype.username=i.proxy("traits.username"),u.prototype.website=i.one("traits.website"),u.prototype.websites=i.multi("traits.website"),u.prototype.phone=i.one("traits.phone"),u.prototype.phones=i.multi("traits.phone"),u.prototype.address=i.proxy("traits.address"),u.prototype.gender=i.proxy("traits.gender"),u.prototype.birthday=i.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(e,t,n){(n=t.exports=function(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.trimLeft?e.trimLeft():e.replace(/^\s*/,"")},n.right=function(e){return e.trimRight?e.trimRight():e.replace(/\s*$/,"")}},{}],35:[function(e,t,n){var i=e("./utils").inherit,o=(e("./utils").clone,e("./utils").type),a=e("./facade"),r=e("./identify"),s=e("is-email"),l=e("obj-case");function c(e){a.call(this,e)}t.exports=c,i(c,a),c.prototype.type=c.prototype.action=function(){return"track"},c.prototype.event=a.field("event"),c.prototype.value=a.proxy("properties.value"),c.prototype.category=a.proxy("properties.category"),c.prototype.id=a.proxy("properties.id"),c.prototype.sku=a.proxy("properties.sku"),c.prototype.tax=a.proxy("properties.tax"),c.prototype.name=a.proxy("properties.name"),c.prototype.price=a.proxy("properties.price"),c.prototype.total=a.proxy("properties.total"),c.prototype.coupon=a.proxy("properties.coupon"),c.prototype.shipping=a.proxy("properties.shipping"),c.prototype.discount=a.proxy("properties.discount"),c.prototype.description=a.proxy("properties.description"),c.prototype.plan=a.proxy("properties.plan"),c.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")},c.prototype.subtotal=function(){var e,t=l(this.properties(),"subtotal"),n=this.total();return t||(n?((e=this.tax())&&(n-=e),(e=this.shipping())&&(n-=e),(e=this.discount())&&(n+=e),n):0)},c.prototype.products=function(){var e=this.properties(),t=l(e,"products");return"array"==o(t)?t:[]},c.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},c.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},c.prototype.referrer=a.proxy("properties.referrer"),c.prototype.query=a.proxy("options.query"),c.prototype.properties=function(e){var t=this.field("properties")||{};for(var n in e=e||{}){var i=null==this[n]?this.proxy("properties."+n):this[n]();null!=i&&(t[e[n]]=i,delete t[n])}return t},c.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},c.prototype.email=function(){var e=this.proxy("traits.email");if(e=e||this.proxy("properties.email"))return e;var t=this.userId();return s(t)?t:void 0},c.prototype.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event();return!e&&t&&t.match(/completed ?order/i)&&(e=this.proxy("properties.total")),function(e){if(e){if("number"==typeof e)return e;if("string"==typeof e)return e=e.replace(/\$/g,""),e=parseFloat(e),isNaN(e)?void 0:e}}(e)},c.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:100*e},c.prototype.identify=function(){var e=this.json();return e.traits=this.traits(),new r(e)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(e,t,n){var i=e("./utils").inherit,o=e("./facade"),a=e("./track");function r(e){o.call(this,e)}t.exports=r,i(r,o),r.prototype.type=r.prototype.action=function(){return"page"},r.prototype.category=o.field("category"),r.prototype.name=o.field("name"),r.prototype.title=o.proxy("properties.title"),r.prototype.path=o.proxy("properties.path"),r.prototype.url=o.proxy("properties.url"),r.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")},r.prototype.properties=function(){var e=this.field("properties")||{},t=this.category(),n=this.name();return t&&(e.category=t),n&&(e.name=n),e},r.prototype.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t},r.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(e,t,n){var i=e("./utils").inherit,o=e("./page"),a=e("./track");function r(e){o.call(this,e)}t.exports=r,i(r,o),r.prototype.type=r.prototype.action=function(){return"screen"},r.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"},r.prototype.track=function(e){var t=this.properties();return new a({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./page":36,"./track":35}],10:[function(e,t,n){t.exports=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}}},{}],11:[function(e,t,n){try{var i=e("bind")}catch(t){i=e("bind-component")}var o=e("bind-all");t.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],55:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() _requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],56:[function(e,t,n){try{var i=e("bind"),o=e("type")}catch(t){i=e("bind-component"),o=e("type-component")}t.exports=function(e){for(var t in e){var n=e[t];"function"===o(n)&&(e[t]=i(e,e[t]))}return e}},{bind:55,type:47}],12:[function(e,t,n){var i=e("next-tick");function o(e){"function"==typeof e&&e()}t.exports=o,o.async=function(e,t){if("function"==typeof e)return t?void setTimeout(e,t):i(e)},o.sync=o},{"next-tick":57}],57:[function(e,t,n){if("function"==typeof setImmediate)t.exports=function(e){setImmediate(e)};else if(void 0!==process&&"function"==typeof process.nextTick)t.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)t.exports=function(e){setTimeout(e)};else{var i=[];window.addEventListener("message",function(){for(var e=0;e<i.length;)try{i[e++]()}catch(t){throw i=i.slice(e),window.postMessage("tic!","*"),t}i.length=0},!0),t.exports=function(e){i.length||window.postMessage("tic!","*"),i.push(e)}}},{}],13:[function(e,t,n){var i;try{i=e("type")}catch(t){i=e("type-component")}t.exports=function e(t){switch(i(t)){case"object":var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]));return n;case"array":n=new Array(t.length);for(var a=0,r=t.length;a<r;a++)n[a]=e(t[a]);return n;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{type:47}],14:[function(e,t,n){var i=e("bind"),o=e("clone"),a=e("cookie"),r=e("debug")("analytics.js:cookie"),s=e("defaults"),l=e("json"),c=e("top-domain");function d(e){this.options(e)}d.prototype.options=function(e){if(0===arguments.length)return this._options;e=e||{};var t="."+c(window.location.href);"."===t&&(t=null),this._options=s(e,{maxage:31536e6,path:"/",domain:t}),this.set("ajs:test",!0),this.get("ajs:test")||(r("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},d.prototype.set=function(e,t){try{return t=l.stringify(t),a(e,t,o(this._options)),!0}catch(e){return!1}},d.prototype.get=function(e){try{var t=a(e);return t?l.parse(t):null}catch(e){return null}},d.prototype.remove=function(e){try{return a(e,null,o(this._options)),!0}catch(e){return!1}},t.exports=i.all(new d),t.exports.Cookie=d},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(e,t,n){var i=e("debug")("cookie");function o(){return function(e){var t,n={},i=document.cookie.split(/ *; */);if(""==i[0])return n;for(var o=0;o<i.length;++o)n[r((t=i[o].split("="))[0])]=r(t[1]);return n}()}function a(e){try{return encodeURIComponent(e)}catch(t){i("error `encode(%o)` - %o",e,t)}}function r(e){try{return decodeURIComponent(e)}catch(t){i("error `decode(%o)` - %o",e,t)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var i=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.expires&&(i+="; expires="+n.expires.toUTCString()),n.secure&&(i+="; secure"),document.cookie=i}(e,t,n);case 1:return function(e){return o()[e]}(e);default:return o()}}},{debug:15}],15:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":61,"./debug":62}],61:[function(e,t,n){var i=e("tty");t.exports=function(e){function t(){}t.enabled=!1;var n=a.some(function(t){return t.test(e)});if(n)return t;if(!(n=o.some(function(t){return t.test(e)})))return t;var i=r[l++%r.length];function u(t){t=d(t);var n=new Date,o=n-(s[e]||n);s[e]=n,t="  [9"+i+"m"+e+" [3"+i+"m[90m"+t+"[3"+i+"m +"+function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"}(o)+"[0m",console.error.apply(this,arguments)}function f(t){t=d(t),t=(new Date).toUTCString()+" "+e+" "+t,console.error.apply(this,arguments)}return u.enabled=f.enabled=!0,c||process.env.DEBUG_COLORS?u:f};var o=[],a=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?a.push(new RegExp("^"+e.substr(1)+"$")):o.push(new RegExp("^"+e+"$"))});var r=[6,2,3,4,5,1],s={},l=0,c=i.isatty(2);function d(e){return e instanceof Error?e.stack||e.message:e}},{}],62:[function(e,t,n){function i(e){return i.enabled(e)?function(t){var n;t=(n=t)instanceof Error?n.stack||n.message:n;var o=new Date,a=o-(i[e]||o);i[e]=o,t=e+" "+t+" +"+i.humanize(a),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}t.exports=i,i.names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],16:[function(e,t,n){t.exports=function e(t,n,i){for(var o in n)i&&t[o]instanceof Object&&n[o]instanceof Object?t[o]=e(t[o],n[o],!0):o in t||(t[o]=n[o]);return t}},{}],59:[function(e,t,n){var i=window.JSON||{},o=i.stringify,a=i.parse;t.exports=a&&o?JSON:e("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){!function(){var JSON=module.exports={},cx,escapable,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,a,r,s=gap,l=t[e];switch(l&&"object"===_typeof(l)&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)r[n]=str(n,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,o}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(o=str(i=rep[n],l))&&r.push(quote(i)+(gap?": ":":")+o);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l))&&r.push(quote(i)+(gap?": ":":")+o);return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,o=e[t];if(o&&"object"===_typeof(o))for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=walk(o,n))?o[n]=i:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],60:[function(e,t,n){var i=e("url").parse,o=e("cookie");function a(e){for(var t=n.cookie,i=n.levels(e),o=0;o<i.length;++o){var a=i[o],r={domain:"."+a};if(t("__tld__",1,r),t("__tld__"))return t("__tld__",null,r),a}return""}(n=t.exports=a).cookie=o,a.levels=function(e){var t=i(e).hostname.split("."),n=t[t.length-1],o=[];if(4==t.length&&parseInt(n,10)==n)return o;if(1>=t.length)return o;for(var a=t.length-2;0<=a;--a)o.push(t.slice(a).join("."));return o}},{url:64,cookie:65}],64:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(t.protocol){case"http:":return 80;case"https:":return 443;default:return location.port}}():t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],65:[function(e,t,n){var i=e("debug")("cookie");function o(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,n={},i=e.split(/ *; */);if(""==i[0])return n;for(var o=0;o<i.length;++o)n[r((t=i[o].split("="))[0])]=r(t[1]);return n}(e)}function a(e){try{return encodeURIComponent(e)}catch(t){i("error `encode(%o)` - %o",e,t)}}function r(e){try{return decodeURIComponent(e)}catch(t){i("error `decode(%o)` - %o",e,t)}}t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return function(e,t,n){n=n||{};var i=a(e)+"="+a(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.expires&&(i+="; expires="+n.expires.toUTCString()),n.secure&&(i+="; secure"),document.cookie=i}(e,t,n);case 1:return function(e){return o()[e]}(e);default:return o()}}},{debug:15}],17:[function(e,t,n){var i=e("./entity"),o=e("bind"),a=e("debug")("analytics:group"),r=e("inherit");function s(e){this.defaults=s.defaults,this.debug=a,i.call(this,e)}s.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},r(s,i),t.exports=o.all(new s),t.exports.Group=s},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(e,t,n){var i=e("clone"),o=e("./cookie"),a=e("debug")("analytics:entity"),r=e("defaults"),s=e("extend"),l=e("./memory"),c=e("./store"),d=e("isodate-traverse");function u(e){this.options(e),this.initialize()}t.exports=u,u.prototype.initialize=function(){if(o.set("ajs:cookies",!0),o.get("ajs:cookies"))return o.remove("ajs:cookies"),void(this._storage=o);c.enabled?this._storage=c:(a("warning using memory store both cookies and localStorage are disabled"),this._storage=l)},u.prototype.storage=function(){return this._storage},u.prototype.options=function(e){if(0===arguments.length)return this._options;this._options=r(e||{},this.defaults||{})},u.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e)}},u.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===e?null:e},u.prototype._setId=function(e){this._options.persist?this.storage().set(this._options.cookie.key,e):this._id=e},u.prototype.properties=u.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e)}},u.prototype._getTraits=function(){var e=this._options.persist?c.get(this._options.localStorage.key):this._traits;return e?d(i(e)):{}},u.prototype._setTraits=function(e){e=e||{},this._options.persist?c.set(this._options.localStorage.key,e):this._traits=e},u.prototype.identify=function(e,t){t=t||{};var n=this.id();null!==n&&n!==e||(t=s(this.traits(),t)),e&&this.id(e),this.debug("identify %o, %o",e,t),this.traits(t),this.save()},u.prototype.save=function(){return!!this._options.persist&&(o.set(this._options.cookie.key,this.id()),c.set(this._options.localStorage.key,this.traits()),!0)},u.prototype.logout=function(){this.id(null),this.traits({}),o.remove(this._options.cookie.key),c.remove(this._options.localStorage.key)},u.prototype.reset=function(){this.logout(),this.options({})},u.prototype.load=function(){this.id(o.get(this._options.cookie.key)),this.traits(c.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var o in t)e[o]=t[o];return e}},{}],21:[function(e,t,n){var i=e("bind"),o=e("clone"),a=Object.prototype.hasOwnProperty;function r(){this.store={}}t.exports=i.all(new r),r.prototype.set=function(e,t){return this.store[e]=o(t),!0},r.prototype.get=function(e){if(a.call(this.store,e))return o(this.store[e])},r.prototype.remove=function(e){return delete this.store[e],!0}},{bind:11,clone:13}],28:[function(e,t,n){var i=e("bind"),o=e("defaults"),a=e("store.js");function r(e){this.options(e)}r.prototype.options=function(e){if(0===arguments.length)return this._options;o(e=e||{},{enabled:!0}),this.enabled=e.enabled&&a.enabled,this._options=e},r.prototype.set=function(e,t){return!!this.enabled&&a.set(e,t)},r.prototype.get=function(e){return this.enabled?a.get(e):null},r.prototype.remove=function(e){return!!this.enabled&&a.remove(e)},t.exports=i.all(new r),t.exports.Store=r},{bind:11,defaults:16,"store.js":69}],69:[function(e,t,n){var i,o=e("json"),a={},r=window,s=r.document,l="localStorage";if(a.disabled=!1,a.set=function(e,t){},a.get=function(e){},a.remove=function(e){},a.clear=function(){},a.transact=function(e,t,n){var i=a.get(e);null==n&&(n=t,t=null),void 0===i&&(i=t||{}),n(i),a.set(e,i)},a.getAll=function(){},a.serialize=function(e){return o.stringify(e)},a.deserialize=function(e){if("string"==typeof e)try{return o.parse(e)}catch(t){return e||void 0}},function(){try{return l in r&&r[l]}catch(e){return!1}}())i=r[l],a.set=function(e,t){return void 0===t?a.remove(e):(i.setItem(e,a.serialize(t)),t)},a.get=function(e){return a.deserialize(i.getItem(e))},a.remove=function(e){i.removeItem(e)},a.clear=function(){i.clear()},a.getAll=function(){for(var e={},t=0;t<i.length;++t){var n=i.key(t);e[n]=a.get(n)}return e};else if(s.documentElement.addBehavior){var c,d,u=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),c.appendChild(i),i.addBehavior("#default#userData"),i.load(l);var n=e.apply(a,t);return c.removeChild(i),n}},f=function(e){return e.replace(p,"___")};try{(d=new ActiveXObject("htmlfile")).open(),d.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),d.close(),c=d.w.frames[0].document,i=c.createElement("div")}catch(e){i=s.createElement("div"),c=s.body}var p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=u(function(e,t,n){return t=f(t),void 0===n?a.remove(t):(e.setAttribute(t,a.serialize(n)),e.save(l),n)}),a.get=u(function(e,t){return t=f(t),a.deserialize(e.getAttribute(t))}),a.remove=u(function(e,t){t=f(t),e.removeAttribute(t),e.save(l)}),a.clear=u(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(l)}),a.getAll=u(function(e){for(var t,n=e.XMLDocument.documentElement.attributes,i={},o=0;t=n[o];++o){var r=f(t.name);i[t.name]=a.deserialize(e.getAttribute(r))}return i})}try{a.set("__storejs__","__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(e){a.disabled=!0}a.enabled=!a.disabled,t.exports=a},{json:59}],67:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],18:[function(e,t,n){var i=e("is-empty");try{var o=e("type")}catch(t){o=e("component-type")}for(var a,r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],s=0;a=r[s];s++)n[a]=l(a);function l(e){return function(t){return e===o(t)}}n.fn=n.function,n.empty=i,n.nan=function(e){return n.number(e)&&e!=e}},{"is-empty":46,type:47,"component-type":47}],19:[function(e,t,n){t.exports=function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,n=e.button;return t||void 0===n?2===t:1&!n&&2&!n&&4&n}},{}],20:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],22:[function(e,t,n){var i=e("debug")("analytics.js:normalize"),o=e("defaults"),a=e("each"),r=e("includes"),s=e("is"),l=e("component/map"),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=l(t,function(e){return e.toLowerCase()}),u=e.options||{},f=u.integrations||{},p=u.providers||{},h=u.context||{},m={};return i("<-",e),a(u,function(e,t){v(e)&&(c.call(f,e)||(f[e]=t),delete u[e])}),delete u.providers,a(p,function(e,t){v(e)&&(s.object(f[e])||c.call(f,e)&&"boolean"==typeof p[e]||(f[e]=t))}),a(u,function(e){r(e,d)?m[e]=u[e]:h[e]=u[e]}),delete e.options,m.integrations=f,m.context=h,m=o(m,e),i("->",m),m;function v(e){return!(!r(e,t)&&"all"!==e.toLowerCase()&&!r(e.toLowerCase(),n))}};var d=["integrations","anonymousId","timestamp","context"]},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(e,t,n){var i;try{i=e("@ndhoule/each")}catch(t){i=e("each")}var o=String.prototype.indexOf;t.exports=function(e,t){var n=!1;return"string"==typeof t?-1!==o.call(t,e):(i(function(t){if((i=t)===(o=e)?0!==i||1/i==1/o:i!=i&&o!=o)return n=!0,!1;var i,o},t),n)}},{each:72}],72:[function(e,t,n){var i;try{i=e("@ndhoule/keys")}catch(t){i=e("keys")}var o=Object.prototype.toString,a="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===o.call(e)};t.exports=function(e,t){return(function(e){return null!=e&&(a(e)||"function"!==e&&function(e){var t=_typeof(e);return"number"===t||"object"===t&&"[object Number]"===o.call(e)}(e.length))}(t)?function(e,t){for(var n=0;n<t.length&&!1!==e(t[n],n,t);n+=1);}:function(e,t){for(var n=i(t),o=0;o<n.length&&!1!==e(t[n[o]],n[o],t);o+=1);}).call(this,e,t)}},{keys:73}],73:[function(e,t,n){var i=String.prototype.charAt,o=function(e,t){return i.call(e,t)},a=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=function(e,t){return a.call(e,t)},l=function(e,t){t=t||s;for(var n=[],i=0,o=e.length;i<o;i+=1)t(e,i)&&n.push(String(i));return n};t.exports=function(e){return null==e?[]:(t=e,"[object String]"===r.call(t)?l(e,o):function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}(e)?l(e,s):function(e,t){t=t||s;var n=[];for(var i in e)t(e,i)&&n.push(String(i));return n}(e));var t}},{}],71:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)n.push(t(e[o],o));return n}},{"to-function":74}],74:[function(e,t,n){var i;try{i=e("props")}catch(t){i=e("component-props")}function o(e){return function(t){return e===t}}function a(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),function(e,t){return t?e:n})}t.exports=function e(t){switch({}.toString.call(t)){case"[object Object]":return function(t){var n={};for(var i in t)n[i]="string"==typeof t[i]?o(t[i]):e(t[i]);return function(e){if("object"!==_typeof(e))return!1;for(var t in n){if(!(t in e))return!1;if(!n[t](e[t]))return!1}return!0}}(t);case"[object Function]":return t;case"[object String]":return/^ *\W+/.test(r=t)?new Function("_","return _ "+r):new Function("_","return "+function(e){var t,n,o,r=i(e);if(!r.length)return"_."+e;for(n=0;n<r.length;n++)e=a(o=r[n],e,t="('function' == typeof "+(t="_."+o)+" ? "+t+"() : "+t+")");return e}(r));case"[object RegExp]":return n=t,function(e){return n.test(e)};default:return o(t)}var n,r}},{props:75,"component-props":75}],75:[function(e,t,n){var i=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n=function(e){for(var t=[],n=0;n<e.length;n++)~t.indexOf(e[n])||t.push(e[n]);return t}(function(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(i,"").match(/[$a-zA-Z_]\w*/g)||[]}(e));return t&&"string"==typeof t&&(t=function(e){return function(t){return e+t}}(t)),t?function(e,t,n){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(e){return"("==e[e.length-1]?n(e):~t.indexOf(e)?n(e):e})}(e,n,t):n}},{}],23:[function(e,t,n){n.bind=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent("on"+t,n),n},n.unbind=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent("on"+t,n),n}},{}],24:[function(e,t,n){var i=e("canonical"),o=e("includes"),a=e("url");t.exports=function(){return{path:(e=i(),e?a.parse(e).pathname:window.location.pathname),referrer:document.referrer,search:location.search,title:document.title,url:function(e){var t=i();if(t)return o("?",t)?t:t+e;var n=window.location.href,a=n.indexOf("#");return-1===a?n:n.slice(0,a)}(location.search)};var e}},{canonical:76,includes:70,url:77}],76:[function(e,t,n){t.exports=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"==e.getAttribute("rel"))return e.getAttribute("href")}},{}],77:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?function(e){switch(t.protocol){case"http:":return 80;case"https:":return 443;default:return location.port}}():t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:"/"!=t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!=t.protocol?t.protocol:location.protocol,search:t.search,query:t.search.slice(1)}},n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},n.isRelative=function(e){return!n.isAbsolute(e)},n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol}},{}],25:[function(e,t,n){var i=Object.prototype.toString,o=function(e){return"string"==typeof e||"[object String]"===i.call(e)};t.exports=function(e,t){if(null==t||null==t||"object"!==_typeof(t))return{};o(e)&&(e=[e]),function(e){return"[object Array]"===i.call(e)}(e)||(e=[]);for(var n={},a=0;a<e.length;a+=1)o(e[a])&&e[a]in t&&(n[e[a]]=t[e[a]]);return n}},{}],26:[function(e,t,n){t.exports=function(e){return(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}},{}],27:[function(e,t,n){var i=e("trim"),o=e("type"),a=/(\w+)\[(\d+)\]/,r=function(e){try{return encodeURIComponent(e)}catch(t){return e}},s=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}};n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=i(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),o=0;o<n.length;o++){var r,l=n[o].split("="),c=s(l[0]);(r=a.exec(c))?(t[r[1]]=t[r[1]]||[],t[r[1]][r[2]]=s(l[1])):t[l[0]]=null==l[1]?"":s(l[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var i=e[n];if("array"!=o(i))t.push(r(n)+"="+r(e[n]));else for(var a=0;a<i.length;++a)t.push(r(n+"["+a+"]")+"="+r(i[a]))}return t.join("&")}},{trim:54,type:47}],29:[function(e,t,n){var i=e("./entity"),o=e("bind"),a=e("./cookie"),r=e("debug")("analytics:user"),s=e("inherit"),l=e("cookie"),c=e("uuid");function d(e){this.defaults=d.defaults,this.debug=r,i.call(this,e)}d.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},s(d,i),d.prototype.id=function(e){var t=this._getId(),n=i.prototype.id.apply(this,arguments);return null==t?n:(t!=e&&e&&this.anonymousId(null),n)},d.prototype.anonymousId=function(e){var t=this.storage();return arguments.length?(t.set("ajs_anonymous_id",e),this):(e=t.get("ajs_anonymous_id"))?e:(e=l("_sio"))?(e=e.split("----")[0],t.set("ajs_anonymous_id",e),t.remove("_sio"),e):(e=c(),t.set("ajs_anonymous_id",e),t.get("ajs_anonymous_id"))},d.prototype.logout=function(){i.prototype.logout.call(this),this.anonymousId(null)},d.prototype.load=function(){this._loadOldCookie()||i.prototype.load.call(this)},d.prototype._loadOldCookie=function(){var e=a.get(this._options.cookie.oldKey);return!!e&&(this.id(e.id),this.traits(e.traits),a.remove(this._options.cookie.oldKey),!0)},t.exports=o.all(new d),t.exports.User=d},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(e,t,n){t.exports=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},{}],7:[function(e,t,n){t.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(e,t,n){t.exports={amplitude:e("analytics.js-integration-amplitude"),segmentio:e("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(e,t,n){var i=e("bind"),o=e("clone"),a=e("debug"),r=e("defaults"),s=e("extend"),l=e("slug"),c=e("./protos"),d=e("./statics");t.exports=function(e){function t(n){if(n&&n.addIntegration)return n.addIntegration(t);this.debug=a("analytics:integration:"+l(e)),this.options=r(o(n)||{},this.defaults),this._queue=[],this.once("ready",i(this,this.flush)),t.emit("construct",this),this.ready=i(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return t.prototype.defaults={},t.prototype.globals=[],t.prototype.templates={},t.prototype.name=e,s(t,d),s(t.prototype,c),t}},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(e,t,n){var i=e("bind"),o=e("bind-all");t.exports=n=i,n.all=o,n.methods=function(e,t){t=[].slice.call(arguments,1);for(var n,o=0;n=t[o];o++)e[n]=i(e,e[n]);return e}},{bind:55,"bind-all":56}],170:[function(e,t,n){"undefined"==typeof window?t.exports=e("./lib/debug"):t.exports=e("./debug")},{"./lib/debug":175,"./debug":176}],175:[function(e,t,n){var i=e("tty");t.exports=function(e){function t(){}t.enabled=!1;var n=a.some(function(t){return t.test(e)});if(n)return t;if(!(n=o.some(function(t){return t.test(e)})))return t;var i=r[l++%r.length];function u(t){t=d(t);var n=new Date,o=n-(s[e]||n);s[e]=n,t="  [9"+i+"m"+e+" [3"+i+"m[90m"+t+"[3"+i+"m +"+function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"}(o)+"[0m",console.error.apply(this,arguments)}function f(t){t=d(t),t=(new Date).toUTCString()+" "+e+" "+t,console.error.apply(this,arguments)}return u.enabled=f.enabled=!0,c||process.env.DEBUG_COLORS?u:f};var o=[],a=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(e){"-"===(e=e.replace("*",".*?"))[0]?a.push(new RegExp("^"+e.substr(1)+"$")):o.push(new RegExp("^"+e+"$"))});var r=[6,2,3,4,5,1],s={},l=0,c=i.isatty(2);function d(e){return e instanceof Error?e.stack||e.message:e}},{}],176:[function(e,t,n){function i(e){return i.enabled(e)?function(t){var n;t=(n=t)instanceof Error?n.stack||n.message:n;var o=new Date,a=o-(i[e]||o);i[e]=o,t=e+" "+t+" +"+i.humanize(a),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}t.exports=i,i.names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)"-"===(e=t[o].replace("*",".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],171:[function(e,t,n){t.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var o in t)e[o]=t[o];return e}},{}],172:[function(e,t,n){t.exports=function(e,t){return t||(t={}),e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],173:[function(e,t,n){var i=e("emitter"),o=e("after"),a=e("each"),r=e("analytics-events"),s=e("fmt"),l=e("foldl"),c=e("load-iframe"),d=e("load-script"),u=e("to-no-case"),f=e("next-tick"),p=e("type");function h(){}var m=Object.prototype.hasOwnProperty,v=window.onerror,g=window.setInterval,_=window.setTimeout;i(n),n.initialize=function(){var e=this.ready;f(e)},n.loaded=function(){return!1},n.page=function(e){},n.track=function(e){},n.map=function(e,t){var n=u(t);return l(function(e,t,i,o){if("array"===p(o)){if(!t.key)return e;i=t.key,t=t.value}return u(i)===n&&e.push(t),e},[],e)},n.invoke=function(e){if(this[e]){var t,n=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(e,n);try{this.debug("%s with %o",e,n),t=this[e].apply(this,n)}catch(t){this.debug("error %o calling %s with %o",t,e,n)}return t}},n.queue=function(e,t){if("page"===e&&this._assumesPageview&&!this._initialized)return this.page.apply(this,t);this._queue.push({method:e,args:t})},n.flush=function(){this._ready=!0;var e=this;a(this._queue,function(t){e[t.method].apply(e,t.args)}),this._queue.length=0},n.reset=function(){for(var e=0;e<this.globals.length;e++)window[this.globals[e]]=void 0;window.setTimeout=_,window.setInterval=g,window.onerror=v,window.onload=null},n.load=function(e,t,n){"function"==typeof e&&(n=e,t=null,e=null),e&&"object"===_typeof(e)&&(n=t,t=e,e=null),"function"==typeof t&&(n=t,t=null),e=e||"library",t=t||{},t=this.locals(t);var i=this.templates[e];if(!i)throw new Error(s('template "%s" not defined.',e));var o=function(e,t){return l(function(e,n,i){return e[i]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,function(e,n){return t[n]}),e},{},i.attrs)}(0,t);n=n||h;var r,u=this;switch(i.type){case"img":o.width=1,o.height=1,r=function(e,t){t=t||function(){};var n=new Image;return n.onerror=function(e,t,n){return function(t){t=t||window.event;var i=new Error("failed to load pixel");i.event=t,i.source=n,e(i)}}(t,0,n),n.onload=function(){t()},n.src=e.src,n.width=1,n.height=1,n}(o,n);break;case"script":r=d(o,function(e){if(!e)return n();u.debug('error loading "%s" error="%s"',u.name,e)}),delete o.src,a(o,function(e,t){r.setAttribute(e,t)});break;case"iframe":r=c(o,n)}return r},n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);return e.hasOwnProperty("cache")||(e.cache=t),a(this.options,function(t,n){e.hasOwnProperty(t)||(e[t]=n)}),e},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t},this._assumesPageview&&(this.initialize=o(2,this.initialize))},n._wrapPage=function(){var e=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):e.apply(this,arguments)}},n._wrapTrack=function(){var e=this.track;this.track=function(t){var n,i,o=t.event();for(var a in r)if(m.call(r,a)){var s=r[a];if(!this[a])continue;if(!s.test(o))continue;i=this[a].apply(this,arguments),n=!0;break}return n||(i=e.apply(this,arguments)),i}}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(e,t,n){try{var i=e("type")}catch(t){i=e("component-type")}var o=e("to-function"),a=Object.prototype.hasOwnProperty;function r(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e[i],i)}t.exports=function(e,t,n){switch(t=o(t),n=n||this,i(e)){case"array":return r(e,t,n);case"object":return"number"==typeof e.length?r(e,t,n):function(e,t,n){for(var i in e)a.call(e,i)&&t.call(n,i,e[i])}(e,t,n);case"string":return function(e,t,n){for(var i=0;i<e.length;++i)t.call(n,e.charAt(i),i)}(e,t,n)}}},{type:184,"component-type":184,"to-function":74}],184:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){switch(i.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":_typeof(e)}},{}],178:[function(e,t,n){t.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(e,t,n){var i=window.JSON?JSON.stringify:function(e){return String(e)};function o(e){var t=[].slice.call(arguments,1),n=0;return e.replace(/%([a-z])/gi,function(e,i){return o[i]?o[i](t[n++]):e+i})}t.exports=o,o.o=i,o.s=String,o.d=parseInt},{}],180:[function(e,t,n){var i;try{i=e("@ndhoule/each")}catch(t){i=e("each")}t.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function but received a "+_typeof(e));return i(function(n,i,o){t=e(t,n,i,o)},n),t}},{each:72}],181:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("iframe");return r.src=e.src,r.width=e.width||1,r.height=e.height||1,r.style.display="none","function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],185:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?function(e,t){e.addEventListener("load",function(e,n){t(null,n)},!1),e.addEventListener("error",function(n){var i=new Error('script error "'+e.src+'"');i.event=n,t(i)},!1)}(e,t):function(e,t){e.attachEvent("onreadystatechange",function(n){/complete|loaded/.test(e.readyState)&&t(null,n)}),e.attachEvent("onerror",function(n){var i=new Error('failed to load the script "'+e.src+'"');i.event=n||window.event,t(i)})}(e,t)}},{}],182:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e.src,"function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],183:[function(e,t,n){t.exports=function(e){return i.test(e)?e.toLowerCase():o.test(e)?function(e){return e.replace(a,function(e,t){return t?" "+t:""})}(e).toLowerCase():function(e){return e.replace(r,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}(e).toLowerCase()};var i=/\s/,o=/[\W_]/,a=/[\W_]+(.|$)/g,r=/(.)([A-Z]+)/g},{}],174:[function(e,t,n){var i=e("emitter"),o=e("domify"),a=e("each"),r=e("includes");i(n),n.option=function(e,t){return this.prototype.defaults[e]=t,this},n.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},n.global=function(e){return this.prototype.globals.push(e),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(e,t){return null==t&&(t=e,e="library"),this.prototype.templates[e]=function(e){e=e.replace(' src="',' data-src="');var t=o(e),n={};return a(t.attributes,function(t){var i="data-src"===t.name?"src":t.name;r(t.name+"=",e)&&(n[i]=t.value)}),{type:t.tagName.toLowerCase(),attrs:n}}(t),this}},{emitter:8,domify:186,each:177,includes:70}],186:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var r=a[i]||a._default,s=r[0],l=r[1],c=r[2];for((o=t.createElement("div")).innerHTML=l+e+c;s--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var d=t.createDocumentFragment();o.firstChild;)d.appendChild(o.removeChild(o.firstChild));return d};var i=document.createElement("div");i.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var o=!i.getElementsByTagName("link").length;i=void 0;var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],167:[function(e,t,n){var i=e("to-space-case");t.exports=function(e){return i(e).replace(/\s/g,"_")}},{"to-space-case":187}],187:[function(e,t,n){var i=e("to-no-case");t.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""})}},{"to-no-case":188}],188:[function(e,t,n){t.exports=function(e){return i.test(e)?e.toLowerCase():(a.test(e)&&(e=function(e){return e.replace(r,function(e,t){return t?" "+t:""})}(e)),o.test(e)&&(e=function(e){return e.replace(s,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}(e)),e.toLowerCase())};var i=/\s/,o=/[a-z][A-Z]/,a=/[\W_]/,r=/[\W_]+(.|$)/g,s=/(.)([A-Z]+)/g},{}],168:[function(e,t,n){function i(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}t.exports=function(e){switch(arguments.length){case 0:return i();case 1:return function(e){return i()?"https:"+e:"http:"+e}(e)}}},{}],82:[function(e,t,n){var i=e("bind"),o=e("analytics.js-integration"),a=e("top-domain"),r=e("when"),s=(e("is"),e("each"),"function"==typeof window.define&&window.define.amd),l="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.js",c=t.exports=o("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",!1).option("trackNamedPages",!0).option("trackCategorizedPages",!0).option("trackUtmProperties",!0).option("trackReferrer",!1).option("batchEvents",!1).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",!1).option("forceHttps",!1).option("trackGclid",!1).option("saveParamsReferrerOncePerSession",!0).option("deviceIdFromUrlParam",!1).option("mapQueryParams",{}).tag('<script src="'+l+'">');c.prototype.initialize=function(){!function(e,t){var n=e.amplitude||{_q:[]};function i(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}for(var o=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset"],r=0;r<a.length;r++)i(o,a[r]);n.Identify=o;for(var s=function(){return this._q=[],this},l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],c=0;c<l.length;c++)i(s,l[c]);n.Revenue=s;var d=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];!function(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<d.length;n++)t(d[n])}(n),e.amplitude=n}(window,document),this.setDomain(window.location.href),window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var e=i(this,this.loaded),t=this.ready;s?window.require([l],function(n){window.amplitude=n,r(e,function(){window.amplitude.runQueuedFunctions(),t()})}):this.load(function(){r(e,function(){window.amplitude.runQueuedFunctions(),t()})})},c.prototype.loaded=function(){return!(!window.amplitude||!window.amplitude.options)},c.prototype.page=function(e){var t=e.category(),n=e.fullName(),i=this.options;i.trackAllPages&&this.track(e.track()),t&&i.trackCategorizedPages&&this.track(e.track(t)),n&&i.trackNamedPages&&this.track(e.track(n))},c.prototype.identify=function(e){var t=e.userId(),n=e.traits();t&&window.amplitude.setUserId(t),n&&window.amplitude.setUserProperties(n)},c.prototype.track=function(e){var t=e.properties(),n=e.event(),i=e.revenue();window.amplitude.logEvent(n,t),i&&window.amplitude.logRevenue(i,t.quantity,t.productId)},c.prototype.setDomain=function(e){var t=a(e);window.amplitude.setDomain(t)},c.prototype.setDeviceId=function(e){e&&window.amplitude.setDeviceId(e)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(e,t,n){var i=e("url").parse;t.exports=function(e){var t=i(e).hostname.match(o);return t?t[0]:""};var o=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i},{url:64}],190:[function(e,t,n){var i=e("script-onload"),o=e("next-tick"),a=e("type");t.exports=function(e,t){if(!e)throw new Error("Cant load nothing...");"string"==a(e)&&(e={src:e});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;e.src&&0===e.src.indexOf("//")&&(e.src=n?"https:"+e.src:"http:"+e.src),n&&e.https?e.src=e.https:!n&&e.http&&(e.src=e.http);var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e.src,"function"==a(t)&&i(r,t),o(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)}),r}},{"script-onload":185,"next-tick":57,type:47}],191:[function(e,t,n){var i=encodeURIComponent,o=decodeURIComponent,a=e("trim"),r=e("type");n.parse=function(e){if("string"!=typeof e)return{};if(""==(e=a(e)))return{};"?"==e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r,s=n[i].split("="),l=o(s[0]);(r=/(\w+)\[(\d+)\]/.exec(l))?(t[r[1]]=t[r[1]]||[],t[r[1]][r[2]]=o(s[1])):t[s[0]]=null==s[1]?"":o(s[1])}return t},n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var o=e[n];if("array"!=r(o))t.push(i(n)+"="+i(e[n]));else for(var a=0;a<o.length;++a)t.push(i(n+"["+a+"]")+"="+i(o[a]))}return t.join("&")}},{trim:54,type:47}],192:[function(e,t,n){t.exports=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}},{}],193:[function(e,t,n){var i=e("each"),o=!1,a=[];t.exports=function(e){o?s(e):a.push(e)};var r=setInterval(function(){document.body&&(o=!0,i(a,s),clearInterval(r))},5);function s(e){e(document.body)}},{each:177}],195:[function(e,t,n){function i(e){var t=e.toString();return 1===t.length?"0"+t:t}t.exports=function(e){return e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},{}],196:[function(e,t,n){t.exports=function(e,t){return t=t||{},function(n){n=[].slice.call(arguments),window[e]||(window[e]=[]),!1===t.wrap?window[e].push.apply(window[e],n):window[e].push(n)}}},{}],197:[function(e,t,n){t.exports=function(e,t){var n,i=0;return function(){var o=(new Date).getTime();return o-i>=t&&(n=e.apply(this,arguments),i=o),n}}},{}],198:[function(e,t,n){var i=e("callback");t.exports=function(e,t,n){if(e())return i.async(t);var o=setInterval(function(){e()&&(i(t),clearInterval(o))},n||10)}},{callback:12}],199:[function(e,t,n){var i=e("type");try{var o=e("clone")}catch(t){o=e("clone-component")}t.exports=function(e,t){switch(i(t)){case"object":return function(e,t){for(var n in t)void 0!==e[n]&&(e[t[n]]=e[n],delete e[n]);return e}(o(e),t);case"function":return function(e,t){var n={};for(var i in e)n[t(i)]=e[i];return n}(o(e),t)}}},{type:47,clone:49}],200:[function(e,t,n){var i=e("is");try{var o=e("clone")}catch(t){o=e("clone-component")}t.exports=function e(t,n){for(var a in t=o(t)){var r=t[a];i.date(r)&&(t[a]=n(r)),i.object(r)&&(t[a]=e(r,n))}return t}},{is:18,clone:13}],202:[function(e,t,n){var i=e("each");t.exports=function(e,t,n){return i(e,function(i,o){t=n.call(null,t,i,o,e)}),t}},{each:177}],203:[function(e,t,n){var i=e("to-space-case");t.exports=function(e){return i(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}},{"to-space-case":187}],204:[function(e,t,n){var i=e("to-function");t.exports=function(e,t){var n=[];t=i(t);for(var o=0;o<e.length;++o)t(e[o],o)&&n.push(e[o]);return n}},{"to-function":74}],205:[function(e,t,n){t.exports=function(e,t){var n={};for(var i in t)n[i]=t[i];for(var o=0;o<e.length;o++)delete n[e[o]];return n}},{}],206:[function(e,t,n){t.exports=function(e){for(var t,n=[].slice.call(arguments,1),i={},o=0;t=n[o];o++)t in e&&(i[t]=e[t]);return i}},{}],207:[function(e,t,n){var i=[].some;t.exports=function(e,t){if(i)return i.call(e,t);for(var n=0,o=e.length;n<o;++n)if(t(e[n],n))return!0;return!1}},{}],208:[function(e,t,n){t.exports=function(e,t,n){for(var i=0,o=e.length,a=3==arguments.length?n:e[i++];i<o;)a=t.call(null,a,e[i],++i,e);return a}},{}],149:[function(e,t,n){var i=e("ad-params"),o=e("clone"),a=e("cookie"),r=e("extend"),s=e("analytics.js-integration"),l=e("segmentio/json@1.0.0"),c=e("store"),d=e("protocol"),u=e("send-json"),f=e("top-domain"),p=e("utm-params"),h=e("uuid"),m={maxage:31536e6,secure:!1,path:"/"},v=n=t.exports=s("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");function g(){}n.storage=function(){return"file:"===d()||"chrome-extension:"===d()?c:a},n.global=window,v.prototype.initialize=function(){var e=this;this.ready(),this.analytics.on("invoke",function(t){var n=t.action(),i="on"+t.action();e.debug("%s %o",n,t),e[i]&&e[i](t),e.ready()})},v.prototype.loaded=function(){return!0},v.prototype.onpage=function(e){},v.prototype.onidentify=function(e){},v.prototype.ongroup=function(e){},v.prototype.ontrack=function(e){var t=e.json();delete t.traits,this.send("/analytics/track/",t)},v.prototype.onalias=function(e){},v.prototype.normalize=function(e){this.debug("normalize %o",e);var t=this.analytics.user(),i=n.global.location.search,o=e.context=e.context||e.options||{};return delete e.options,e.writeKey=this.options.apiKey,o.userAgent=navigator.userAgent,o.library||(o.library={name:"analytics.js",version:this.analytics.VERSION}),i&&(o.campaign=p(i)),this.referrerId(i,o),e.userId=e.userId||t.id(),e.anonymousId=t.anonymousId(),e.messageId=h(),e.sentAt=new Date,this.debug("normalized %o",e),e},v.prototype.send=function(e,t,n){var i=this.options.segmentUrl+e;n=n||g;var o=this;t=this.normalize(t),u(i,t,{"Content-Type":"text/plain"},function(e,a){if(o.debug("sent %O, received %O",t,arguments),e)return n(e);a.url=i,n(null,a)})},v.prototype.cookie=function(e,t){var i=v.storage();if(1===arguments.length)return i(e);var a=n.global.location.href,r="."+f(a);"."===r&&(r=""),this.debug("store domain %s -> %s",a,r);var s=o(m);s.domain=r,this.debug("store %s, %s, %o",e,t,s),i(e,t,s),i(e)||(delete s.domain,this.debug("fallback store %s, %s, %o",e,t,s),i(e,t,s))},v.prototype.referrerId=function(e,t){var n,o=this.cookie("s:context.referrer");o&&(o=l.parse(o)),e&&(n=i(e)),(n=n||o)&&(t.referrer=r(t.referrer||{},n),this.cookie("s:context.referrer",l.stringify(n)))}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(e,t,n){var i=e("querystring").parse;t.exports=function(e){var t=i(e);for(var n in t)for(var a in o)if(n===a)return{id:t[n],type:o[a]}};var o={btid:"dataxu",urid:"millennial-media"}},{querystring:27}],210:[function(e,t,n){var i,o=e("unserialize"),a=e("each");try{i=window.localStorage}catch(e){i=null}function r(e,t){var n=arguments.length;return 0==n?function(){for(var e,t=i.length,n={};0<=--t;)n[e=i.key(t)]=l(e);return n}():2<=n?s(e,t):1==n?null==e?i.clear():"string"==typeof e?l(e):"object"==_typeof(e)?a(e,s):void 0:void 0}function s(e,t){return null==t?i.removeItem(e):i.setItem(e,JSON.stringify(t))}function l(e){return o(i.getItem(e))}t.exports=r,r.supported=!!i},{unserialize:214,each:177}],214:[function(e,t,n){t.exports=function(e){try{return JSON.parse(e)}catch(t){return e||void 0}}},{}],211:[function(e,t,n){var i,o=Object.defineProperty,a=window.location.protocol;function r(e){try{o(window.location,"protocol",{get:function(){return e}})}catch(t){i=e}}t.exports=function(e){return 0===arguments.length?i||window.location.protocol:r(e)},t.exports.http=function(){r("http:")},t.exports.https=function(){r("https:")},t.exports.reset=function(){r(a)}},{}],212:[function(e,t,n){var i=e("base64-encode"),o=e("has-cors"),a=e("jsonp"),r=e("json");function s(e,t,n,i){3==arguments.length&&(i=n,n={});var o=new XMLHttpRequest;for(var a in o.onerror=i,o.onreadystatechange=function(){if(4==o.readyState)return i(null,o)},o.open("POST",e,!0),n)o.setRequestHeader(a,n[a]);o.send(r.stringify(t))}function l(e,t,o,s){3==arguments.length&&(s=o);var l=n.prefix;t=i(r.stringify(t)),t=encodeURIComponent(t),a(e+="?"+l+"="+t,{param:n.callback},function(t,n){if(t)return s(t);s(null,{url:e,body:n})})}(n=t.exports=o?s:l).callback="callback",n.prefix="data",n.json=s,n.base64=l,n.type=o?"xhr":"jsonp"},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(e,t,n){var i=e("utf8-encode"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(e){var t,n,a,r,s,l,c,d="",u=0;for(e=i(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,s=(3&t)<<4|(n=e.charCodeAt(u++))>>4,l=(15&n)<<2|(a=e.charCodeAt(u++))>>6,c=63&a,isNaN(n)?l=c=64:isNaN(a)&&(c=64),d=d+o.charAt(r)+o.charAt(s)+o.charAt(l)+o.charAt(c);return d}},{"utf8-encode":218}],218:[function(e,t,n){t.exports=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}},{}],216:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],217:[function(e,t,n){var i=e("debug")("jsonp");t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});var r,s,l=t.prefix||"__jp",c=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,u=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head,p=l+o++;function h(){r.parentNode.removeChild(r),window[p]=a}d&&(s=setTimeout(function(){h(),n&&n(new Error("Timeout"))},d)),window[p]=function(e){i("jsonp got",e),s&&clearTimeout(s),h(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+c+"="+u(p)).replace("?&","?"),i('jsonp req "%s"',e),(r=document.createElement("script")).src=e,f.parentNode.insertBefore(r,f)};var o=0;function a(){}},{debug:15}],213:[function(e,t,n){var i=e("querystring").parse;t.exports=function(e){"?"==e.charAt(0)&&(e=e.substring(1));e=e.replace(/\?/g,"&");var t,n=i(e),o={};for(var a in n)~a.indexOf("utm_")&&("campaign"==(t=a.substr(4))&&(t="name"),o[t]=n[a]);return o}},{querystring:27}],219:[function(e,t,n){t.exports=function(e){return Math.floor(e.getTime()/1e3)}},{}],5:[function(e,t,n){t.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}),"object"===_typeof(exports)?module.exports=_require("1"):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _require("1")}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(23))},function(e,t,n){"use strict";n(46),n(24),n(122),n(68),n(165),n(32),n(3),n(9),n(8),n(34),n(67),n(62),n(60),n(22),n(45),n(44),n(28),n(59),n(69),n(18),n(65),n(64),n(14),n(33),n(49)},,,,,,,,function(e,t,n){var i={"./ajax":5,"./ajax.js":5,"./ajax_upload":110,"./ajax_upload.js":110,"./ajax_webview":108,"./ajax_webview.js":108,"./analytics":8,"./analytics.js":8,"./app_version":64,"./app_version.js":64,"./autosave":45,"./autosave.js":45,"./branch":34,"./branch.js":34,"./btooltip":55,"./btooltip.js":55,"./content_type":60,"./content_type.js":60,"./cookies":69,"./cookies.js":69,"./creation_modal":107,"./creation_modal.js":107,"./csrf":62,"./csrf.js":62,"./cursor":33,"./cursor.js":33,"./email_validator":82,"./email_validator.js":82,"./flags":28,"./flags.js":28,"./global":3,"./global.js":3,"./jquery_custom_plugins":32,"./jquery_custom_plugins.js":32,"./latex":22,"./latex.js":22,"./mathjax_loader":18,"./mathjax_loader.js":18,"./modal_helpers":59,"./modal_helpers.js":59,"./onload":49,"./onload.js":49,"./pager":43,"./pager.js":43,"./polyfills":67,"./polyfills.js":67,"./popstate":48,"./popstate.js":48,"./sharing":66,"./sharing.js":66,"./sticky":44,"./sticky.js":44,"./tag":57,"./tag.js":57,"./text_formatter":65,"./text_formatter.js":65,"./ui":9,"./ui.js":9,"./urls":14,"./urls.js":14,"./webview":106,"./webview.js":106};function o(e){var t=a(e);return n(t)}function a(e){var t=i[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=174},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,function(e,t,n){var i={"./":104,"./account":164,"./account.js":164,"./codex":63,"./codex.js":63,"./codex_codemirror":103,"./codex_codemirror.js":103,"./comments":26,"./comments.js":26,"./content_modal":15,"./content_modal.js":15,"./discussions":56,"./discussions.js":56,"./disputes":101,"./disputes.js":101,"./educator_bios":161,"./educator_bios.js":161,"./error_modal":11,"./error_modal.js":11,"./front_chat":100,"./front_chat.js":100,"./generic_controllers":7,"./generic_controllers.js":7,"./glossary":160,"./glossary.js":160,"./groups":159,"./groups.js":159,"./header":99,"./header.js":99,"./image_gallery":158,"./image_gallery.js":158,"./index":104,"./index.js":104,"./infiniti_challenge":157,"./infiniti_challenge.js":157,"./instant_response":98,"./instant_response.js":98,"./leaderboard":84,"./leaderboard.js":84,"./login":83,"./login.js":83,"./mentions":36,"./mentions.js":36,"./mini_profiles":81,"./mini_profiles.js":81,"./moderators":121,"./moderators.js":121,"./newsfeed":80,"./newsfeed.js":80,"./notifications":79,"./notifications.js":79,"./nux":78,"./nux.js":78,"./paid":35,"./paid.js":35,"./practice":119,"./practice.js":119,"./preloaders":31,"./preloaders.js":31,"./pro":118,"./pro.js":118,"./profile":117,"./profile.js":117,"./qanda":116,"./qanda.js":116,"./quiz":115,"./quiz.js":115,"./save_to_group":77,"./save_to_group.js":77,"./search":76,"./search.js":76,"./sets":17,"./sets.js":17,"./signup":75,"./signup.js":75,"./solution_discussions":47,"./solution_discussions.js":47,"./solvables":21,"./solvables.js":21,"./stats/controllers":114,"./stats/controllers.js":114,"./stats/example_data":73,"./stats/example_data.js":73,"./stats/single_topic":74,"./stats/single_topic.js":74,"./system_msgs":61,"./system_msgs.js":61,"./teacherclass":113,"./teacherclass.js":113,"./testimonials":112,"./testimonials.js":112,"./user_levels":72,"./user_levels.js":72,"./videos":71,"./videos.js":71,"./visualizations":70,"./visualizations.js":70,"./wiki":111,"./wiki.js":111,"./zoomable":58,"./zoomable.js":58};function o(e){var t=a(e);return n(t)}function a(e){var t=i[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=269}]]);
//# sourceMappingURL=brilliant_commons.js.map?b8f18a047c9725fbb612